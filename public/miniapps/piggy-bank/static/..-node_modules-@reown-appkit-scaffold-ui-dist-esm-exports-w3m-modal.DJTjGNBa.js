import{N as e,u as t,v as i,R as o,S as n,b as a,c as r,E as s,x as c,y as l,j as d,B as u,a as p,z as h,D as m,F as w,o as g,G as y,C as f,I as v,J as b,M as k,K as x,e as T,r as S,i as A,d as $,k as P,w as C,P as I,L as E,Q as N,U as R,H as O,O as z,V as D,h as U,X as W,t as j,f as B,A as F,T as L,Y as q,Z as _}from"./core.BNsDNPBu.js";import{c as M,n as H,o as V,r as K,a as Q,U as G,b as Y}from"./index.Dk4jvzj0.js";import"./piggy.DkTaJKTi.js";import"./index-BF4KRMCJ.js";import"./vue-vendor.DLq4fjsJ.js";const X={getGasPriceInEther:(e,t)=>Number(t*e)/1e18,getGasPriceInUSD(t,i,o){const n=X.getGasPriceInEther(i,o);return e.bigNumber(t).times(n).toNumber()},getPriceImpact({sourceTokenAmount:t,sourceTokenPriceInUSD:i,toTokenPriceInUSD:o,toTokenAmount:n}){const a=e.bigNumber(t).times(i),r=e.bigNumber(n).times(o);return a.minus(r).div(a).times(100).toNumber()},getMaxSlippage(t,i){const o=e.bigNumber(t).div(100);return e.multiply(i,o).toNumber()},getProviderFee:(t,i=.0085)=>e.bigNumber(t).times(i).toString(),isInsufficientNetworkTokenForGas(t,i){const o=i||"0";return!!e.bigNumber(t).eq(0)||e.bigNumber(e.bigNumber(o)).gt(t)},isInsufficientSourceTokenForSwap(t,i,o){var n,a;const r=null==(a=null==(n=null==o?void 0:o.find(e=>e.address===i))?void 0:n.quantity)?void 0:a.numeric;return e.bigNumber(r||"0").lt(t)}},Z=15e4,J={initializing:!1,initialized:!1,loadingPrices:!1,loadingQuote:!1,loadingApprovalTransaction:!1,loadingBuildTransaction:!1,loadingTransaction:!1,switchingTokens:!1,fetchError:!1,approvalTransaction:void 0,swapTransaction:void 0,transactionError:void 0,sourceToken:void 0,sourceTokenAmount:"",sourceTokenPriceInUSD:0,toToken:void 0,toTokenAmount:"",toTokenPriceInUSD:0,networkPrice:"0",networkBalanceInUSD:"0",networkTokenSymbol:"",inputError:void 0,slippage:g.CONVERT_SLIPPAGE_TOLERANCE,tokens:void 0,popularTokens:void 0,suggestedTokens:void 0,foundTokens:void 0,myTokensWithBalance:void 0,tokensPriceMap:{},gasFee:"0",gasPriceInUSD:0,priceImpact:void 0,maxSlippage:void 0,providerFee:void 0},ee=i({...J}),te={state:ee,subscribe:e=>b(ee,()=>e(ee)),subscribeKey:(e,t)=>v(ee,e,t),getParams(){var t,i,o,n,a,s,c,l,u;const h=d.state.activeChain,m=(null==(t=d.getAccountData(h))?void 0:t.caipAddress)??d.state.activeCaipAddress,w=p.getPlainAddress(m),g=y(),v=f.getConnectorId(d.state.activeChain);if(!w)throw new Error("No address found to swap the tokens from.");const b=!(null==(i=ee.toToken)?void 0:i.address)||!(null==(o=ee.toToken)?void 0:o.decimals),k=!(null==(n=ee.sourceToken)?void 0:n.address)||!(null==(a=ee.sourceToken)?void 0:a.decimals)||!e.bigNumber(ee.sourceTokenAmount).gt(0),x=!ee.sourceTokenAmount;return{networkAddress:g,fromAddress:w,fromCaipAddress:m,sourceTokenAddress:null==(s=ee.sourceToken)?void 0:s.address,toTokenAddress:null==(c=ee.toToken)?void 0:c.address,toTokenAmount:ee.toTokenAmount,toTokenDecimals:null==(l=ee.toToken)?void 0:l.decimals,sourceTokenAmount:ee.sourceTokenAmount,sourceTokenDecimals:null==(u=ee.sourceToken)?void 0:u.decimals,invalidToToken:b,invalidSourceToken:k,invalidSourceTokenAmount:x,availableToSwap:m&&!b&&!k&&!x,isAuthConnector:v===r.CONNECTOR_ID.AUTH}},async setSourceToken(e){if(!e)return ee.sourceToken=e,ee.sourceTokenAmount="",void(ee.sourceTokenPriceInUSD=0);ee.sourceToken=e,await ie.setTokenPrice(e.address,"sourceToken")},setSourceTokenAmount(e){ee.sourceTokenAmount=e},async setToToken(e){if(!e)return ee.toToken=e,ee.toTokenAmount="",void(ee.toTokenPriceInUSD=0);ee.toToken=e,await ie.setTokenPrice(e.address,"toToken")},setToTokenAmount(t){ee.toTokenAmount=t?e.toFixed(t,6):""},async setTokenPrice(e,t){let i=ee.tokensPriceMap[e]||0;i||(ee.loadingPrices=!0,i=await ie.getAddressPrice(e)),"sourceToken"===t?ee.sourceTokenPriceInUSD=i:"toToken"===t&&(ee.toTokenPriceInUSD=i),ee.loadingPrices&&(ee.loadingPrices=!1),ie.getParams().availableToSwap&&!ee.switchingTokens&&ie.swapTokens()},async switchTokens(){if(!ee.initializing&&ee.initialized&&!ee.switchingTokens){ee.switchingTokens=!0;try{const e=ee.toToken?{...ee.toToken}:void 0,t=ee.sourceToken?{...ee.sourceToken}:void 0,i=e&&""===ee.toTokenAmount?"1":ee.toTokenAmount;ie.setSourceTokenAmount(i),ie.setToTokenAmount(""),await ie.setSourceToken(e),await ie.setToToken(t),ee.switchingTokens=!1,ie.swapTokens()}catch(e){throw ee.switchingTokens=!1,e}}},resetState(){ee.myTokensWithBalance=J.myTokensWithBalance,ee.tokensPriceMap=J.tokensPriceMap,ee.initialized=J.initialized,ee.initializing=J.initializing,ee.switchingTokens=J.switchingTokens,ee.sourceToken=J.sourceToken,ee.sourceTokenAmount=J.sourceTokenAmount,ee.sourceTokenPriceInUSD=J.sourceTokenPriceInUSD,ee.toToken=J.toToken,ee.toTokenAmount=J.toTokenAmount,ee.toTokenPriceInUSD=J.toTokenPriceInUSD,ee.networkPrice=J.networkPrice,ee.networkTokenSymbol=J.networkTokenSymbol,ee.networkBalanceInUSD=J.networkBalanceInUSD,ee.inputError=J.inputError},resetValues(){var e;const{networkAddress:t}=ie.getParams(),i=null==(e=ee.tokens)?void 0:e.find(e=>e.address===t);ie.setSourceToken(i),ie.setToToken(void 0)},getApprovalLoadingState:()=>ee.loadingApprovalTransaction,clearError(){ee.transactionError=void 0},async initializeState(){if(!ee.initializing){if(ee.initializing=!0,!ee.initialized)try{await ie.fetchTokens(),ee.initialized=!0}catch(e){ee.initialized=!1,n.showError("Failed to initialize swap"),o.goBack()}ee.initializing=!1}},async fetchTokens(){var e;const{networkAddress:t}=ie.getParams();await ie.getNetworkTokenPrice(),await ie.getMyTokensWithBalance();const i=null==(e=ee.myTokensWithBalance)?void 0:e.find(e=>e.address===t);i&&(ee.networkTokenSymbol=i.symbol,ie.setSourceToken(i),ie.setSourceTokenAmount("0"))},async getTokenList(){var e,t;const i=null==(e=d.state.activeCaipNetwork)?void 0:e.caipNetworkId;if(ee.caipNetworkId!==i||!ee.tokens)try{ee.tokensLoading=!0;const e=await h.getTokenList(i);ee.tokens=e,ee.caipNetworkId=i,ee.popularTokens=e.sort((e,t)=>e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0);const o=(i&&(null==(t=g.SUGGESTED_TOKENS_BY_CHAIN)?void 0:t[i])||[]).map(t=>e.find(e=>e.symbol===t)).filter(e=>Boolean(e)),n=(g.SWAP_SUGGESTED_TOKENS||[]).map(t=>e.find(e=>e.symbol===t)).filter(e=>Boolean(e)).filter(e=>!o.some(t=>t.address===e.address));ee.suggestedTokens=[...o,...n]}catch(o){ee.tokens=[],ee.popularTokens=[],ee.suggestedTokens=[]}finally{ee.tokensLoading=!1}},async getAddressPrice(e){var t,i;const o=ee.tokensPriceMap[e];if(o)return o;const n=await u.fetchTokenPrice({addresses:[e]}),a=(null==n?void 0:n.fungibles)||[],r=[...ee.tokens||[],...ee.myTokensWithBalance||[]],s=null==(t=null==r?void 0:r.find(t=>t.address===e))?void 0:t.symbol,c=(null==(i=a.find(e=>e.symbol.toLowerCase()===(null==s?void 0:s.toLowerCase())))?void 0:i.price)||0,l=parseFloat(c.toString());return ee.tokensPriceMap[e]=l,l},async getNetworkTokenPrice(){var e;const{networkAddress:t}=ie.getParams(),i=null==(e=(await u.fetchTokenPrice({addresses:[t]}).catch(()=>(n.showError("Failed to fetch network token price"),{fungibles:[]}))).fungibles)?void 0:e[0],o=(null==i?void 0:i.price.toString())||"0";ee.tokensPriceMap[t]=parseFloat(o),ee.networkTokenSymbol=(null==i?void 0:i.symbol)||"",ee.networkPrice=o},async getMyTokensWithBalance(e){var t;const i=await w.getMyTokensWithBalance({forceUpdate:e,caipNetwork:d.state.activeCaipNetwork,address:null==(t=d.getAccountData())?void 0:t.address}),o=h.mapBalancesToSwapTokens(i);o&&(await ie.getInitialGasPrice(),ie.setBalances(o))},setBalances(t){const{networkAddress:i}=ie.getParams(),o=d.state.activeCaipNetwork;if(!o)return;const n=t.find(e=>e.address===i);t.forEach(e=>{ee.tokensPriceMap[e.address]=e.price||0}),ee.myTokensWithBalance=t.filter(e=>e.address.startsWith(o.caipNetworkId)),ee.networkBalanceInUSD=n?e.multiply(n.quantity.numeric,n.price).toString():"0"},async getInitialGasPrice(){var t,i;const o=await h.fetchGasPrice();if(!o)return{gasPrice:null,gasPriceInUSD:null};switch(null==(i=null==(t=d.state)?void 0:t.activeCaipNetwork)?void 0:i.chainNamespace){case r.CHAIN.SOLANA:return ee.gasFee=o.standard??"0",ee.gasPriceInUSD=e.multiply(o.standard,ee.networkPrice).div(1e9).toNumber(),{gasPrice:BigInt(ee.gasFee),gasPriceInUSD:Number(ee.gasPriceInUSD)};case r.CHAIN.EVM:default:const t=o.standard??"0",i=BigInt(t),n=BigInt(Z),a=X.getGasPriceInUSD(ee.networkPrice,n,i);return ee.gasFee=t,ee.gasPriceInUSD=a,{gasPrice:i,gasPriceInUSD:a}}},async swapTokens(){var t,i,o;const n=null==(t=d.getAccountData())?void 0:t.address,a=ee.sourceToken,r=ee.toToken,s=e.bigNumber(ee.sourceTokenAmount).gt(0);if(s||ie.setToTokenAmount(""),!r||!a||ee.loadingPrices||!s||!n)return;ee.loadingQuote=!0;const c=e.bigNumber(ee.sourceTokenAmount).times(10**a.decimals).round(0).toFixed(0);try{const t=await u.fetchSwapQuote({userAddress:n,from:a.address,to:r.address,gasPrice:ee.gasFee,amount:c.toString()});ee.loadingQuote=!1;const s=null==(o=null==(i=null==t?void 0:t.quotes)?void 0:i[0])?void 0:o.toAmount;if(!s)return void m.open({displayMessage:"Incorrect amount",debugMessage:"Please enter a valid amount"},"error");const l=e.bigNumber(s).div(10**r.decimals).toString();ie.setToTokenAmount(l);ie.hasInsufficientToken(ee.sourceTokenAmount,a.address)?ee.inputError="Insufficient balance":(ee.inputError=void 0,ie.setTransactionDetails())}catch(l){const e=await h.handleSwapError(l);ee.loadingQuote=!1,ee.inputError=e||"Insufficient balance"}},async getTransaction(){const{fromCaipAddress:e,availableToSwap:t}=ie.getParams(),i=ee.sourceToken,a=ee.toToken;if(e&&t&&i&&a&&!ee.loadingQuote)try{ee.loadingBuildTransaction=!0;let t;return t=await h.fetchSwapAllowance({userAddress:e,tokenAddress:i.address,sourceTokenAmount:ee.sourceTokenAmount,sourceTokenDecimals:i.decimals})?await ie.createSwapTransaction():await ie.createAllowanceTransaction(),ee.loadingBuildTransaction=!1,ee.fetchError=!1,t}catch(r){return o.goBack(),n.showError("Failed to check allowance"),ee.loadingBuildTransaction=!1,ee.approvalTransaction=void 0,ee.swapTransaction=void 0,void(ee.fetchError=!0)}},async createAllowanceTransaction(){const{fromCaipAddress:e,sourceTokenAddress:t,toTokenAddress:i}=ie.getParams();if(e&&i){if(!t)throw new Error("createAllowanceTransaction - No source token address found.");try{const o=await u.generateApproveCalldata({from:t,to:i,userAddress:e}),n=p.getPlainAddress(o.tx.from);if(!n)throw new Error("SwapController:createAllowanceTransaction - address is required");const a={data:o.tx.data,to:n,gasPrice:BigInt(o.tx.eip155.gasPrice),value:BigInt(o.tx.value),toAmount:ee.toTokenAmount};return ee.swapTransaction=void 0,ee.approvalTransaction={data:a.data,to:a.to,gasPrice:a.gasPrice,value:a.value,toAmount:a.toAmount},{data:a.data,to:a.to,gasPrice:a.gasPrice,value:a.value,toAmount:a.toAmount}}catch(a){return o.goBack(),n.showError("Failed to create approval transaction"),ee.approvalTransaction=void 0,ee.swapTransaction=void 0,void(ee.fetchError=!0)}}},async createSwapTransaction(){var e;const{networkAddress:t,fromCaipAddress:i,sourceTokenAmount:r}=ie.getParams(),s=ee.sourceToken,c=ee.toToken;if(!(i&&r&&s&&c))return;const l=null==(e=a.parseUnits(r,s.decimals))?void 0:e.toString();try{const e=await u.generateSwapCalldata({userAddress:i,from:s.address,to:c.address,amount:l,disableEstimate:!0}),o=s.address===t,n=BigInt(e.tx.eip155.gas),a=BigInt(e.tx.eip155.gasPrice),r=p.getPlainAddress(e.tx.to);if(!r)throw new Error("SwapController:createSwapTransaction - address is required");const d={data:e.tx.data,to:r,gas:n,gasPrice:a,value:o?BigInt(l??"0"):BigInt("0"),toAmount:ee.toTokenAmount};return ee.gasPriceInUSD=X.getGasPriceInUSD(ee.networkPrice,n,a),ee.approvalTransaction=void 0,ee.swapTransaction=d,d}catch(d){return o.goBack(),n.showError("Failed to create transaction"),ee.approvalTransaction=void 0,ee.swapTransaction=void 0,void(ee.fetchError=!0)}},onEmbeddedWalletApprovalSuccess(){n.showLoading("Approve limit increase in your wallet"),o.replace("SwapPreview")},async sendTransactionForApproval(e){var t,i,u;const{fromAddress:p,isAuthConnector:h}=ie.getParams();ee.loadingApprovalTransaction=!0;h?o.pushTransactionStack({onSuccess:ie.onEmbeddedWalletApprovalSuccess}):n.showLoading("Approve limit increase in your wallet");try{await a.sendTransaction({address:p,to:e.to,data:e.data,value:e.value,chainNamespace:r.CHAIN.EVM}),await ie.swapTokens(),await ie.getTransaction(),ee.approvalTransaction=void 0,ee.loadingApprovalTransaction=!1}catch(m){const e=m;ee.transactionError=null==e?void 0:e.displayMessage,ee.loadingApprovalTransaction=!1,n.showError((null==e?void 0:e.displayMessage)||"Transaction error"),s.sendEvent({type:"track",event:"SWAP_APPROVAL_ERROR",properties:{message:(null==e?void 0:e.displayMessage)||(null==e?void 0:e.message)||"Unknown",network:(null==(t=d.state.activeCaipNetwork)?void 0:t.caipNetworkId)||"",swapFromToken:(null==(i=ie.state.sourceToken)?void 0:i.symbol)||"",swapToToken:(null==(u=ie.state.toToken)?void 0:u.symbol)||"",swapFromAmount:ie.state.sourceTokenAmount||"",swapToAmount:ie.state.toTokenAmount||"",isSmartAccount:c(r.CHAIN.EVM)===l.ACCOUNT_TYPES.SMART_ACCOUNT}})}},async sendTransactionForSwap(t){var i,u,p,h,m,w,g,y,f,v,b,k;if(!t)return;const{fromAddress:x,toTokenAmount:T,isAuthConnector:S}=ie.getParams();ee.loadingTransaction=!0;const A=`Swapping ${null==(i=ee.sourceToken)?void 0:i.symbol} to ${e.formatNumberToLocalString(T,3)} ${null==(u=ee.toToken)?void 0:u.symbol}`,$=`Swapped ${null==(p=ee.sourceToken)?void 0:p.symbol} to ${e.formatNumberToLocalString(T,3)} ${null==(h=ee.toToken)?void 0:h.symbol}`;S?o.pushTransactionStack({onSuccess(){o.replace("Account"),n.showLoading(A),te.resetState()}}):n.showLoading("Confirm transaction in your wallet");try{const e=[null==(m=ee.sourceToken)?void 0:m.address,null==(w=ee.toToken)?void 0:w.address].join(","),i=await a.sendTransaction({address:x,to:t.to,data:t.data,value:t.value,chainNamespace:r.CHAIN.EVM});return ee.loadingTransaction=!1,n.showSuccess($),s.sendEvent({type:"track",event:"SWAP_SUCCESS",properties:{network:(null==(g=d.state.activeCaipNetwork)?void 0:g.caipNetworkId)||"",swapFromToken:(null==(y=ie.state.sourceToken)?void 0:y.symbol)||"",swapToToken:(null==(f=ie.state.toToken)?void 0:f.symbol)||"",swapFromAmount:ie.state.sourceTokenAmount||"",swapToAmount:ie.state.toTokenAmount||"",isSmartAccount:c(r.CHAIN.EVM)===l.ACCOUNT_TYPES.SMART_ACCOUNT}}),te.resetState(),S||o.replace("Account"),te.getMyTokensWithBalance(e),i}catch(P){const e=P;return ee.transactionError=null==e?void 0:e.displayMessage,ee.loadingTransaction=!1,n.showError((null==e?void 0:e.displayMessage)||"Transaction error"),void s.sendEvent({type:"track",event:"SWAP_ERROR",properties:{message:(null==e?void 0:e.displayMessage)||(null==e?void 0:e.message)||"Unknown",network:(null==(v=d.state.activeCaipNetwork)?void 0:v.caipNetworkId)||"",swapFromToken:(null==(b=ie.state.sourceToken)?void 0:b.symbol)||"",swapToToken:(null==(k=ie.state.toToken)?void 0:k.symbol)||"",swapFromAmount:ie.state.sourceTokenAmount||"",swapToAmount:ie.state.toTokenAmount||"",isSmartAccount:c(r.CHAIN.EVM)===l.ACCOUNT_TYPES.SMART_ACCOUNT}})}},hasInsufficientToken:(e,t)=>X.isInsufficientSourceTokenForSwap(e,t,ee.myTokensWithBalance),setTransactionDetails(){const{toTokenAddress:e,toTokenDecimals:t}=ie.getParams();e&&t&&(ee.gasPriceInUSD=X.getGasPriceInUSD(ee.networkPrice,BigInt(ee.gasFee),BigInt(Z)),ee.priceImpact=X.getPriceImpact({sourceTokenAmount:ee.sourceTokenAmount,sourceTokenPriceInUSD:ee.sourceTokenPriceInUSD,toTokenPriceInUSD:ee.toTokenPriceInUSD,toTokenAmount:ee.toTokenAmount}),ee.maxSlippage=X.getMaxSlippage(ee.slippage,ee.toTokenAmount),ee.providerFee=X.getProviderFee(ee.sourceTokenAmount))}},ie=t(te),oe=i({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),ne=t({state:oe,subscribe:e=>b(oe,()=>e(oe)),subscribeKey:(e,t)=>v(oe,e,t),showTooltip({message:e,triggerRect:t,variant:i}){oe.open=!0,oe.message=e,oe.triggerRect=t,oe.variant=i},hide(){oe.open=!1,oe.message="",oe.triggerRect={width:0,height:0,top:0,left:0}}}),ae={isUnsupportedChainView:()=>"UnsupportedChain"===o.state.view||"SwitchNetwork"===o.state.view&&o.state.history.includes("UnsupportedChain"),async safeClose(){if(this.isUnsupportedChainView())return void k.shake();await x.isSIWXCloseDisabled()?k.shake():("DataCapture"!==o.state.view&&"DataCaptureOtpConfirm"!==o.state.view||a.disconnect(),k.close())}},re={interpolate(e,t,i){if(2!==e.length||2!==t.length)throw new Error("inputRange and outputRange must be an array of length 2");const o=e[0]||0,n=e[1]||0,a=t[0]||0,r=t[1]||0;return i<o?a:i>n?r:(r-a)/(n-o)*(i-o)+a}},se=T`
  :host {
    display: block;
    border-radius: clamp(0px, ${({borderRadius:e})=>e[8]}, 44px);
    box-shadow: 0 0 0 1px ${({tokens:e})=>e.theme.foregroundPrimary};
    overflow: hidden;
  }
`;let ce=class extends A{render(){return $`<slot></slot>`}};ce.styles=[S,se],ce=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r}([M("wui-card")],ce);const le=T`
  :host {
    width: 100%;
  }

  :host > wui-flex {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: ${({spacing:e})=>e[2]};
    padding: ${({spacing:e})=>e[3]};
    border-radius: ${({borderRadius:e})=>e[6]};
    border: 1px solid ${({tokens:e})=>e.theme.borderPrimary};
    box-sizing: border-box;
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  :host > wui-flex[data-type='info'] {
    .icon-box {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};

      wui-icon {
        color: ${({tokens:e})=>e.theme.iconDefault};
      }
    }
  }
  :host > wui-flex[data-type='success'] {
    .icon-box {
      background-color: ${({tokens:e})=>e.core.backgroundSuccess};

      wui-icon {
        color: ${({tokens:e})=>e.core.borderSuccess};
      }
    }
  }
  :host > wui-flex[data-type='warning'] {
    .icon-box {
      background-color: ${({tokens:e})=>e.core.backgroundWarning};

      wui-icon {
        color: ${({tokens:e})=>e.core.borderWarning};
      }
    }
  }
  :host > wui-flex[data-type='error'] {
    .icon-box {
      background-color: ${({tokens:e})=>e.core.backgroundError};

      wui-icon {
        color: ${({tokens:e})=>e.core.borderError};
      }
    }
  }

  wui-flex {
    width: 100%;
  }

  wui-text {
    word-break: break-word;
    flex: 1;
  }

  .close {
    cursor: pointer;
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  .icon-box {
    height: 40px;
    width: 40px;
    border-radius: ${({borderRadius:e})=>e[2]};
    background-color: var(--local-icon-bg-value);
  }
`;var de=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};const ue={info:"info",success:"checkmark",warning:"warningCircle",error:"warning"};let pe=class extends A{constructor(){super(...arguments),this.message="",this.type="info"}render(){return $`
      <wui-flex
        data-type=${V(this.type)}
        flexDirection="row"
        justifyContent="space-between"
        alignItems="center"
        gap="2"
      >
        <wui-flex columnGap="2" flexDirection="row" alignItems="center">
          <wui-flex
            flexDirection="row"
            alignItems="center"
            justifyContent="center"
            class="icon-box"
          >
            <wui-icon color="inherit" size="md" name=${ue[this.type]}></wui-icon>
          </wui-flex>
          <wui-text variant="md-medium" color="inherit" data-testid="wui-alertbar-text"
            >${this.message}</wui-text
          >
        </wui-flex>
        <wui-icon
          class="close"
          color="inherit"
          size="sm"
          name="close"
          @click=${this.onClose}
        ></wui-icon>
      </wui-flex>
    `}onClose(){m.close()}};pe.styles=[S,le],de([H()],pe.prototype,"message",void 0),de([H()],pe.prototype,"type",void 0),pe=de([M("wui-alertbar")],pe);const he=T`
  :host {
    display: block;
    position: absolute;
    top: ${({spacing:e})=>e[3]};
    left: ${({spacing:e})=>e[4]};
    right: ${({spacing:e})=>e[4]};
    opacity: 0;
    pointer-events: none;
  }
`;var me=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};const we={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"warning"}};let ge=class extends A{constructor(){super(),this.unsubscribe=[],this.open=m.state.open,this.onOpen(!0),this.unsubscribe.push(m.subscribeKey("open",e=>{this.open=e,this.onOpen(!1)}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:t}=m.state,i=we[t];return $`
      <wui-alertbar
        message=${e}
        backgroundColor=${null==i?void 0:i.backgroundColor}
        iconColor=${null==i?void 0:i.iconColor}
        icon=${null==i?void 0:i.icon}
        type=${t}
      ></wui-alertbar>
    `}onOpen(e){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):e||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}};ge.styles=he,me([K()],ge.prototype,"open",void 0),ge=me([M("w3m-alertbar")],ge);const ye=T`
  :host {
    position: relative;
  }

  button {
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: transparent;
    padding: ${({spacing:e})=>e[1]};
  }

  /* -- Colors --------------------------------------------------- */
  button[data-type='accent'] wui-icon {
    color: ${({tokens:e})=>e.core.iconAccentPrimary};
  }

  button[data-type='neutral'][data-variant='primary'] wui-icon {
    color: ${({tokens:e})=>e.theme.iconInverse};
  }

  button[data-type='neutral'][data-variant='secondary'] wui-icon {
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  button[data-type='success'] wui-icon {
    color: ${({tokens:e})=>e.core.iconSuccess};
  }

  button[data-type='error'] wui-icon {
    color: ${({tokens:e})=>e.core.iconError};
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='xs'] {
    width: 16px;
    height: 16px;

    border-radius: ${({borderRadius:e})=>e[1]};
  }

  button[data-size='sm'] {
    width: 20px;
    height: 20px;
    border-radius: ${({borderRadius:e})=>e[1]};
  }

  button[data-size='md'] {
    width: 24px;
    height: 24px;
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  button[data-size='lg'] {
    width: 28px;
    height: 28px;
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  button[data-size='xs'] wui-icon {
    width: 8px;
    height: 8px;
  }

  button[data-size='sm'] wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='md'] wui-icon {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] wui-icon {
    width: 20px;
    height: 20px;
  }

  /* -- Hover --------------------------------------------------- */
  @media (hover: hover) {
    button[data-type='accent']:hover:enabled {
      background-color: ${({tokens:e})=>e.core.foregroundAccent010};
    }

    button[data-variant='primary'][data-type='neutral']:hover:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }

    button[data-variant='secondary'][data-type='neutral']:hover:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }

    button[data-type='success']:hover:enabled {
      background-color: ${({tokens:e})=>e.core.backgroundSuccess};
    }

    button[data-type='error']:hover:enabled {
      background-color: ${({tokens:e})=>e.core.backgroundError};
    }
  }

  /* -- Focus --------------------------------------------------- */
  button:focus-visible {
    box-shadow: 0 0 0 4px ${({tokens:e})=>e.core.foregroundAccent020};
  }

  /* -- Properties --------------------------------------------------- */
  button[data-full-width='true'] {
    width: 100%;
  }

  :host([fullWidth]) {
    width: 100%;
  }

  button[disabled] {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;var fe=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let ve=class extends A{constructor(){super(...arguments),this.icon="card",this.variant="primary",this.type="accent",this.size="md",this.iconSize=void 0,this.fullWidth=!1,this.disabled=!1}render(){return $`<button
      data-variant=${this.variant}
      data-type=${this.type}
      data-size=${this.size}
      data-full-width=${this.fullWidth}
      ?disabled=${this.disabled}
    >
      <wui-icon color="inherit" name=${this.icon} size=${V(this.iconSize)}></wui-icon>
    </button>`}};ve.styles=[S,P,ye],fe([H()],ve.prototype,"icon",void 0),fe([H()],ve.prototype,"variant",void 0),fe([H()],ve.prototype,"type",void 0),fe([H()],ve.prototype,"size",void 0),fe([H()],ve.prototype,"iconSize",void 0),fe([H({type:Boolean})],ve.prototype,"fullWidth",void 0),fe([H({type:Boolean})],ve.prototype,"disabled",void 0),ve=fe([M("wui-icon-button")],ve);const be=T`
  button {
    display: block;
    display: flex;
    align-items: center;
    padding: ${({spacing:e})=>e[1]};
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color;
    border-radius: ${({borderRadius:e})=>e[32]};
  }

  wui-image {
    border-radius: 100%;
  }

  wui-text {
    padding-left: ${({spacing:e})=>e[1]};
  }

  .left-icon-container,
  .right-icon-container {
    width: 24px;
    height: 24px;
    justify-content: center;
    align-items: center;
  }

  wui-icon {
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='lg'] {
    height: 32px;
  }

  button[data-size='md'] {
    height: 28px;
  }

  button[data-size='sm'] {
    height: 24px;
  }

  button[data-size='lg'] wui-image {
    width: 24px;
    height: 24px;
  }

  button[data-size='md'] wui-image {
    width: 20px;
    height: 20px;
  }

  button[data-size='sm'] wui-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] .left-icon-container {
    width: 24px;
    height: 24px;
  }

  button[data-size='md'] .left-icon-container {
    width: 20px;
    height: 20px;
  }

  button[data-size='sm'] .left-icon-container {
    width: 16px;
    height: 16px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-type='filled-dropdown'] {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  button[data-type='text-dropdown'] {
    background-color: transparent;
  }

  /* -- Focus states --------------------------------------------------- */
  button:focus-visible:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    box-shadow: 0 0 0 4px ${({tokens:e})=>e.core.foregroundAccent040};
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled,
    button:active:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
  }

  /* -- Disabled states --------------------------------------------------- */
  button:disabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    opacity: 0.5;
  }
`;var ke=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};const xe={lg:"lg-regular",md:"md-regular",sm:"sm-regular"},Te={lg:"lg",md:"md",sm:"sm"};let Se=class extends A{constructor(){super(...arguments),this.imageSrc="",this.text="",this.size="lg",this.type="text-dropdown",this.disabled=!1}render(){return $`<button ?disabled=${this.disabled} data-size=${this.size} data-type=${this.type}>
      ${this.imageTemplate()} ${this.textTemplate()}
      <wui-flex class="right-icon-container">
        <wui-icon name="chevronBottom"></wui-icon>
      </wui-flex>
    </button>`}textTemplate(){const e=xe[this.size];return this.text?$`<wui-text color="primary" variant=${e}>${this.text}</wui-text>`:null}imageTemplate(){if(this.imageSrc)return $`<wui-image src=${this.imageSrc} alt="select visual"></wui-image>`;const e=Te[this.size];return $` <wui-flex class="left-icon-container">
      <wui-icon size=${e} name="networkPlaceholder"></wui-icon>
    </wui-flex>`}};Se.styles=[S,P,be],ke([H()],Se.prototype,"imageSrc",void 0),ke([H()],Se.prototype,"text",void 0),ke([H()],Se.prototype,"size",void 0),ke([H()],Se.prototype,"type",void 0),ke([H({type:Boolean})],Se.prototype,"disabled",void 0),Se=ke([M("wui-select")],Se);const Ae={ACCOUNT_TABS:[{label:"Tokens"},{label:"Activity"}],VIEW_DIRECTION:{Next:"next",Prev:"prev"},ANIMATION_DURATIONS:{HeaderText:120},VIEWS_WITH_LEGAL_FOOTER:["Connect","ConnectWallets","OnRampTokenSelect","OnRampFiatSelect","OnRampProviders"],VIEWS_WITH_DEFAULT_FOOTER:["Networks"]},$e=T`
  button {
    background-color: transparent;
    padding: ${({spacing:e})=>e[1]};
  }

  button:focus-visible {
    box-shadow: 0 0 0 4px ${({tokens:e})=>e.core.foregroundAccent020};
  }

  button[data-variant='accent']:hover:enabled,
  button[data-variant='accent']:focus-visible {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  button[data-variant='primary']:hover:enabled,
  button[data-variant='primary']:focus-visible,
  button[data-variant='secondary']:hover:enabled,
  button[data-variant='secondary']:focus-visible {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  button[data-size='xs'] > wui-icon {
    width: 8px;
    height: 8px;
  }

  button[data-size='sm'] > wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='xs'],
  button[data-size='sm'] {
    border-radius: ${({borderRadius:e})=>e[1]};
  }

  button[data-size='md'],
  button[data-size='lg'] {
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  button[data-size='md'] > wui-icon {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] > wui-icon {
    width: 20px;
    height: 20px;
  }

  button:disabled {
    background-color: transparent;
    cursor: not-allowed;
    opacity: 0.5;
  }

  button:hover:not(:disabled) {
    background-color: var(--wui-color-accent-glass-015);
  }

  button:focus-visible:not(:disabled) {
    background-color: var(--wui-color-accent-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
`;var Pe=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let Ce=class extends A{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.icon="copy",this.iconColor="default",this.variant="accent"}render(){return $`
      <button data-variant=${this.variant} ?disabled=${this.disabled} data-size=${this.size}>
        <wui-icon
          color=${{accent:"accent-primary",primary:"inverse",secondary:"default"}[this.variant]||this.iconColor}
          size=${this.size}
          name=${this.icon}
        ></wui-icon>
      </button>
    `}};Ce.styles=[S,P,$e],Pe([H()],Ce.prototype,"size",void 0),Pe([H({type:Boolean})],Ce.prototype,"disabled",void 0),Pe([H()],Ce.prototype,"icon",void 0),Pe([H()],Ce.prototype,"iconColor",void 0),Pe([H()],Ce.prototype,"variant",void 0),Ce=Pe([M("wui-icon-link")],Ce);const Ie=C`<svg width="86" height="96" fill="none">
  <path
    d="M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z"
  />
</svg>`,Ee=C`
  <svg fill="none" viewBox="0 0 36 40">
    <path
      d="M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z"
    />
  </svg>
`,Ne=T`
  :host {
    position: relative;
    border-radius: inherit;
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--local-width);
    height: var(--local-height);
  }

  :host([data-round='true']) {
    background: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: 100%;
    outline: 1px solid ${({tokens:e})=>e.core.glass010};
  }

  svg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
  }

  svg > path {
    stroke: var(--local-stroke);
  }

  wui-image {
    width: 100%;
    height: 100%;
    -webkit-clip-path: var(--local-path);
    clip-path: var(--local-path);
    background: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  wui-icon {
    transform: translateY(-5%);
    width: var(--local-icon-size);
    height: var(--local-icon-size);
  }
`;var Re=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let Oe=class extends A{constructor(){super(...arguments),this.size="md",this.name="uknown",this.networkImagesBySize={sm:Ee,md:Q,lg:Ie},this.selected=!1,this.round=!1}render(){const e={sm:"4",md:"6",lg:"10"};return this.round?(this.dataset.round="true",this.style.cssText="\n      --local-width: var(--apkt-spacing-10);\n      --local-height: var(--apkt-spacing-10);\n      --local-icon-size: var(--apkt-spacing-4);\n    "):this.style.cssText=`\n\n      --local-path: var(--apkt-path-network-${this.size});\n      --local-width:  var(--apkt-width-network-${this.size});\n      --local-height:  var(--apkt-height-network-${this.size});\n      --local-icon-size:  var(--apkt-spacing-${e[this.size]});\n    `,$`${this.templateVisual()} ${this.svgTemplate()} `}svgTemplate(){return this.round?null:this.networkImagesBySize[this.size]}templateVisual(){return this.imageSrc?$`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:$`<wui-icon size="inherit" color="default" name="networkPlaceholder"></wui-icon>`}};Oe.styles=[S,Ne],Re([H()],Oe.prototype,"size",void 0),Re([H()],Oe.prototype,"name",void 0),Re([H({type:Object})],Oe.prototype,"networkImagesBySize",void 0),Re([H()],Oe.prototype,"imageSrc",void 0),Re([H({type:Boolean})],Oe.prototype,"selected",void 0),Re([H({type:Boolean})],Oe.prototype,"round",void 0),Oe=Re([M("wui-network-image")],Oe);const ze=T`
  :host {
    position: relative;
    display: flex;
    width: 100%;
    height: 1px;
    background-color: ${({tokens:e})=>e.theme.borderPrimary};
    justify-content: center;
    align-items: center;
  }

  :host > wui-text {
    position: absolute;
    padding: 0px 8px;
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color;
  }

  :host([data-bg-color='primary']) > wui-text {
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
  }

  :host([data-bg-color='secondary']) > wui-text {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }
`;var De=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let Ue=class extends A{constructor(){super(...arguments),this.text="",this.bgColor="primary"}render(){return this.dataset.bgColor=this.bgColor,$`${this.template()}`}template(){return this.text?$`<wui-text variant="md-regular" color="secondary">${this.text}</wui-text>`:null}};Ue.styles=[S,ze],De([H()],Ue.prototype,"text",void 0),De([H()],Ue.prototype,"bgColor",void 0),Ue=De([M("wui-separator")],Ue);const We="INVALID_PAYMENT_CONFIG",je="INVALID_RECIPIENT",Be="INVALID_ASSET",Fe="INVALID_AMOUNT",Le="UNKNOWN_ERROR",qe="UNABLE_TO_INITIATE_PAYMENT",_e="INVALID_CHAIN_NAMESPACE",Me="GENERIC_PAYMENT_ERROR",He="UNABLE_TO_GET_EXCHANGES",Ve="ASSET_NOT_SUPPORTED",Ke="UNABLE_TO_GET_PAY_URL",Qe="UNABLE_TO_GET_BUY_STATUS",Ge="UNABLE_TO_GET_TOKEN_BALANCES",Ye="UNABLE_TO_GET_QUOTE",Xe="UNABLE_TO_GET_QUOTE_STATUS",Ze="INVALID_RECIPIENT_ADDRESS_FOR_ASSET",Je={[We]:"Invalid payment configuration",[je]:"Invalid recipient address",[Be]:"Invalid asset specified",[Fe]:"Invalid payment amount",[Ze]:"Invalid recipient address for the asset selected",[Le]:"Unknown payment error occurred",[qe]:"Unable to initiate payment",[_e]:"Invalid chain namespace",[Me]:"Unable to process payment",[He]:"Unable to get exchanges",[Ve]:"Asset not supported by the selected exchange",[Ke]:"Unable to get payment URL",[Qe]:"Unable to get buy status",[Ge]:"Unable to get token balances",[Ye]:"Unable to get quote. Please choose a different token",[Xe]:"Unable to get quote status"};class et extends Error{get message(){return Je[this.code]}constructor(e,t){super(Je[e]),this.name="AppKitPayError",this.code=e,this.details=t,Error.captureStackTrace&&Error.captureStackTrace(this,et)}}const tt="reown_test";function it(e){if(!e)return null;const t=e.steps[0];return t&&t.type===yt?t:null}function ot(e,t=0){if(!e)return[];const i=e.steps.filter(e=>e.type===ft),o=i.filter((e,i)=>i+1>t);return i.length>0&&i.length<3?o:[]}const nt=new R({baseUrl:p.getApiUrl(),clientId:null});class at extends Error{}function rt(){const{projectId:e,sdkType:t,sdkVersion:i}=z.state;return{projectId:e,st:t||"appkit",sv:i||"html-wagmi-4.2.2"}}async function st(e,t){const i=`https://rpc.walletconnect.org/v1/json-rpc?projectId=${z.getSnapshot().projectId}`,{sdkType:o,sdkVersion:n,projectId:a}=z.getSnapshot(),r={jsonrpc:"2.0",id:1,method:e,params:{...t||{},st:o,sv:n,projectId:a}},s=await fetch(i,{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}),c=await s.json();if(c.error)throw new at(c.error.message);return c}async function ct(e){return(await st("reown_getExchanges",e)).result}async function lt(e){return(await st("reown_getExchangePayUrl",e)).result}async function dt(t){const i=O.isLowerCaseMatch(t.sourceToken.network,t.toToken.network),o=O.isLowerCaseMatch(t.sourceToken.asset,t.toToken.asset);return i&&o?async function({sourceToken:e,toToken:t,amount:i,recipient:o}){const n=a.parseUnits(i,e.metadata.decimals),r=a.parseUnits(i,t.metadata.decimals);return Promise.resolve({type:gt,origin:{amount:(null==n?void 0:n.toString())??"0",currency:e},destination:{amount:(null==r?void 0:r.toString())??"0",currency:t},fees:[{id:"service",label:"Service Fee",amount:"0",currency:t}],steps:[{requestId:gt,type:"deposit",deposit:{amount:(null==n?void 0:n.toString())??"0",currency:e.asset,receiver:o}}],timeInSeconds:6})}(t):async function(t){const i=e.bigNumber(t.amount).times(10**t.toToken.metadata.decimals).toString(),{chainId:o,chainNamespace:n}=N.parseCaipNetworkId(t.sourceToken.network),{chainId:a,chainNamespace:r}=N.parseCaipNetworkId(t.toToken.network),s="native"===t.sourceToken.asset?D(n):t.sourceToken.asset,c="native"===t.toToken.asset?D(r):t.toToken.asset;return await nt.post({path:"/appkit/v1/transfers/quote",body:{user:t.address,originChainId:o.toString(),originCurrency:s,destinationChainId:a.toString(),destinationCurrency:c,recipient:t.recipient,amount:i},params:rt()})}(t)}const ut=["eip155","solana"],pt={eip155:{native:{assetNamespace:"slip44",assetReference:"60"},defaultTokenNamespace:"erc20"},solana:{native:{assetNamespace:"slip44",assetReference:"501"},defaultTokenNamespace:"token"}};function ht(e,t){const{chainNamespace:i,chainId:o}=N.parseCaipNetworkId(e),n=pt[i];if(!n)throw new Error(`Unsupported chain namespace for CAIP-19 formatting: ${i}`);let a=n.native.assetNamespace,r=n.native.assetReference;"native"!==t&&(a=n.defaultTokenNamespace,r=t);return`${`${i}:${o}`}/${a}:${r}`}function mt(t){const i=e.bigNumber(t,{safe:!0});return i.lt(.001)?"<0.001":i.round(4).toString()}const wt="unknown",gt="direct-transfer",yt="deposit",ft="transaction",vt=i({paymentAsset:{network:"eip155:1",asset:"0x0",metadata:{name:"0x0",symbol:"0x0",decimals:0}},recipient:"0x0",amount:0,isConfigured:!1,error:null,isPaymentInProgress:!1,exchanges:[],isLoading:!1,openInNewTab:!0,redirectUrl:void 0,payWithExchange:void 0,currentPayment:void 0,analyticsSet:!1,paymentId:void 0,choice:"pay",tokenBalances:{[r.CHAIN.EVM]:[],[r.CHAIN.SOLANA]:[]},isFetchingTokenBalances:!1,selectedPaymentAsset:null,quote:void 0,quoteStatus:"waiting",quoteError:null,isFetchingQuote:!1,selectedExchange:void 0,exchangeUrlForQuote:void 0,requestId:void 0}),bt={state:vt,subscribe:e=>b(vt,()=>e(vt)),subscribeKey:(e,t)=>v(vt,e,t),async handleOpenPay(e){this.resetState(),this.setPaymentConfig(e),this.initializeAnalytics(),function(){const{chainNamespace:e}=N.parseCaipNetworkId(bt.state.paymentAsset.network);if(!p.isAddress(bt.state.recipient,e))throw new et(Ze,`Provide valid recipient address for namespace "${e}"`)}(),await this.prepareTokenLogo(),vt.isConfigured=!0,s.sendEvent({type:"track",event:"PAY_MODAL_OPEN",properties:{exchanges:vt.exchanges,configuration:{network:vt.paymentAsset.network,asset:vt.paymentAsset.asset,recipient:vt.recipient,amount:vt.amount}}}),await k.open({view:"Pay"})},resetState(){vt.paymentAsset={network:"eip155:1",asset:"0x0",metadata:{name:"0x0",symbol:"0x0",decimals:0}},vt.recipient="0x0",vt.amount=0,vt.isConfigured=!1,vt.error=null,vt.isPaymentInProgress=!1,vt.isLoading=!1,vt.currentPayment=void 0,vt.selectedExchange=void 0,vt.exchangeUrlForQuote=void 0,vt.requestId=void 0},resetQuoteState(){vt.quote=void 0,vt.quoteStatus="waiting",vt.quoteError=null,vt.isFetchingQuote=!1,vt.requestId=void 0},setPaymentConfig(e){if(!e.paymentAsset)throw new et(We);try{vt.choice=e.choice??"pay",vt.paymentAsset=e.paymentAsset,vt.recipient=e.recipient,vt.amount=e.amount,vt.openInNewTab=e.openInNewTab??!0,vt.redirectUrl=e.redirectUrl,vt.payWithExchange=e.payWithExchange,vt.error=null}catch(t){throw new et(We,t.message)}},setSelectedPaymentAsset(e){vt.selectedPaymentAsset=e},setSelectedExchange(e){vt.selectedExchange=e},setRequestId(e){vt.requestId=e},setPaymentInProgress(e){vt.isPaymentInProgress=e},getPaymentAsset:()=>vt.paymentAsset,getExchanges:()=>vt.exchanges,async fetchExchanges(){try{vt.isLoading=!0;const e=await ct({page:0});vt.exchanges=e.exchanges.slice(0,2)}catch(e){throw n.showError(Je.UNABLE_TO_GET_EXCHANGES),new et(He)}finally{vt.isLoading=!1}},async getAvailableExchanges(e){var t;try{const i=(null==e?void 0:e.asset)&&(null==e?void 0:e.network)?ht(e.network,e.asset):void 0;return await ct({page:(null==e?void 0:e.page)??0,asset:i,amount:null==(t=null==e?void 0:e.amount)?void 0:t.toString()})}catch(i){throw new et(He)}},async getPayUrl(e,t,i=!1){try{const o=Number(t.amount),n=await lt({exchangeId:e,asset:ht(t.network,t.asset),amount:o.toString(),recipient:`${t.network}:${t.recipient}`});return s.sendEvent({type:"track",event:"PAY_EXCHANGE_SELECTED",properties:{source:"pay",exchange:{id:e},configuration:{network:t.network,asset:t.asset,recipient:t.recipient,amount:o},currentPayment:{type:"exchange",exchangeId:e},headless:i}}),i&&(this.initiatePayment(),s.sendEvent({type:"track",event:"PAY_INITIATED",properties:{source:"pay",paymentId:vt.paymentId||wt,configuration:{network:t.network,asset:t.asset,recipient:t.recipient,amount:o},currentPayment:{type:"exchange",exchangeId:e}}})),n}catch(o){if(o instanceof Error&&o.message.includes("is not supported"))throw new et(Ve);throw new Error(o.message)}},async generateExchangeUrlForQuote({exchangeId:e,paymentAsset:t,amount:i,recipient:o}){const n=await lt({exchangeId:e,asset:ht(t.network,t.asset),amount:i.toString(),recipient:o});vt.exchangeSessionId=n.sessionId,vt.exchangeUrlForQuote=n.url},async openPayUrl(e,t,i=!1){try{const o=await this.getPayUrl(e.exchangeId,t,i);if(!o)throw new et(Ke);const n=e.openInNewTab??!0?"_blank":"_self";return p.openHref(o.url,n),o}catch(o){throw vt.error=o instanceof et?o.message:Je.GENERIC_PAYMENT_ERROR,new et(Ke)}},async onTransfer({chainNamespace:e,fromAddress:t,toAddress:i,amount:o,paymentAsset:s}){if(vt.currentPayment={type:"wallet",status:"IN_PROGRESS"},!vt.isPaymentInProgress)try{this.initiatePayment();const n=d.getAllRequestedCaipNetworks().find(e=>e.caipNetworkId===s.network);if(!n)throw new Error("Target network not found");const c=d.state.activeCaipNetwork;switch(O.isLowerCaseMatch(null==c?void 0:c.caipNetworkId,n.caipNetworkId)||await d.switchActiveNetwork(n),e){case r.CHAIN.EVM:"native"===s.asset&&(vt.currentPayment.result=await async function(e,t,i){var o;if(t!==r.CHAIN.EVM)throw new et(_e);if(!i.fromAddress)throw new et(We,"fromAddress is required for native EVM payments.");const n="string"==typeof i.amount?parseFloat(i.amount):i.amount;if(isNaN(n))throw new et(We);const s=(null==(o=e.metadata)?void 0:o.decimals)??18,c=a.parseUnits(n.toString(),s);if("bigint"!=typeof c)throw new et(Me);return await a.sendTransaction({chainNamespace:t,to:i.recipient,address:i.fromAddress,value:c,data:"0x"})??void 0}(s,e,{recipient:i,amount:o,fromAddress:t})),s.asset.startsWith("0x")&&(vt.currentPayment.result=await async function(e,t){if(!t.fromAddress)throw new et(We,"fromAddress is required for ERC20 EVM payments.");const i=e.asset,o=t.recipient,n=Number(e.metadata.decimals),s=a.parseUnits(t.amount.toString(),n);if(void 0===s)throw new et(Me);return await a.writeContract({fromAddress:t.fromAddress,tokenAddress:i,args:[o,s],method:"transfer",abi:E.getERC20Abi(i),chainNamespace:r.CHAIN.EVM})??void 0}(s,{recipient:i,amount:o,fromAddress:t})),vt.currentPayment.status="SUCCESS";break;case r.CHAIN.SOLANA:vt.currentPayment.result=await async function(e,t){if(e!==r.CHAIN.SOLANA)throw new et(_e);if(!t.fromAddress)throw new et(We,"fromAddress is required for Solana payments.");const i="string"==typeof t.amount?parseFloat(t.amount):t.amount;if(isNaN(i)||i<=0)throw new et(We,"Invalid payment amount.");try{if(!I.getProvider(e))throw new et(Me,"No Solana provider available.");const o=await a.sendTransaction({chainNamespace:r.CHAIN.SOLANA,to:t.recipient,value:i,tokenMint:t.tokenMint});if(!o)throw new et(Me,"Transaction failed.");return o}catch(o){if(o instanceof et)throw o;throw new et(Me,`Solana payment failed: ${o}`)}}(e,{recipient:i,amount:o,fromAddress:t,tokenMint:"native"===s.asset?void 0:s.asset}),vt.currentPayment.status="SUCCESS";break;default:throw new et(_e)}}catch(c){throw vt.error=c instanceof et?c.message:Je.GENERIC_PAYMENT_ERROR,vt.currentPayment.status="FAILED",n.showError(vt.error),c}finally{vt.isPaymentInProgress=!1}},async onSendTransaction(e){try{const{namespace:t,transactionStep:i}=e;bt.initiatePayment();const o=d.getAllRequestedCaipNetworks().find(e=>{var t;return e.caipNetworkId===(null==(t=vt.paymentAsset)?void 0:t.network)});if(!o)throw new Error("Target network not found");const n=d.state.activeCaipNetwork;if(O.isLowerCaseMatch(null==n?void 0:n.caipNetworkId,o.caipNetworkId)||await d.switchActiveNetwork(o),t===r.CHAIN.EVM){const{from:e,to:o,data:n,value:r}=i.transaction;await a.sendTransaction({address:e,to:o,data:n,value:BigInt(r),chainNamespace:t})}else if(t===r.CHAIN.SOLANA){const{instructions:e}=i.transaction;await a.writeSolanaTransaction({instructions:e})}}catch(t){throw vt.error=t instanceof et?t.message:Je.GENERIC_PAYMENT_ERROR,n.showError(vt.error),t}finally{vt.isPaymentInProgress=!1}},getExchangeById:e=>vt.exchanges.find(t=>t.id===e),validatePayConfig(e){const{paymentAsset:t,recipient:i,amount:o}=e;if(!t)throw new et(We);if(!i)throw new et(je);if(!t.asset)throw new et(Be);if(null==o||o<=0)throw new et(Fe)},async handlePayWithExchange(e){try{vt.currentPayment={type:"exchange",exchangeId:e};const{network:t,asset:i}=vt.paymentAsset,o={network:t,asset:i,amount:vt.amount,recipient:vt.recipient},n=await this.getPayUrl(e,o);if(!n)throw new et(qe);return vt.currentPayment.sessionId=n.sessionId,vt.currentPayment.status="IN_PROGRESS",vt.currentPayment.exchangeId=e,this.initiatePayment(),{url:n.url,openInNewTab:vt.openInNewTab}}catch(t){return vt.error=t instanceof et?t.message:Je.GENERIC_PAYMENT_ERROR,vt.isPaymentInProgress=!1,n.showError(vt.error),null}},async getBuyStatus(e,t){var i,o;try{const n=await async function(e){return(await st("reown_getExchangeBuyStatus",e)).result}({sessionId:t,exchangeId:e});return"SUCCESS"!==n.status&&"FAILED"!==n.status||s.sendEvent({type:"track",event:"SUCCESS"===n.status?"PAY_SUCCESS":"PAY_ERROR",properties:{message:"FAILED"===n.status?p.parseError(vt.error):void 0,source:"pay",paymentId:vt.paymentId||wt,configuration:{network:vt.paymentAsset.network,asset:vt.paymentAsset.asset,recipient:vt.recipient,amount:vt.amount},currentPayment:{type:"exchange",exchangeId:null==(i=vt.currentPayment)?void 0:i.exchangeId,sessionId:null==(o=vt.currentPayment)?void 0:o.sessionId,result:n.txHash}}}),n}catch(n){throw new et(Qe)}},async fetchTokensFromEOA({caipAddress:e,caipNetwork:t,namespace:i}){if(!e)return[];const{address:o}=N.parseCaipAddress(e);let n=t;i===r.CHAIN.EVM&&(n=void 0);return await w.getMyTokensWithBalance({address:o,caipNetwork:n})},async fetchTokensFromExchange(){if(!vt.selectedExchange)return[];const e=await async function(e){return await nt.get({path:`/appkit/v1/transfers/assets/exchanges/${e}`,params:rt()})}(vt.selectedExchange.id),t=Object.values(e.assets).flat();return await Promise.all(t.map(async e=>{const t={chainId:(i=e).network,address:`${i.network}:${i.asset}`,symbol:i.metadata.symbol,name:i.metadata.name,iconUrl:i.metadata.logoURI||"",price:0,quantity:{numeric:"0",decimals:i.metadata.decimals.toString()}};var i;const{chainNamespace:o}=N.parseCaipNetworkId(t.chainId);let n=t.address;if(p.isCaipAddress(n)){const{address:e}=N.parseCaipAddress(n);n=e}const a=await U.getImageByToken(n??"",o).catch(()=>{});return t.iconUrl=a??"",t}))},async fetchTokens({caipAddress:e,caipNetwork:t,namespace:i}){try{vt.isFetchingTokenBalances=!0;const o=Boolean(vt.selectedExchange)?this.fetchTokensFromExchange():this.fetchTokensFromEOA({caipAddress:e,caipNetwork:t,namespace:i}),n=await o;vt.tokenBalances={...vt.tokenBalances,[i]:n}}catch(o){const e=o instanceof Error?o.message:"Unable to get token balances";n.showError(e)}finally{vt.isFetchingTokenBalances=!1}},async fetchQuote({amount:t,address:i,sourceToken:o,toToken:a,recipient:r}){try{bt.resetQuoteState(),vt.isFetchingQuote=!0;const n=await dt({amount:t,address:vt.selectedExchange?void 0:i,sourceToken:o,toToken:a,recipient:r});if(vt.selectedExchange){const t=it(n);if(t){const i=`${o.network}:${t.deposit.receiver}`,n=e.formatNumber(t.deposit.amount,{decimals:o.metadata.decimals??0,round:8});await bt.generateExchangeUrlForQuote({exchangeId:vt.selectedExchange.id,paymentAsset:o,amount:n.toString(),recipient:i})}}vt.quote=n}catch(s){let e=Je.UNABLE_TO_GET_QUOTE;if(s instanceof Error&&s.cause&&s.cause instanceof Response)try{const t=await s.cause.json();t.error&&"string"==typeof t.error&&(e=t.error)}catch{}throw vt.quoteError=e,n.showError(e),new et(Ye)}finally{vt.isFetchingQuote=!1}},async fetchQuoteStatus({requestId:e}){try{if(e===gt){const e=vt.selectedExchange,t=vt.exchangeSessionId;if(e&&t){switch((await this.getBuyStatus(e.id,t)).status){case"IN_PROGRESS":case"UNKNOWN":default:vt.quoteStatus="waiting";break;case"SUCCESS":vt.quoteStatus="success",vt.isPaymentInProgress=!1;break;case"FAILED":vt.quoteStatus="failure",vt.isPaymentInProgress=!1}return}return void(vt.quoteStatus="success")}const{status:t}=await async function(e){return await nt.get({path:"/appkit/v1/transfers/status",params:{requestId:e.requestId,...rt()}})}({requestId:e});vt.quoteStatus=t}catch{throw vt.quoteStatus="failure",new et(Xe)}},initiatePayment(){vt.isPaymentInProgress=!0,vt.paymentId=crypto.randomUUID()},initializeAnalytics(){vt.analyticsSet||(vt.analyticsSet=!0,this.subscribeKey("isPaymentInProgress",e=>{var t;if((null==(t=vt.currentPayment)?void 0:t.status)&&"UNKNOWN"!==vt.currentPayment.status){const e={IN_PROGRESS:"PAY_INITIATED",SUCCESS:"PAY_SUCCESS",FAILED:"PAY_ERROR"}[vt.currentPayment.status];s.sendEvent({type:"track",event:e,properties:{message:"FAILED"===vt.currentPayment.status?p.parseError(vt.error):void 0,source:"pay",paymentId:vt.paymentId||wt,configuration:{network:vt.paymentAsset.network,asset:vt.paymentAsset.asset,recipient:vt.recipient,amount:vt.amount},currentPayment:{type:vt.currentPayment.type,exchangeId:vt.currentPayment.exchangeId,sessionId:vt.currentPayment.sessionId,result:vt.currentPayment.result}}})}}))},async prepareTokenLogo(){if(!vt.paymentAsset.metadata.logoURI)try{const{chainNamespace:e}=N.parseCaipNetworkId(vt.paymentAsset.network),t=await U.getImageByToken(vt.paymentAsset.asset,e);vt.paymentAsset.metadata.logoURI=t}catch{}}},kt=T`
  wui-separator {
    margin: var(--apkt-spacing-3) calc(var(--apkt-spacing-3) * -1) var(--apkt-spacing-2)
      calc(var(--apkt-spacing-3) * -1);
    width: calc(100% + var(--apkt-spacing-3) * 2);
  }

  .token-display {
    padding: var(--apkt-spacing-3) var(--apkt-spacing-3);
    border-radius: var(--apkt-borderRadius-5);
    background-color: var(--apkt-tokens-theme-backgroundPrimary);
    margin-top: var(--apkt-spacing-3);
    margin-bottom: var(--apkt-spacing-3);
  }

  .token-display wui-text {
    text-transform: none;
  }

  wui-loading-spinner {
    padding: var(--apkt-spacing-2);
  }

  .left-image-container {
    position: relative;
    justify-content: center;
    align-items: center;
  }

  .token-image {
    border-radius: ${({borderRadius:e})=>e.round};
    width: 40px;
    height: 40px;
  }

  .chain-image {
    position: absolute;
    width: 20px;
    height: 20px;
    bottom: -3px;
    right: -5px;
    border-radius: ${({borderRadius:e})=>e.round};
    border: 2px solid ${({tokens:e})=>e.theme.backgroundPrimary};
  }

  .payment-methods-container {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-top-right-radius: ${({borderRadius:e})=>e[8]};
    border-top-left-radius: ${({borderRadius:e})=>e[8]};
  }
`;var xt=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let Tt=class extends A{constructor(){super(),this.unsubscribe=[],this.amount=bt.state.amount,this.namespace=void 0,this.paymentAsset=bt.state.paymentAsset,this.activeConnectorIds=f.state.activeConnectorIds,this.caipAddress=void 0,this.exchanges=bt.state.exchanges,this.isLoading=bt.state.isLoading,this.initializeNamespace(),this.unsubscribe.push(bt.subscribeKey("amount",e=>this.amount=e)),this.unsubscribe.push(f.subscribeKey("activeConnectorIds",e=>this.activeConnectorIds=e)),this.unsubscribe.push(bt.subscribeKey("exchanges",e=>this.exchanges=e)),this.unsubscribe.push(bt.subscribeKey("isLoading",e=>this.isLoading=e)),bt.fetchExchanges(),bt.setSelectedExchange(void 0)}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return $`
      <wui-flex flexDirection="column">
        ${this.paymentDetailsTemplate()} ${this.paymentMethodsTemplate()}
      </wui-flex>
    `}paymentMethodsTemplate(){return $`
      <wui-flex flexDirection="column" padding="3" gap="2" class="payment-methods-container">
        ${this.payWithWalletTemplate()} ${this.templateSeparator()}
        ${this.templateExchangeOptions()}
      </wui-flex>
    `}initializeNamespace(){var e;const t=d.state.activeChain;this.namespace=t,this.caipAddress=null==(e=d.getAccountData(t))?void 0:e.caipAddress,this.unsubscribe.push(d.subscribeChainProp("accountState",e=>{this.caipAddress=null==e?void 0:e.caipAddress},t))}paymentDetailsTemplate(){const e=d.getAllRequestedCaipNetworks().find(e=>e.caipNetworkId===this.paymentAsset.network);return $`
      <wui-flex
        alignItems="center"
        justifyContent="space-between"
        .padding=${["6","8","6","8"]}
        gap="2"
      >
        <wui-flex alignItems="center" gap="1">
          <wui-text variant="h1-regular" color="primary">
            ${mt(this.amount||"0")}
          </wui-text>

          <wui-flex flexDirection="column">
            <wui-text variant="h6-regular" color="secondary">
              ${this.paymentAsset.metadata.symbol||"Unknown"}
            </wui-text>
            <wui-text variant="md-medium" color="secondary"
              >on ${(null==e?void 0:e.name)||"Unknown"}</wui-text
            >
          </wui-flex>
        </wui-flex>

        <wui-flex class="left-image-container">
          <wui-image
            src=${V(this.paymentAsset.metadata.logoURI)}
            class="token-image"
          ></wui-image>
          <wui-image
            src=${V(U.getNetworkImage(e))}
            class="chain-image"
          ></wui-image>
        </wui-flex>
      </wui-flex>
    `}payWithWalletTemplate(){return function(e){const{chainNamespace:t}=N.parseCaipNetworkId(e);return ut.includes(t)}(this.paymentAsset.network)?this.caipAddress?this.connectedWalletTemplate():this.disconnectedWalletTemplate():$``}connectedWalletTemplate(){const{name:e,image:t}=this.getWalletProperties({namespace:this.namespace});return $`
      <wui-flex flexDirection="column" gap="3">
        <wui-list-item
          type="secondary"
          boxColor="foregroundSecondary"
          @click=${this.onWalletPayment}
          .boxed=${!1}
          ?chevron=${!0}
          ?fullSize=${!1}
          ?rounded=${!0}
          data-testid="wallet-payment-option"
          imageSrc=${V(t)}
          imageSize="3xl"
        >
          <wui-text variant="lg-regular" color="primary">Pay with ${e}</wui-text>
        </wui-list-item>

        <wui-list-item
          type="secondary"
          icon="power"
          iconColor="error"
          @click=${this.onDisconnect}
          data-testid="disconnect-button"
          ?chevron=${!1}
          boxColor="foregroundSecondary"
        >
          <wui-text variant="lg-regular" color="secondary">Disconnect</wui-text>
        </wui-list-item>
      </wui-flex>
    `}disconnectedWalletTemplate(){return $`<wui-list-item
      type="secondary"
      boxColor="foregroundSecondary"
      variant="icon"
      iconColor="default"
      iconVariant="overlay"
      icon="wallet"
      @click=${this.onWalletPayment}
      ?chevron=${!0}
      data-testid="wallet-payment-option"
    >
      <wui-text variant="lg-regular" color="primary">Pay with wallet</wui-text>
    </wui-list-item>`}templateExchangeOptions(){if(this.isLoading)return $`<wui-flex justifyContent="center" alignItems="center">
        <wui-loading-spinner size="md"></wui-loading-spinner>
      </wui-flex>`;const e=this.exchanges.filter(e=>function(e){const t=d.getAllRequestedCaipNetworks().find(t=>t.caipNetworkId===e.network);return!!t&&Boolean(t.testnet)}(this.paymentAsset)?e.id===tt:e.id!==tt);return 0===e.length?$`<wui-flex justifyContent="center" alignItems="center">
        <wui-text variant="md-medium" color="primary">No exchanges available</wui-text>
      </wui-flex>`:e.map(e=>$`
        <wui-list-item
          type="secondary"
          boxColor="foregroundSecondary"
          @click=${()=>this.onExchangePayment(e)}
          data-testid="exchange-option-${e.id}"
          ?chevron=${!0}
          imageSrc=${V(e.imageUrl)}
        >
          <wui-text flexGrow="1" variant="lg-regular" color="primary">
            Pay with ${e.name}
          </wui-text>
        </wui-list-item>
      `)}templateSeparator(){return $`<wui-separator text="or" bgColor="secondary"></wui-separator>`}async onWalletPayment(){if(!this.namespace)throw new Error("Namespace not found");this.caipAddress?o.push("PayQuote"):(await f.connect(),await k.open({view:"PayQuote"}))}onExchangePayment(e){bt.setSelectedExchange(e),o.push("PayQuote")}async onDisconnect(){try{await a.disconnect(),await k.open({view:"Pay"})}catch{console.error("Failed to disconnect"),n.showError("Failed to disconnect")}}getWalletProperties({namespace:e}){if(!e)return{name:void 0,image:void 0};const t=this.activeConnectorIds[e];if(!t)return{name:void 0,image:void 0};const i=f.getConnector({id:t,namespace:e});if(!i)return{name:void 0,image:void 0};const o=U.getConnectorImage(i);return{name:i.name,image:o}}};Tt.styles=kt,xt([K()],Tt.prototype,"amount",void 0),xt([K()],Tt.prototype,"namespace",void 0),xt([K()],Tt.prototype,"paymentAsset",void 0),xt([K()],Tt.prototype,"activeConnectorIds",void 0),xt([K()],Tt.prototype,"caipAddress",void 0),xt([K()],Tt.prototype,"exchanges",void 0),xt([K()],Tt.prototype,"isLoading",void 0),Tt=xt([M("w3m-pay-view")],Tt);const St=T`
  :host {
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  .pulse-container {
    position: relative;
    width: var(--pulse-size);
    height: var(--pulse-size);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .pulse-rings {
    position: absolute;
    inset: 0;
    pointer-events: none;
  }

  .pulse-ring {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    border: 2px solid var(--pulse-color);
    opacity: 0;
    animation: pulse var(--pulse-duration, 2s) ease-out infinite;
  }

  .pulse-content {
    position: relative;
    z-index: 1;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  @keyframes pulse {
    0% {
      transform: scale(0.5);
      opacity: var(--pulse-opacity, 0.3);
    }
    50% {
      opacity: calc(var(--pulse-opacity, 0.3) * 0.5);
    }
    100% {
      transform: scale(1.2);
      opacity: 0;
    }
  }
`;var At=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};const $t={"accent-primary":W.tokens.core.backgroundAccentPrimary};let Pt=class extends A{constructor(){super(...arguments),this.rings=3,this.duration=2,this.opacity=.3,this.size="200px",this.variant="accent-primary"}render(){const e=$t[this.variant];this.style.cssText=`\n      --pulse-size: ${this.size};\n      --pulse-duration: ${this.duration}s;\n      --pulse-color: ${e};\n      --pulse-opacity: ${this.opacity};\n    `;const t=Array.from({length:this.rings},(e,t)=>this.renderRing(t,this.rings));return $`
      <div class="pulse-container">
        <div class="pulse-rings">${t}</div>
        <div class="pulse-content">
          <slot></slot>
        </div>
      </div>
    `}renderRing(e,t){const i=e/t*this.duration;return $`<div class="pulse-ring" style=${`animation-delay: ${i}s;`}></div>`}};Pt.styles=[S,St],At([H({type:Number})],Pt.prototype,"rings",void 0),At([H({type:Number})],Pt.prototype,"duration",void 0),At([H({type:Number})],Pt.prototype,"opacity",void 0),At([H()],Pt.prototype,"size",void 0),At([H()],Pt.prototype,"variant",void 0),Pt=At([M("wui-pulse")],Pt);const Ct=[{id:"received",title:"Receiving funds",icon:"dollar"},{id:"processing",title:"Swapping asset",icon:"recycleHorizontal"},{id:"sending",title:"Sending asset to the recipient address",icon:"send"}],It=["success","submitted","failure","timeout","refund"],Et=T`
  :host {
    display: block;
    height: 100%;
    width: 100%;
  }

  wui-image {
    border-radius: ${({borderRadius:e})=>e.round};
  }

  .token-badge-container {
    position: absolute;
    bottom: 6px;
    left: 50%;
    transform: translateX(-50%);
    border-radius: ${({borderRadius:e})=>e[4]};
    z-index: 3;
    min-width: 105px;
  }

  .token-badge-container.loading {
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    border: 3px solid ${({tokens:e})=>e.theme.backgroundPrimary};
  }

  .token-badge-container.success {
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    border: 3px solid ${({tokens:e})=>e.theme.backgroundPrimary};
  }

  .token-image-container {
    position: relative;
  }

  .token-image {
    border-radius: ${({borderRadius:e})=>e.round};
    width: 64px;
    height: 64px;
  }

  .token-image.success {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  .token-image.error {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  .token-image.loading {
    background: ${({colors:e})=>e.accent010};
  }

  .token-image wui-icon {
    width: 32px;
    height: 32px;
  }

  .token-badge {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border: 1px solid ${({tokens:e})=>e.theme.foregroundSecondary};
    border-radius: ${({borderRadius:e})=>e[4]};
  }

  .token-badge wui-text {
    white-space: nowrap;
  }

  .payment-lifecycle-container {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-top-right-radius: ${({borderRadius:e})=>e[6]};
    border-top-left-radius: ${({borderRadius:e})=>e[6]};
  }

  .payment-step-badge {
    padding: ${({spacing:e})=>e[1]} ${({spacing:e})=>e[2]};
    border-radius: ${({borderRadius:e})=>e[1]};
  }

  .payment-step-badge.loading {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  .payment-step-badge.error {
    background-color: ${({tokens:e})=>e.core.backgroundError};
  }

  .payment-step-badge.success {
    background-color: ${({tokens:e})=>e.core.backgroundSuccess};
  }

  .step-icon-container {
    position: relative;
    height: 40px;
    width: 40px;
    border-radius: ${({borderRadius:e})=>e.round};
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  .step-icon-box {
    position: absolute;
    right: -4px;
    bottom: -1px;
    padding: 2px;
    border-radius: ${({borderRadius:e})=>e.round};
    border: 2px solid ${({tokens:e})=>e.theme.backgroundPrimary};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  .step-icon-box.success {
    background-color: ${({tokens:e})=>e.core.backgroundSuccess};
  }
`;var Nt=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};const Rt={received:["pending","success","submitted"],processing:["success","submitted"],sending:["success","submitted"]};let Ot=class extends A{constructor(){super(),this.unsubscribe=[],this.pollingInterval=null,this.paymentAsset=bt.state.paymentAsset,this.quoteStatus=bt.state.quoteStatus,this.quote=bt.state.quote,this.amount=bt.state.amount,this.namespace=void 0,this.caipAddress=void 0,this.profileName=null,this.activeConnectorIds=f.state.activeConnectorIds,this.selectedExchange=bt.state.selectedExchange,this.initializeNamespace(),this.unsubscribe.push(bt.subscribeKey("quoteStatus",e=>this.quoteStatus=e),bt.subscribeKey("quote",e=>this.quote=e),f.subscribeKey("activeConnectorIds",e=>this.activeConnectorIds=e),bt.subscribeKey("selectedExchange",e=>this.selectedExchange=e))}connectedCallback(){super.connectedCallback(),this.startPolling()}disconnectedCallback(){super.disconnectedCallback(),this.stopPolling(),this.unsubscribe.forEach(e=>e())}render(){return $`
      <wui-flex flexDirection="column" .padding=${["3","0","0","0"]} gap="2">
        ${this.tokenTemplate()} ${this.paymentTemplate()} ${this.paymentLifecycleTemplate()}
      </wui-flex>
    `}tokenTemplate(){const e=mt(this.amount||"0"),t=this.paymentAsset.metadata.symbol??"Unknown",i=d.getAllRequestedCaipNetworks().find(e=>e.caipNetworkId===this.paymentAsset.network),o="failure"===this.quoteStatus||"timeout"===this.quoteStatus||"refund"===this.quoteStatus;return"success"===this.quoteStatus||"submitted"===this.quoteStatus?$`<wui-flex alignItems="center" justifyContent="center">
        <wui-flex justifyContent="center" alignItems="center" class="token-image success">
          <wui-icon name="checkmark" color="success" size="inherit"></wui-icon>
        </wui-flex>
      </wui-flex>`:o?$`<wui-flex alignItems="center" justifyContent="center">
        <wui-flex justifyContent="center" alignItems="center" class="token-image error">
          <wui-icon name="close" color="error" size="inherit"></wui-icon>
        </wui-flex>
      </wui-flex>`:$`
      <wui-flex alignItems="center" justifyContent="center">
        <wui-flex class="token-image-container">
          <wui-pulse size="125px" rings="3" duration="4" opacity="0.5" variant="accent-primary">
            <wui-flex justifyContent="center" alignItems="center" class="token-image loading">
              <wui-icon name="paperPlaneTitle" color="accent-primary" size="inherit"></wui-icon>
            </wui-flex>
          </wui-pulse>

          <wui-flex
            justifyContent="center"
            alignItems="center"
            class="token-badge-container loading"
          >
            <wui-flex
              alignItems="center"
              justifyContent="center"
              gap="01"
              padding="1"
              class="token-badge"
            >
              <wui-image
                src=${V(U.getNetworkImage(i))}
                class="chain-image"
                size="mdl"
              ></wui-image>

              <wui-text variant="lg-regular" color="primary">${e} ${t}</wui-text>
            </wui-flex>
          </wui-flex>
        </wui-flex>
      </wui-flex>
    `}paymentTemplate(){return $`
      <wui-flex flexDirection="column" gap="2" .padding=${["0","6","0","6"]}>
        ${this.renderPayment()}
        <wui-separator></wui-separator>
        ${this.renderWallet()}
      </wui-flex>
    `}paymentLifecycleTemplate(){const e=this.getStepsWithStatus();return $`
      <wui-flex flexDirection="column" padding="4" gap="2" class="payment-lifecycle-container">
        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-text variant="md-regular" color="secondary">PAYMENT CYCLE</wui-text>

          ${this.renderPaymentCycleBadge()}
        </wui-flex>

        <wui-flex flexDirection="column" gap="5" .padding=${["2","0","2","0"]}>
          ${e.map(e=>this.renderStep(e))}
        </wui-flex>
      </wui-flex>
    `}renderPaymentCycleBadge(){var e;const t="failure"===this.quoteStatus||"timeout"===this.quoteStatus||"refund"===this.quoteStatus,i="success"===this.quoteStatus||"submitted"===this.quoteStatus;if(t)return $`
        <wui-flex
          justifyContent="center"
          alignItems="center"
          class="payment-step-badge error"
          gap="1"
        >
          <wui-icon name="close" color="error" size="xs"></wui-icon>
          <wui-text variant="sm-regular" color="error">Failed</wui-text>
        </wui-flex>
      `;if(i)return $`
        <wui-flex
          justifyContent="center"
          alignItems="center"
          class="payment-step-badge success"
          gap="1"
        >
          <wui-icon name="checkmark" color="success" size="xs"></wui-icon>
          <wui-text variant="sm-regular" color="success">Completed</wui-text>
        </wui-flex>
      `;const o=(null==(e=this.quote)?void 0:e.timeInSeconds)??0;return $`
      <wui-flex alignItems="center" justifyContent="space-between" gap="3">
        <wui-flex
          justifyContent="center"
          alignItems="center"
          class="payment-step-badge loading"
          gap="1"
        >
          <wui-icon name="clock" color="default" size="xs"></wui-icon>
          <wui-text variant="sm-regular" color="primary">Est. ${o} sec</wui-text>
        </wui-flex>

        <wui-icon name="chevronBottom" color="default" size="xxs"></wui-icon>
      </wui-flex>
    `}renderPayment(){var t,i,o;const n=d.getAllRequestedCaipNetworks().find(e=>{var t;const i=null==(t=this.quote)?void 0:t.origin.currency.network;if(!i)return!1;const{chainId:o}=N.parseCaipNetworkId(i);return O.isLowerCaseMatch(e.id.toString(),o.toString())}),a=mt(e.formatNumber((null==(t=this.quote)?void 0:t.origin.amount)||"0",{decimals:(null==(i=this.quote)?void 0:i.origin.currency.metadata.decimals)??0}).toString()),r=(null==(o=this.quote)?void 0:o.origin.currency.metadata.symbol)??"Unknown";return $`
      <wui-flex
        alignItems="flex-start"
        justifyContent="space-between"
        .padding=${["3","0","3","0"]}
      >
        <wui-text variant="lg-regular" color="secondary">Payment Method</wui-text>

        <wui-flex flexDirection="column" alignItems="flex-end" gap="1">
          <wui-flex alignItems="center" gap="01">
            <wui-text variant="lg-regular" color="primary">${a}</wui-text>
            <wui-text variant="lg-regular" color="secondary">${r}</wui-text>
          </wui-flex>

          <wui-flex alignItems="center" gap="1">
            <wui-text variant="md-regular" color="secondary">on</wui-text>
            <wui-image
              src=${V(U.getNetworkImage(n))}
              size="xs"
            ></wui-image>
            <wui-text variant="md-regular" color="secondary">${null==n?void 0:n.name}</wui-text>
          </wui-flex>
        </wui-flex>
      </wui-flex>
    `}renderWallet(){return $`
      <wui-flex
        alignItems="flex-start"
        justifyContent="space-between"
        .padding=${["3","0","3","0"]}
      >
        <wui-text variant="lg-regular" color="secondary">Wallet</wui-text>

        ${this.renderWalletText()}
      </wui-flex>
    `}renderWalletText(){var e;const{image:t}=this.getWalletProperties({namespace:this.namespace}),{address:i}=this.caipAddress?N.parseCaipAddress(this.caipAddress):{},o=null==(e=this.selectedExchange)?void 0:e.name;return this.selectedExchange?$`
        <wui-flex alignItems="center" justifyContent="flex-end" gap="1">
          <wui-text variant="lg-regular" color="primary">${o}</wui-text>
          <wui-image src=${V(this.selectedExchange.imageUrl)} size="mdl"></wui-image>
        </wui-flex>
      `:$`
      <wui-flex alignItems="center" justifyContent="flex-end" gap="1">
        <wui-text variant="lg-regular" color="primary">
          ${G.getTruncateString({string:this.profileName||i||o||"",charsStart:this.profileName?16:4,charsEnd:this.profileName?0:6,truncate:this.profileName?"end":"middle"})}
        </wui-text>

        <wui-image src=${V(t)} size="mdl"></wui-image>
      </wui-flex>
    `}getStepsWithStatus(){return"failure"===this.quoteStatus||"timeout"===this.quoteStatus||"refund"===this.quoteStatus?Ct.map(e=>({...e,status:"failed"})):Ct.map(e=>{const t=(Rt[e.id]??[]).includes(this.quoteStatus)?"completed":"pending";return{...e,status:t}})}renderStep({title:e,icon:t,status:i}){return $`
      <wui-flex alignItems="center" gap="3">
        <wui-flex justifyContent="center" alignItems="center" class="step-icon-container">
          <wui-icon name=${t} color="default" size="mdl"></wui-icon>

          <wui-flex alignItems="center" justifyContent="center" class=${Y({"step-icon-box":!0,success:"completed"===i})}>
            ${this.renderStatusIndicator(i)}
          </wui-flex>
        </wui-flex>

        <wui-text variant="md-regular" color="primary">${e}</wui-text>
      </wui-flex>
    `}renderStatusIndicator(e){return"completed"===e?$`<wui-icon size="sm" color="success" name="checkmark"></wui-icon>`:"failed"===e?$`<wui-icon size="sm" color="error" name="close"></wui-icon>`:"pending"===e?$`<wui-loading-spinner color="accent-primary" size="sm"></wui-loading-spinner>`:null}startPolling(){this.pollingInterval||(this.fetchQuoteStatus(),this.pollingInterval=setInterval(()=>{this.fetchQuoteStatus()},3e3))}stopPolling(){this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null)}async fetchQuoteStatus(){const e=bt.state.requestId;if(!e||It.includes(this.quoteStatus))this.stopPolling();else try{await bt.fetchQuoteStatus({requestId:e}),It.includes(this.quoteStatus)&&this.stopPolling()}catch{this.stopPolling()}}initializeNamespace(){var e,t;const i=d.state.activeChain;this.namespace=i,this.caipAddress=null==(e=d.getAccountData(i))?void 0:e.caipAddress,this.profileName=(null==(t=d.getAccountData(i))?void 0:t.profileName)??null,this.unsubscribe.push(d.subscribeChainProp("accountState",e=>{this.caipAddress=null==e?void 0:e.caipAddress,this.profileName=(null==e?void 0:e.profileName)??null},i))}getWalletProperties({namespace:e}){if(!e)return{name:void 0,image:void 0};const t=this.activeConnectorIds[e];if(!t)return{name:void 0,image:void 0};const i=f.getConnector({id:t,namespace:e});if(!i)return{name:void 0,image:void 0};const o=U.getConnectorImage(i);return{name:i.name,image:o}}};Ot.styles=Et,Nt([K()],Ot.prototype,"paymentAsset",void 0),Nt([K()],Ot.prototype,"quoteStatus",void 0),Nt([K()],Ot.prototype,"quote",void 0),Nt([K()],Ot.prototype,"amount",void 0),Nt([K()],Ot.prototype,"namespace",void 0),Nt([K()],Ot.prototype,"caipAddress",void 0),Nt([K()],Ot.prototype,"profileName",void 0),Nt([K()],Ot.prototype,"activeConnectorIds",void 0),Nt([K()],Ot.prototype,"selectedExchange",void 0),Ot=Nt([M("w3m-pay-loading-view")],Ot);const zt=T`
  button {
    display: flex;
    align-items: center;
    height: 40px;
    padding: ${({spacing:e})=>e[2]};
    border-radius: ${({borderRadius:e})=>e[4]};
    column-gap: ${({spacing:e})=>e[1]};
    background-color: transparent;
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color;
  }

  wui-image,
  .icon-box {
    width: ${({spacing:e})=>e[6]};
    height: ${({spacing:e})=>e[6]};
    border-radius: ${({borderRadius:e})=>e[4]};
  }

  wui-text {
    flex: 1;
  }

  .icon-box {
    position: relative;
  }

  .icon-box[data-active='true'] {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  .circle {
    position: absolute;
    left: 16px;
    top: 15px;
    width: 8px;
    height: 8px;
    background-color: ${({tokens:e})=>e.core.textSuccess};
    box-shadow: 0 0 0 2px ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: 50%;
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) {
    button:hover:enabled,
    button:active:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    }
  }
`;var Dt=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let Ut=class extends A{constructor(){super(...arguments),this.address="",this.profileName="",this.alt="",this.imageSrc="",this.icon=void 0,this.iconSize="md",this.enableGreenCircle=!0,this.loading=!1,this.charsStart=4,this.charsEnd=6}render(){return $`
      <button>
        ${this.leftImageTemplate()} ${this.textTemplate()} ${this.rightImageTemplate()}
      </button>
    `}leftImageTemplate(){const e=this.icon?$`<wui-icon
          size=${V(this.iconSize)}
          color="default"
          name=${this.icon}
          class="icon"
        ></wui-icon>`:$`<wui-image src=${this.imageSrc} alt=${this.alt}></wui-image>`;return $`
      <wui-flex
        alignItems="center"
        justifyContent="center"
        class="icon-box"
        data-active=${Boolean(this.icon)}
      >
        ${e}
        ${this.enableGreenCircle?$`<wui-flex class="circle"></wui-flex>`:null}
      </wui-flex>
    `}textTemplate(){return $`
      <wui-text variant="lg-regular" color="primary">
        ${G.getTruncateString({string:this.profileName||this.address,charsStart:this.profileName?16:this.charsStart,charsEnd:this.profileName?0:this.charsEnd,truncate:this.profileName?"end":"middle"})}
      </wui-text>
    `}rightImageTemplate(){return $`<wui-icon name="chevronBottom" size="sm" color="default"></wui-icon>`}};Ut.styles=[S,P,zt],Dt([H()],Ut.prototype,"address",void 0),Dt([H()],Ut.prototype,"profileName",void 0),Dt([H()],Ut.prototype,"alt",void 0),Dt([H()],Ut.prototype,"imageSrc",void 0),Dt([H()],Ut.prototype,"icon",void 0),Dt([H()],Ut.prototype,"iconSize",void 0),Dt([H({type:Boolean})],Ut.prototype,"enableGreenCircle",void 0),Dt([H({type:Boolean})],Ut.prototype,"loading",void 0),Dt([H({type:Number})],Ut.prototype,"charsStart",void 0),Dt([H({type:Number})],Ut.prototype,"charsEnd",void 0),Ut=Dt([M("wui-wallet-switch")],Ut);const Wt=j`
  :host {
    display: block;
  }
`;let jt=class extends A{render(){return $`
      <wui-flex flexDirection="column" gap="4">
        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-text variant="md-regular" color="secondary">Pay</wui-text>
          <wui-shimmer width="60px" height="16px" borderRadius="4xs" variant="light"></wui-shimmer>
        </wui-flex>

        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-text variant="md-regular" color="secondary">Network Fee</wui-text>

          <wui-flex flexDirection="column" alignItems="flex-end" gap="2">
            <wui-shimmer
              width="75px"
              height="16px"
              borderRadius="4xs"
              variant="light"
            ></wui-shimmer>

            <wui-flex alignItems="center" gap="01">
              <wui-shimmer width="14px" height="14px" rounded variant="light"></wui-shimmer>
              <wui-shimmer
                width="49px"
                height="14px"
                borderRadius="4xs"
                variant="light"
              ></wui-shimmer>
            </wui-flex>
          </wui-flex>
        </wui-flex>

        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-text variant="md-regular" color="secondary">Service Fee</wui-text>
          <wui-shimmer width="75px" height="16px" borderRadius="4xs" variant="light"></wui-shimmer>
        </wui-flex>
      </wui-flex>
    `}};jt.styles=[Wt],jt=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r}([M("w3m-pay-fees-skeleton")],jt);const Bt=T`
  :host {
    display: block;
  }

  wui-image {
    border-radius: ${({borderRadius:e})=>e.round};
  }
`;var Ft=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let Lt=class extends A{constructor(){super(),this.unsubscribe=[],this.quote=bt.state.quote,this.unsubscribe.push(bt.subscribeKey("quote",e=>this.quote=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){var t,i,o;const n=e.formatNumber((null==(t=this.quote)?void 0:t.origin.amount)||"0",{decimals:(null==(i=this.quote)?void 0:i.origin.currency.metadata.decimals)??0,round:6}).toString();return $`
      <wui-flex flexDirection="column" gap="4">
        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-text variant="md-regular" color="secondary">Pay</wui-text>
          <wui-text variant="md-regular" color="primary">
            ${n} ${(null==(o=this.quote)?void 0:o.origin.currency.metadata.symbol)||"Unknown"}
          </wui-text>
        </wui-flex>

        ${this.quote&&this.quote.fees.length>0?this.quote.fees.map(e=>this.renderFee(e)):null}
      </wui-flex>
    `}renderFee(t){const i="network"===t.id,o=e.formatNumber(t.amount||"0",{decimals:t.currency.metadata.decimals??0,round:6}).toString();if(i){const e=d.getAllRequestedCaipNetworks().find(e=>O.isLowerCaseMatch(e.caipNetworkId,t.currency.network));return $`
        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-text variant="md-regular" color="secondary">${t.label}</wui-text>

          <wui-flex flexDirection="column" alignItems="flex-end" gap="2">
            <wui-text variant="md-regular" color="primary">
              ${o} ${t.currency.metadata.symbol||"Unknown"}
            </wui-text>

            <wui-flex alignItems="center" gap="01">
              <wui-image
                src=${V(U.getNetworkImage(e))}
                size="xs"
              ></wui-image>
              <wui-text variant="sm-regular" color="secondary">
                ${(null==e?void 0:e.name)||"Unknown"}
              </wui-text>
            </wui-flex>
          </wui-flex>
        </wui-flex>
      `}return $`
      <wui-flex alignItems="center" justifyContent="space-between">
        <wui-text variant="md-regular" color="secondary">${t.label}</wui-text>
        <wui-text variant="md-regular" color="primary">
          ${o} ${t.currency.metadata.symbol||"Unknown"}
        </wui-text>
      </wui-flex>
    `}};Lt.styles=[Bt],Ft([K()],Lt.prototype,"quote",void 0),Lt=Ft([M("w3m-pay-fees")],Lt);const qt=T`
  :host {
    display: block;
    width: 100%;
  }

  .disabled-container {
    padding: ${({spacing:e})=>e[2]};
    min-height: 168px;
  }

  wui-icon {
    width: ${({spacing:e})=>e[8]};
    height: ${({spacing:e})=>e[8]};
  }

  wui-flex > wui-text {
    max-width: 273px;
  }
`;var _t=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let Mt=class extends A{constructor(){super(),this.unsubscribe=[],this.selectedExchange=bt.state.selectedExchange,this.unsubscribe.push(bt.subscribeKey("selectedExchange",e=>this.selectedExchange=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=Boolean(this.selectedExchange);return $`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        justifyContent="center"
        gap="3"
        class="disabled-container"
      >
        <wui-icon name="coins" color="default" size="inherit"></wui-icon>

        <wui-text variant="md-regular" color="primary" align="center">
          You don't have enough funds to complete this transaction
        </wui-text>

        ${e?null:$`<wui-button
              size="md"
              variant="neutral-secondary"
              @click=${this.dispatchConnectOtherWalletEvent.bind(this)}
              >Connect other wallet</wui-button
            >`}
      </wui-flex>
    `}dispatchConnectOtherWalletEvent(){this.dispatchEvent(new CustomEvent("connectOtherWallet",{detail:!0,bubbles:!0,composed:!0}))}};Mt.styles=[qt],_t([H({type:Array})],Mt.prototype,"selectedExchange",void 0),Mt=_t([M("w3m-pay-options-empty")],Mt);const Ht=T`
  :host {
    display: block;
    width: 100%;
  }

  .pay-options-container {
    max-height: 196px;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
  }

  .pay-options-container::-webkit-scrollbar {
    display: none;
  }

  .pay-option-container {
    border-radius: ${({borderRadius:e})=>e[4]};
    padding: ${({spacing:e})=>e[3]};
    min-height: 60px;
  }

  .token-images-container {
    position: relative;
    justify-content: center;
    align-items: center;
  }

  .chain-image {
    position: absolute;
    bottom: -3px;
    right: -5px;
    border: 2px solid ${({tokens:e})=>e.theme.foregroundSecondary};
  }
`;let Vt=class extends A{render(){return $`
      <wui-flex flexDirection="column" gap="2" class="pay-options-container">
        ${this.renderOptionEntry()} ${this.renderOptionEntry()} ${this.renderOptionEntry()}
      </wui-flex>
    `}renderOptionEntry(){return $`
      <wui-flex
        alignItems="center"
        justifyContent="space-between"
        gap="2"
        class="pay-option-container"
      >
        <wui-flex alignItems="center" gap="2">
          <wui-flex class="token-images-container">
            <wui-shimmer
              width="32px"
              height="32px"
              rounded
              variant="light"
              class="token-image"
            ></wui-shimmer>
            <wui-shimmer
              width="16px"
              height="16px"
              rounded
              variant="light"
              class="chain-image"
            ></wui-shimmer>
          </wui-flex>

          <wui-flex flexDirection="column" gap="1">
            <wui-shimmer
              width="74px"
              height="16px"
              borderRadius="4xs"
              variant="light"
            ></wui-shimmer>
            <wui-shimmer
              width="46px"
              height="14px"
              borderRadius="4xs"
              variant="light"
            ></wui-shimmer>
          </wui-flex>
        </wui-flex>
      </wui-flex>
    `}};Vt.styles=[Ht],Vt=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r}([M("w3m-pay-options-skeleton")],Vt);const Kt=T`
  :host {
    display: block;
    width: 100%;
  }

  .pay-options-container {
    max-height: 196px;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
    mask-image: var(--options-mask-image);
    -webkit-mask-image: var(--options-mask-image);
  }

  .pay-options-container::-webkit-scrollbar {
    display: none;
  }

  .pay-option-container {
    cursor: pointer;
    border-radius: ${({borderRadius:e})=>e[4]};
    padding: ${({spacing:e})=>e[3]};
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-1"]};
    will-change: background-color;
  }

  .token-images-container {
    position: relative;
    justify-content: center;
    align-items: center;
  }

  .token-image {
    border-radius: ${({borderRadius:e})=>e.round};
    width: 32px;
    height: 32px;
  }

  .chain-image {
    position: absolute;
    width: 16px;
    height: 16px;
    bottom: -3px;
    right: -5px;
    border-radius: ${({borderRadius:e})=>e.round};
    border: 2px solid ${({tokens:e})=>e.theme.backgroundPrimary};
  }

  @media (hover: hover) and (pointer: fine) {
    .pay-option-container:hover {
      background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    }
  }
`;var Qt=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let Gt=class extends A{constructor(){super(),this.unsubscribe=[],this.options=[],this.selectedPaymentAsset=null}disconnectedCallback(){var e,t;this.unsubscribe.forEach(e=>e()),null==(e=this.resizeObserver)||e.disconnect();const i=null==(t=this.shadowRoot)?void 0:t.querySelector(".pay-options-container");null==i||i.removeEventListener("scroll",this.handleOptionsListScroll.bind(this))}firstUpdated(){var e,t;const i=null==(e=this.shadowRoot)?void 0:e.querySelector(".pay-options-container");i&&(requestAnimationFrame(this.handleOptionsListScroll.bind(this)),null==i||i.addEventListener("scroll",this.handleOptionsListScroll.bind(this)),this.resizeObserver=new ResizeObserver(()=>{this.handleOptionsListScroll()}),null==(t=this.resizeObserver)||t.observe(i),this.handleOptionsListScroll())}render(){return $`
      <wui-flex flexDirection="column" gap="2" class="pay-options-container">
        ${this.options.map(e=>this.payOptionTemplate(e))}
      </wui-flex>
    `}payOptionTemplate(t){var i,o;const{network:n,metadata:a,asset:r,amount:s="0"}=t,c=d.getAllRequestedCaipNetworks().find(e=>e.caipNetworkId===n),l=`${n}:${r}`===`${null==(i=this.selectedPaymentAsset)?void 0:i.network}:${null==(o=this.selectedPaymentAsset)?void 0:o.asset}`,u=e.bigNumber(s,{safe:!0}),p=u.gt(0);return $`
      <wui-flex
        alignItems="center"
        justifyContent="space-between"
        gap="2"
        @click=${()=>{var e;return null==(e=this.onSelect)?void 0:e.call(this,t)}}
        class="pay-option-container"
      >
        <wui-flex alignItems="center" gap="2">
          <wui-flex class="token-images-container">
            <wui-image
              src=${V(a.logoURI)}
              class="token-image"
              size="3xl"
            ></wui-image>
            <wui-image
              src=${V(U.getNetworkImage(c))}
              class="chain-image"
              size="md"
            ></wui-image>
          </wui-flex>

          <wui-flex flexDirection="column" gap="1">
            <wui-text variant="lg-regular" color="primary">${a.symbol}</wui-text>
            ${p?$`<wui-text variant="sm-regular" color="secondary">
                  ${u.round(6).toString()} ${a.symbol}
                </wui-text>`:null}
          </wui-flex>
        </wui-flex>

        ${l?$`<wui-icon name="checkmark" size="md" color="success"></wui-icon>`:null}
      </wui-flex>
    `}handleOptionsListScroll(){var e;const t=null==(e=this.shadowRoot)?void 0:e.querySelector(".pay-options-container");if(!t)return;t.scrollHeight>300?(t.style.setProperty("--options-mask-image","linear-gradient(\n          to bottom,\n          rgba(0, 0, 0, calc(1 - var(--options-scroll--top-opacity))) 0px,\n          rgba(200, 200, 200, calc(1 - var(--options-scroll--top-opacity))) 1px,\n          black 50px,\n          black calc(100% - 50px),\n          rgba(155, 155, 155, calc(1 - var(--options-scroll--bottom-opacity))) calc(100% - 1px),\n          rgba(0, 0, 0, calc(1 - var(--options-scroll--bottom-opacity))) 100%\n        )"),t.style.setProperty("--options-scroll--top-opacity",re.interpolate([0,50],[0,1],t.scrollTop).toString()),t.style.setProperty("--options-scroll--bottom-opacity",re.interpolate([0,50],[0,1],t.scrollHeight-t.scrollTop-t.offsetHeight).toString())):(t.style.setProperty("--options-mask-image","none"),t.style.setProperty("--options-scroll--top-opacity","0"),t.style.setProperty("--options-scroll--bottom-opacity","0"))}};Gt.styles=[Kt],Qt([H({type:Array})],Gt.prototype,"options",void 0),Qt([H()],Gt.prototype,"selectedPaymentAsset",void 0),Qt([H()],Gt.prototype,"onSelect",void 0),Gt=Qt([M("w3m-pay-options")],Gt);const Yt=T`
  .payment-methods-container {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-top-right-radius: ${({borderRadius:e})=>e[5]};
    border-top-left-radius: ${({borderRadius:e})=>e[5]};
  }

  .pay-options-container {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    border-radius: ${({borderRadius:e})=>e[5]};
    padding: ${({spacing:e})=>e[1]};
  }

  w3m-tooltip-trigger {
    display: flex;
    align-items: center;
    justify-content: center;
    max-width: fit-content;
  }

  wui-image {
    border-radius: ${({borderRadius:e})=>e.round};
  }

  w3m-pay-options.disabled {
    opacity: 0.5;
    pointer-events: none;
  }
`;var Xt=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};const Zt={eip155:{icon:"ethereum",label:"EVM"},solana:{icon:"solana",label:"Solana"},bip122:{icon:"bitcoin",label:"Bitcoin"},ton:{icon:"ton",label:"Ton"}};let Jt=class extends A{constructor(){super(),this.unsubscribe=[],this.profileName=null,this.paymentAsset=bt.state.paymentAsset,this.namespace=void 0,this.caipAddress=void 0,this.amount=bt.state.amount,this.recipient=bt.state.recipient,this.activeConnectorIds=f.state.activeConnectorIds,this.selectedPaymentAsset=bt.state.selectedPaymentAsset,this.selectedExchange=bt.state.selectedExchange,this.isFetchingQuote=bt.state.isFetchingQuote,this.quoteError=bt.state.quoteError,this.quote=bt.state.quote,this.isFetchingTokenBalances=bt.state.isFetchingTokenBalances,this.tokenBalances=bt.state.tokenBalances,this.isPaymentInProgress=bt.state.isPaymentInProgress,this.exchangeUrlForQuote=bt.state.exchangeUrlForQuote,this.completedTransactionsCount=0,this.unsubscribe.push(bt.subscribeKey("paymentAsset",e=>this.paymentAsset=e)),this.unsubscribe.push(bt.subscribeKey("tokenBalances",e=>this.onTokenBalancesChanged(e))),this.unsubscribe.push(bt.subscribeKey("isFetchingTokenBalances",e=>this.isFetchingTokenBalances=e)),this.unsubscribe.push(f.subscribeKey("activeConnectorIds",e=>this.activeConnectorIds=e)),this.unsubscribe.push(bt.subscribeKey("selectedPaymentAsset",e=>this.selectedPaymentAsset=e)),this.unsubscribe.push(bt.subscribeKey("isFetchingQuote",e=>this.isFetchingQuote=e)),this.unsubscribe.push(bt.subscribeKey("quoteError",e=>this.quoteError=e)),this.unsubscribe.push(bt.subscribeKey("quote",e=>this.quote=e)),this.unsubscribe.push(bt.subscribeKey("amount",e=>this.amount=e)),this.unsubscribe.push(bt.subscribeKey("recipient",e=>this.recipient=e)),this.unsubscribe.push(bt.subscribeKey("isPaymentInProgress",e=>this.isPaymentInProgress=e)),this.unsubscribe.push(bt.subscribeKey("selectedExchange",e=>this.selectedExchange=e)),this.unsubscribe.push(bt.subscribeKey("exchangeUrlForQuote",e=>this.exchangeUrlForQuote=e)),this.resetQuoteState(),this.initializeNamespace(),this.fetchTokens()}disconnectedCallback(){super.disconnectedCallback(),this.resetAssetsState(),this.unsubscribe.forEach(e=>e())}updated(e){super.updated(e);e.has("selectedPaymentAsset")&&this.fetchQuote()}render(){return $`
      <wui-flex flexDirection="column">
        ${this.profileTemplate()}

        <wui-flex
          flexDirection="column"
          gap="4"
          class="payment-methods-container"
          .padding=${["4","4","5","4"]}
        >
          ${this.paymentOptionsViewTemplate()} ${this.amountWithFeeTemplate()}

          <wui-flex
            alignItems="center"
            justifyContent="space-between"
            .padding=${["1","0","1","0"]}
          >
            <wui-separator></wui-separator>
          </wui-flex>

          ${this.paymentActionsTemplate()}
        </wui-flex>
      </wui-flex>
    `}profileTemplate(){var t,i;if(this.selectedExchange){const o=e.formatNumber(null==(t=this.quote)?void 0:t.origin.amount,{decimals:(null==(i=this.quote)?void 0:i.origin.currency.metadata.decimals)??0}).toString();return $`
        <wui-flex
          .padding=${["4","3","4","3"]}
          alignItems="center"
          justifyContent="space-between"
          gap="2"
        >
          <wui-text variant="lg-regular" color="secondary">Paying with</wui-text>

          ${this.quote?$`<wui-text variant="lg-regular" color="primary">
                ${e.bigNumber(o,{safe:!0}).round(6).toString()}
                ${this.quote.origin.currency.metadata.symbol}
              </wui-text>`:$`<wui-shimmer width="80px" height="18px" variant="light"></wui-shimmer>`}
        </wui-flex>
      `}const o=p.getPlainAddress(this.caipAddress)??"",{name:n,image:a}=this.getWalletProperties({namespace:this.namespace}),{icon:r,label:s}=Zt[this.namespace]??{};return $`
      <wui-flex
        .padding=${["4","3","4","3"]}
        alignItems="center"
        justifyContent="space-between"
        gap="2"
      >
        <wui-wallet-switch
          profileName=${V(this.profileName)}
          address=${V(o)}
          imageSrc=${V(a)}
          alt=${V(n)}
          @click=${this.onConnectOtherWallet.bind(this)}
          data-testid="wui-wallet-switch"
        ></wui-wallet-switch>

        <wui-wallet-switch
          profileName=${V(s)}
          address=${V(o)}
          icon=${V(r)}
          iconSize="xs"
          .enableGreenCircle=${!1}
          alt=${V(s)}
          @click=${this.onConnectOtherWallet.bind(this)}
          data-testid="wui-wallet-switch"
        ></wui-wallet-switch>
      </wui-flex>
    `}initializeNamespace(){var e,t;const i=d.state.activeChain;this.namespace=i,this.caipAddress=null==(e=d.getAccountData(i))?void 0:e.caipAddress,this.profileName=(null==(t=d.getAccountData(i))?void 0:t.profileName)??null,this.unsubscribe.push(d.subscribeChainProp("accountState",e=>this.onAccountStateChanged(e),i))}async fetchTokens(){if(this.namespace){let e;if(this.caipAddress){const{chainId:t,chainNamespace:i}=N.parseCaipAddress(this.caipAddress),o=`${i}:${t}`;e=d.getAllRequestedCaipNetworks().find(e=>e.caipNetworkId===o)}await bt.fetchTokens({caipAddress:this.caipAddress,caipNetwork:e,namespace:this.namespace})}}fetchQuote(){if(this.amount&&this.recipient&&this.selectedPaymentAsset&&this.paymentAsset){const{address:e}=this.caipAddress?N.parseCaipAddress(this.caipAddress):{};bt.fetchQuote({amount:this.amount.toString(),address:e,sourceToken:this.selectedPaymentAsset,toToken:this.paymentAsset,recipient:this.recipient})}}getWalletProperties({namespace:e}){if(!e)return{name:void 0,image:void 0};const t=this.activeConnectorIds[e];if(!t)return{name:void 0,image:void 0};const i=f.getConnector({id:t,namespace:e});if(!i)return{name:void 0,image:void 0};const o=U.getConnectorImage(i);return{name:i.name,image:o}}paymentOptionsViewTemplate(){return $`
      <wui-flex flexDirection="column" gap="2">
        <wui-text variant="sm-regular" color="secondary">CHOOSE PAYMENT OPTION</wui-text>
        <wui-flex class="pay-options-container">${this.paymentOptionsTemplate()}</wui-flex>
      </wui-flex>
    `}paymentOptionsTemplate(){const e=this.getPaymentAssetFromTokenBalances();if(this.isFetchingTokenBalances)return $`<w3m-pay-options-skeleton></w3m-pay-options-skeleton>`;if(0===e.length)return $`<w3m-pay-options-empty
        @connectOtherWallet=${this.onConnectOtherWallet.bind(this)}
      ></w3m-pay-options-empty>`;const t={disabled:this.isFetchingQuote};return $`<w3m-pay-options
      class=${Y(t)}
      .options=${e}
      .selectedPaymentAsset=${V(this.selectedPaymentAsset)}
      .onSelect=${this.onSelectedPaymentAssetChanged.bind(this)}
    ></w3m-pay-options>`}amountWithFeeTemplate(){return this.isFetchingQuote||!this.selectedPaymentAsset||this.quoteError?$`<w3m-pay-fees-skeleton></w3m-pay-fees-skeleton>`:$`<w3m-pay-fees></w3m-pay-fees>`}paymentActionsTemplate(){var t,i,o;const n=this.isFetchingQuote||this.isFetchingTokenBalances,a=this.isFetchingQuote||this.isFetchingTokenBalances||!this.selectedPaymentAsset||Boolean(this.quoteError),r=e.formatNumber((null==(t=this.quote)?void 0:t.origin.amount)??0,{decimals:(null==(i=this.quote)?void 0:i.origin.currency.metadata.decimals)??0}).toString();return this.selectedExchange?n||a?$`
          <wui-shimmer width="100%" height="48px" variant="light" ?rounded=${!0}></wui-shimmer>
        `:$`<wui-button
        size="lg"
        fullWidth
        variant="accent-secondary"
        @click=${this.onPayWithExchange.bind(this)}
      >
        ${`Continue in ${this.selectedExchange.name}`}

        <wui-icon name="arrowRight" color="inherit" size="sm" slot="iconRight"></wui-icon>
      </wui-button>`:$`
      <wui-flex alignItems="center" justifyContent="space-between">
        <wui-flex flexDirection="column" gap="1">
          <wui-text variant="md-regular" color="secondary">Order Total</wui-text>

          ${n||a?$`<wui-shimmer width="58px" height="32px" variant="light"></wui-shimmer>`:$`<wui-flex alignItems="center" gap="01">
                <wui-text variant="h4-regular" color="primary">${mt(r)}</wui-text>

                <wui-text variant="lg-regular" color="secondary">
                  ${(null==(o=this.quote)?void 0:o.origin.currency.metadata.symbol)||"Unknown"}
                </wui-text>
              </wui-flex>`}
        </wui-flex>

        ${this.actionButtonTemplate({isLoading:n,isDisabled:a})}
      </wui-flex>
    `}actionButtonTemplate(e){const t=ot(this.quote),{isLoading:i,isDisabled:o}=e;let n="Pay";return t.length>1&&0===this.completedTransactionsCount&&(n="Approve"),$`
      <wui-button
        size="lg"
        variant="accent-primary"
        ?loading=${i||this.isPaymentInProgress}
        ?disabled=${o||this.isPaymentInProgress}
        @click=${()=>{t.length>0?this.onSendTransactions():this.onTransfer()}}
      >
        ${n}
        ${i?null:$`<wui-icon
              name="arrowRight"
              color="inherit"
              size="sm"
              slot="iconRight"
            ></wui-icon>`}
      </wui-button>
    `}getPaymentAssetFromTokenBalances(){if(!this.namespace)return[];return(this.tokenBalances[this.namespace]??[]).map(e=>{try{return function(e){const t=d.getAllRequestedCaipNetworks().find(t=>t.caipNetworkId===e.chainId);let i=e.address;if(!t)throw new Error(`Target network not found for balance chainId "${e.chainId}"`);if(O.isLowerCaseMatch(e.symbol,t.nativeCurrency.symbol))i="native";else if(p.isCaipAddress(i)){const{address:e}=N.parseCaipAddress(i);i=e}else if(!i)throw new Error(`Balance address not found for balance symbol "${e.symbol}"`);return{network:t.caipNetworkId,asset:i,metadata:{name:e.name,symbol:e.symbol,decimals:Number(e.quantity.decimals),logoURI:e.iconUrl},amount:e.quantity.numeric}}(e)}catch(t){return null}}).filter(e=>Boolean(e)).filter(e=>{const{chainId:t}=N.parseCaipNetworkId(e.network),{chainId:i}=N.parseCaipNetworkId(this.paymentAsset.network);return!!O.isLowerCaseMatch(e.asset,this.paymentAsset.asset)||(!this.selectedExchange||!O.isLowerCaseMatch(t.toString(),i.toString()))})}onTokenBalancesChanged(e){this.tokenBalances=e;const[t]=this.getPaymentAssetFromTokenBalances();t&&bt.setSelectedPaymentAsset(t)}async onConnectOtherWallet(){await f.connect(),await k.open({view:"PayQuote"})}onAccountStateChanged(e){const{address:t}=this.caipAddress?N.parseCaipAddress(this.caipAddress):{};if(this.caipAddress=null==e?void 0:e.caipAddress,this.profileName=(null==e?void 0:e.profileName)??null,t){const{address:e}=this.caipAddress?N.parseCaipAddress(this.caipAddress):{};e?O.isLowerCaseMatch(e,t)||(this.resetAssetsState(),this.resetQuoteState(),this.fetchTokens()):k.close()}}onSelectedPaymentAssetChanged(e){this.isFetchingQuote||bt.setSelectedPaymentAsset(e)}async onTransfer(){var t,i,a;const r=it(this.quote);if(r){if(!O.isLowerCaseMatch(null==(t=this.selectedPaymentAsset)?void 0:t.asset,r.deposit.currency))throw new Error("Quote asset is not the same as the selected payment asset");const s=(null==(i=this.selectedPaymentAsset)?void 0:i.amount)??"0",c=e.formatNumber(r.deposit.amount,{decimals:(null==(a=this.selectedPaymentAsset)?void 0:a.metadata.decimals)??0}).toString();if(!e.bigNumber(s).gte(c))return void n.showError("Insufficient funds");if(this.quote&&this.selectedPaymentAsset&&this.caipAddress&&this.namespace){const{address:e}=N.parseCaipAddress(this.caipAddress);await bt.onTransfer({chainNamespace:this.namespace,fromAddress:e,toAddress:r.deposit.receiver,amount:c,paymentAsset:this.selectedPaymentAsset}),bt.setRequestId(r.requestId),o.push("PayLoading")}}}async onSendTransactions(){var t,i,a;const r=(null==(t=this.selectedPaymentAsset)?void 0:t.amount)??"0",s=e.formatNumber((null==(i=this.quote)?void 0:i.origin.amount)??0,{decimals:(null==(a=this.selectedPaymentAsset)?void 0:a.metadata.decimals)??0}).toString();if(!e.bigNumber(r).gte(s))return void n.showError("Insufficient funds");const c=ot(this.quote),[l]=ot(this.quote,this.completedTransactionsCount);if(l&&this.namespace){await bt.onSendTransaction({namespace:this.namespace,transactionStep:l}),this.completedTransactionsCount+=1;this.completedTransactionsCount===c.length&&(bt.setRequestId(l.requestId),o.push("PayLoading"))}}onPayWithExchange(){if(this.exchangeUrlForQuote){const e=p.returnOpenHref("","popupWindow","scrollbar=yes,width=480,height=720");if(!e)throw new Error("Could not create popup window");e.location.href=this.exchangeUrlForQuote;const t=it(this.quote);t&&bt.setRequestId(t.requestId),bt.initiatePayment(),o.push("PayLoading")}}resetAssetsState(){bt.setSelectedPaymentAsset(null)}resetQuoteState(){bt.resetQuoteState()}};Jt.styles=Yt,Xt([K()],Jt.prototype,"profileName",void 0),Xt([K()],Jt.prototype,"paymentAsset",void 0),Xt([K()],Jt.prototype,"namespace",void 0),Xt([K()],Jt.prototype,"caipAddress",void 0),Xt([K()],Jt.prototype,"amount",void 0),Xt([K()],Jt.prototype,"recipient",void 0),Xt([K()],Jt.prototype,"activeConnectorIds",void 0),Xt([K()],Jt.prototype,"selectedPaymentAsset",void 0),Xt([K()],Jt.prototype,"selectedExchange",void 0),Xt([K()],Jt.prototype,"isFetchingQuote",void 0),Xt([K()],Jt.prototype,"quoteError",void 0),Xt([K()],Jt.prototype,"quote",void 0),Xt([K()],Jt.prototype,"isFetchingTokenBalances",void 0),Xt([K()],Jt.prototype,"tokenBalances",void 0),Xt([K()],Jt.prototype,"isPaymentInProgress",void 0),Xt([K()],Jt.prototype,"exchangeUrlForQuote",void 0),Xt([K()],Jt.prototype,"completedTransactionsCount",void 0),Jt=Xt([M("w3m-pay-quote-view")],Jt);const ei=T`
  wui-image {
    border-radius: ${({borderRadius:e})=>e.round};
  }

  .transfers-badge {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border: 1px solid ${({tokens:e})=>e.theme.foregroundSecondary};
    border-radius: ${({borderRadius:e})=>e[4]};
  }
`;var ti=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let ii=class extends A{constructor(){super(),this.unsubscribe=[],this.paymentAsset=bt.state.paymentAsset,this.amount=bt.state.amount,this.unsubscribe.push(bt.subscribeKey("paymentAsset",e=>{this.paymentAsset=e}),bt.subscribeKey("amount",e=>{this.amount=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=d.getAllRequestedCaipNetworks().find(e=>e.caipNetworkId===this.paymentAsset.network);return $`<wui-flex
      alignItems="center"
      gap="1"
      .padding=${["1","2","1","1"]}
      class="transfers-badge"
    >
      <wui-image src=${V(this.paymentAsset.metadata.logoURI)} size="xl"></wui-image>
      <wui-text variant="lg-regular" color="primary">
        ${this.amount} ${this.paymentAsset.metadata.symbol}
      </wui-text>
      <wui-text variant="sm-regular" color="secondary">
        on ${(null==e?void 0:e.name)??"Unknown"}
      </wui-text>
    </wui-flex>`}};ii.styles=[ei],ti([H()],ii.prototype,"paymentAsset",void 0),ti([H()],ii.prototype,"amount",void 0),ii=ti([M("w3m-pay-header")],ii);const oi=T`
  :host {
    height: 60px;
  }

  :host > wui-flex {
    box-sizing: border-box;
    background-color: var(--local-header-background-color);
  }

  wui-text {
    background-color: var(--local-header-background-color);
  }

  wui-flex.w3m-header-title {
    transform: translateY(0);
    opacity: 1;
  }

  wui-flex.w3m-header-title[view-direction='prev'] {
    animation:
      slide-down-out 120ms forwards ${({easings:e})=>e["ease-out-power-2"]},
      slide-down-in 120ms forwards ${({easings:e})=>e["ease-out-power-2"]};
    animation-delay: 0ms, 200ms;
  }

  wui-flex.w3m-header-title[view-direction='next'] {
    animation:
      slide-up-out 120ms forwards ${({easings:e})=>e["ease-out-power-2"]},
      slide-up-in 120ms forwards ${({easings:e})=>e["ease-out-power-2"]};
    animation-delay: 0ms, 200ms;
  }

  wui-icon-button[data-hidden='true'] {
    opacity: 0 !important;
    pointer-events: none;
  }

  @keyframes slide-up-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(3px);
      opacity: 0;
    }
  }

  @keyframes slide-up-in {
    from {
      transform: translateY(-3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-down-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(-3px);
      opacity: 0;
    }
  }

  @keyframes slide-down-in {
    from {
      transform: translateY(3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`;var ni=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};const ai=["SmartSessionList"],ri={PayWithExchange:W.tokens.theme.foregroundPrimary};function si(){var e,t,i,n,a,r,s,c;const l=null==(t=null==(e=o.state.data)?void 0:e.connector)?void 0:t.name,u=null==(n=null==(i=o.state.data)?void 0:i.wallet)?void 0:n.name,p=null==(r=null==(a=o.state.data)?void 0:a.network)?void 0:r.name,h=u??l,m=f.getConnectors(),w=1===m.length&&"w3m-email"===(null==(s=m[0])?void 0:s.id),g=null==(c=d.getAccountData())?void 0:c.socialProvider;return{Connect:`Connect ${w?"Email":""} Wallet`,Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",UsageExceeded:"Usage Exceeded",ConnectingExternal:h??"Connect Wallet",ConnectingWalletConnect:h??"WalletConnect",ConnectingWalletConnectBasic:"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview Convert",Downloads:h?`Get ${h}`:"Downloads",EmailLogin:"Email Login",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a Wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Pay:"How you pay",ProfileWallets:"Wallets",SwitchNetwork:p??"Switch Network",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade Your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose Name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select Token",SwapPreview:"Preview Swap",WalletSend:"Send",WalletSendPreview:"Review Send",WalletSendSelectToken:"Select Token",WalletSendConfirmed:"Confirmed",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a Wallet?",ConnectWallets:"Connect Wallet",ConnectSocials:"All Socials",ConnectingSocial:g?g.charAt(0).toUpperCase()+g.slice(1):"Connect Social",ConnectingMultiChain:"Select Chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch Chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In",PayLoading:"Processing payment...",PayQuote:"Payment Quote",DataCapture:"Profile",DataCaptureOtpConfirm:"Confirm Email",FundWallet:"Fund Wallet",PayWithExchange:"Deposit from Exchange",PayWithExchangeSelectAsset:"Select Asset",SmartAccountSettings:"Smart Account Settings"}}let ci=class extends A{constructor(){super(),this.unsubscribe=[],this.heading=si()[o.state.view],this.network=d.state.activeCaipNetwork,this.networkImage=U.getNetworkImage(this.network),this.showBack=!1,this.prevHistoryLength=1,this.view=o.state.view,this.viewDirection="",this.unsubscribe.push(B.subscribeNetworkImages(()=>{this.networkImage=U.getNetworkImage(this.network)}),o.subscribeKey("view",e=>{setTimeout(()=>{this.view=e,this.heading=si()[e]},Ae.ANIMATION_DURATIONS.HeaderText),this.onViewChange(),this.onHistoryChange()}),d.subscribeKey("activeCaipNetwork",e=>{this.network=e,this.networkImage=U.getNetworkImage(this.network)}))}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=ri[o.state.view]??W.tokens.theme.backgroundPrimary;return this.style.setProperty("--local-header-background-color",e),$`
      <wui-flex
        .padding=${["0","4","0","4"]}
        justifyContent="space-between"
        alignItems="center"
      >
        ${this.leftHeaderTemplate()} ${this.titleTemplate()} ${this.rightHeaderTemplate()}
      </wui-flex>
    `}onWalletHelp(){s.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),o.push("WhatIsAWallet")}async onClose(){await ae.safeClose()}rightHeaderTemplate(){var e,t,i;const n=null==(i=null==(t=null==(e=z)?void 0:e.state)?void 0:t.features)?void 0:i.smartSessions;return"Account"===o.state.view&&n?$`<wui-flex>
      <wui-icon-button
        icon="clock"
        size="lg"
        iconSize="lg"
        type="neutral"
        variant="primary"
        @click=${()=>o.push("SmartSessionList")}
        data-testid="w3m-header-smart-sessions"
      ></wui-icon-button>
      ${this.closeButtonTemplate()}
    </wui-flex> `:this.closeButtonTemplate()}closeButtonTemplate(){return $`
      <wui-icon-button
        icon="close"
        size="lg"
        type="neutral"
        variant="primary"
        iconSize="lg"
        @click=${this.onClose.bind(this)}
        data-testid="w3m-header-close"
      ></wui-icon-button>
    `}titleTemplate(){if("PayQuote"===this.view)return $`<w3m-pay-header></w3m-pay-header>`;const e=ai.includes(this.view);return $`
      <wui-flex
        view-direction="${this.viewDirection}"
        class="w3m-header-title"
        alignItems="center"
        gap="2"
      >
        <wui-text
          display="inline"
          variant="lg-regular"
          color="primary"
          data-testid="w3m-header-text"
        >
          ${this.heading}
        </wui-text>
        ${e?$`<wui-tag variant="accent" size="md">Beta</wui-tag>`:null}
      </wui-flex>
    `}leftHeaderTemplate(){var e;const{view:t}=o.state,i="Connect"===t,n=z.state.enableEmbedded,a="ApproveTransaction"===t,r="ConnectingSiwe"===t,s="Account"===t,c=z.state.enableNetworkSwitch,l=a||r||i&&n;return s&&c?$`<wui-select
        id="dynamic"
        data-testid="w3m-account-select-network"
        active-network=${V(null==(e=this.network)?void 0:e.name)}
        @click=${this.onNetworks.bind(this)}
        imageSrc=${V(this.networkImage)}
      ></wui-select>`:this.showBack&&!l?$`<wui-icon-button
        data-testid="header-back"
        id="dynamic"
        icon="chevronLeft"
        size="lg"
        iconSize="lg"
        type="neutral"
        variant="primary"
        @click=${this.onGoBack.bind(this)}
      ></wui-icon-button>`:$`<wui-icon-button
      data-hidden=${!i}
      id="dynamic"
      icon="helpCircle"
      size="lg"
      iconSize="lg"
      type="neutral"
      variant="primary"
      @click=${this.onWalletHelp.bind(this)}
    ></wui-icon-button>`}onNetworks(){this.isAllowedNetworkSwitch()&&(s.sendEvent({type:"track",event:"CLICK_NETWORKS"}),o.push("Networks"))}isAllowedNetworkSwitch(){const e=d.getAllRequestedCaipNetworks(),t=!!e&&e.length>1,i=null==e?void 0:e.find(({id:e})=>{var t;return e===(null==(t=this.network)?void 0:t.id)});return t||!i}onViewChange(){const{history:e}=o.state;let t=Ae.VIEW_DIRECTION.Next;e.length<this.prevHistoryLength&&(t=Ae.VIEW_DIRECTION.Prev),this.prevHistoryLength=e.length,this.viewDirection=t}async onHistoryChange(){var e;const{history:t}=o.state,i=null==(e=this.shadowRoot)?void 0:e.querySelector("#dynamic");t.length>1&&!this.showBack&&i?(await i.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!0,i.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})):t.length<=1&&this.showBack&&i&&(await i.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!1,i.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}onGoBack(){o.goBack()}};ci.styles=oi,ni([K()],ci.prototype,"heading",void 0),ni([K()],ci.prototype,"network",void 0),ni([K()],ci.prototype,"networkImage",void 0),ni([K()],ci.prototype,"showBack",void 0),ni([K()],ci.prototype,"prevHistoryLength",void 0),ni([K()],ci.prototype,"view",void 0),ni([K()],ci.prototype,"viewDirection",void 0),ci=ni([M("w3m-header")],ci);const li=T`
  :host {
    display: flex;
    align-items: center;
    gap: ${({spacing:e})=>e[1]};
    padding: ${({spacing:e})=>e[2]} ${({spacing:e})=>e[3]}
      ${({spacing:e})=>e[2]} ${({spacing:e})=>e[2]};
    border-radius: ${({borderRadius:e})=>e[20]};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    box-shadow:
      0px 0px 8px 0px rgba(0, 0, 0, 0.1),
      inset 0 0 0 1px ${({tokens:e})=>e.theme.borderPrimary};
    max-width: 320px;
  }

  wui-icon-box {
    border-radius: ${({borderRadius:e})=>e.round} !important;
    overflow: hidden;
  }

  wui-loading-spinner {
    padding: ${({spacing:e})=>e[1]};
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
    border-radius: ${({borderRadius:e})=>e.round} !important;
  }
`;var di=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let ui=class extends A{constructor(){super(...arguments),this.message="",this.variant="success"}render(){return $`
      ${this.templateIcon()}
      <wui-text variant="lg-regular" color="primary" data-testid="wui-snackbar-message"
        >${this.message}</wui-text
      >
    `}templateIcon(){return"loading"===this.variant?$`<wui-loading-spinner size="md" color="accent-primary"></wui-loading-spinner>`:$`<wui-icon-box
      size="md"
      color=${{success:"success",error:"error",warning:"warning",info:"default"}[this.variant]}
      icon=${{success:"checkmark",error:"warning",warning:"warningCircle",info:"info"}[this.variant]}
    ></wui-icon-box>`}};ui.styles=[S,li],di([H()],ui.prototype,"message",void 0),di([H()],ui.prototype,"variant",void 0),ui=di([M("wui-snackbar")],ui);const pi=j`
  :host {
    display: block;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    top: 11px;
    left: 50%;
    width: max-content;
  }
`;var hi=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let mi=class extends A{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=n.state.open,this.unsubscribe.push(n.subscribeKey("open",e=>{this.open=e,this.onOpen()}))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:t}=n.state;return $` <wui-snackbar message=${e} variant=${t}></wui-snackbar> `}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),n.state.autoClose&&(this.timeout=setTimeout(()=>n.hide(),2500))):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}};mi.styles=pi,hi([K()],mi.prototype,"open",void 0),mi=hi([M("w3m-snackbar")],mi);const wi=j`
  :host {
    width: 100%;
    display: block;
  }
`;var gi=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let yi=class extends A{constructor(){super(),this.unsubscribe=[],this.text="",this.open=ne.state.open,this.unsubscribe.push(o.subscribeKey("view",()=>{ne.hide()}),k.subscribeKey("open",e=>{e||ne.hide()}),ne.subscribeKey("open",e=>{this.open=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),ne.hide()}render(){return $`
      <div
        @pointermove=${this.onMouseEnter.bind(this)}
        @pointerleave=${this.onMouseLeave.bind(this)}
      >
        ${this.renderChildren()}
      </div>
    `}renderChildren(){return $`<slot></slot> `}onMouseEnter(){const e=this.getBoundingClientRect();if(!this.open){const t=document.querySelector("w3m-modal"),i={width:e.width,height:e.height,left:e.left,top:e.top};if(t){const o=t.getBoundingClientRect();i.left=e.left-(window.innerWidth-o.width)/2,i.top=e.top-(window.innerHeight-o.height)/2}ne.showTooltip({message:this.text,triggerRect:i,variant:"shade"})}}onMouseLeave(e){this.contains(e.relatedTarget)||ne.hide()}};yi.styles=[wi],gi([H()],yi.prototype,"text",void 0),gi([K()],yi.prototype,"open",void 0),yi=gi([M("w3m-tooltip-trigger")],yi);const fi=T`
  :host {
    pointer-events: none;
  }

  :host > wui-flex {
    display: var(--w3m-tooltip-display);
    opacity: var(--w3m-tooltip-opacity);
    padding: 9px ${({spacing:e})=>e[3]} 10px ${({spacing:e})=>e[3]};
    border-radius: ${({borderRadius:e})=>e[3]};
    color: ${({tokens:e})=>e.theme.backgroundPrimary};
    position: absolute;
    top: var(--w3m-tooltip-top);
    left: var(--w3m-tooltip-left);
    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));
    max-width: calc(var(--apkt-modal-width) - ${({spacing:e})=>e[5]});
    transition: opacity ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: opacity;
    opacity: 0;
    animation-duration: ${({durations:e})=>e.xl};
    animation-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  :host([data-variant='shade']) > wui-flex {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  :host([data-variant='shade']) > wui-flex > wui-text {
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  :host([data-variant='fill']) > wui-flex {
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    border: 1px solid ${({tokens:e})=>e.theme.borderPrimary};
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
    color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`;var vi=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let bi=class extends A{constructor(){super(),this.unsubscribe=[],this.open=ne.state.open,this.message=ne.state.message,this.triggerRect=ne.state.triggerRect,this.variant=ne.state.variant,this.unsubscribe.push(ne.subscribe(e=>{this.open=e.open,this.message=e.message,this.triggerRect=e.triggerRect,this.variant=e.variant}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){this.dataset.variant=this.variant;const e=this.triggerRect.top,t=this.triggerRect.left;return this.style.cssText=`\n    --w3m-tooltip-top: ${e}px;\n    --w3m-tooltip-left: ${t}px;\n    --w3m-tooltip-parent-width: ${this.triggerRect.width/2}px;\n    --w3m-tooltip-display: ${this.open?"flex":"none"};\n    --w3m-tooltip-opacity: ${this.open?1:0};\n    `,$`<wui-flex>
      <wui-icon data-placement="top" size="inherit" name="cursor"></wui-icon>
      <wui-text color="primary" variant="sm-regular">${this.message}</wui-text>
    </wui-flex>`}};bi.styles=[fi],vi([K()],bi.prototype,"open",void 0),vi([K()],bi.prototype,"message",void 0),vi([K()],bi.prototype,"triggerRect",void 0),vi([K()],bi.prototype,"variant",void 0),bi=vi([M("w3m-tooltip")],bi);const ki={getTabsByNamespace(e){var t;return Boolean(e)&&e===r.CHAIN.EVM?!1===(null==(t=z.state.remoteFeatures)?void 0:t.activity)?Ae.ACCOUNT_TABS.filter(e=>"Activity"!==e.label):Ae.ACCOUNT_TABS:[]},isValidReownName:e=>/^[a-zA-Z0-9]+$/gu.test(e),isValidEmail:e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/gu.test(e),validateReownName:e=>e.replace(/\^/gu,"").toLowerCase().replace(/[^a-zA-Z0-9]/gu,""),hasFooter(){var e;const t=o.state.view;if(Ae.VIEWS_WITH_LEGAL_FOOTER.includes(t)){const{termsConditionsUrl:t,privacyPolicyUrl:i}=z.state,o=null==(e=z.state.features)?void 0:e.legalCheckbox;return!(!t&&!i||o)}return Ae.VIEWS_WITH_DEFAULT_FOOTER.includes(t)}},xi=T`
  :host wui-ux-by-reown {
    padding-top: 0;
  }

  :host wui-ux-by-reown.branding-only {
    padding-top: ${({spacing:e})=>e[3]};
  }

  a {
    text-decoration: none;
    color: ${({tokens:e})=>e.core.textAccentPrimary};
    font-weight: 500;
  }
`;var Ti=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let Si=class extends A{constructor(){super(),this.unsubscribe=[],this.remoteFeatures=z.state.remoteFeatures,this.unsubscribe.push(z.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){var e;const{termsConditionsUrl:t,privacyPolicyUrl:i}=z.state,o=null==(e=z.state.features)?void 0:e.legalCheckbox;return!t&&!i||o?$`
        <wui-flex flexDirection="column"> ${this.reownBrandingTemplate(!0)} </wui-flex>
      `:$`
      <wui-flex flexDirection="column">
        <wui-flex .padding=${["4","3","3","3"]} justifyContent="center">
          <wui-text color="secondary" variant="md-regular" align="center">
            By connecting your wallet, you agree to our <br />
            ${this.termsTemplate()} ${this.andTemplate()} ${this.privacyTemplate()}
          </wui-text>
        </wui-flex>
        ${this.reownBrandingTemplate()}
      </wui-flex>
    `}andTemplate(){const{termsConditionsUrl:e,privacyPolicyUrl:t}=z.state;return e&&t?"and":""}termsTemplate(){const{termsConditionsUrl:e}=z.state;return e?$`<a href=${e} target="_blank" rel="noopener noreferrer"
      >Terms of Service</a
    >`:null}privacyTemplate(){const{privacyPolicyUrl:e}=z.state;return e?$`<a href=${e} target="_blank" rel="noopener noreferrer"
      >Privacy Policy</a
    >`:null}reownBrandingTemplate(e=!1){var t;return(null==(t=this.remoteFeatures)?void 0:t.reownBranding)?e?$`<wui-ux-by-reown class="branding-only"></wui-ux-by-reown>`:$`<wui-ux-by-reown></wui-ux-by-reown>`:null}};Si.styles=[xi],Ti([K()],Si.prototype,"remoteFeatures",void 0),Si=Ti([M("w3m-legal-footer")],Si);const Ai=j``;let $i=class extends A{render(){const{termsConditionsUrl:e,privacyPolicyUrl:t}=z.state;return e||t?$`
      <wui-flex
        .padding=${["4","3","3","3"]}
        flexDirection="column"
        alignItems="center"
        justifyContent="center"
        gap="3"
      >
        <wui-text color="secondary" variant="md-regular" align="center">
          We work with the best providers to give you the lowest fees and best support. More options
          coming soon!
        </wui-text>

        ${this.howDoesItWorkTemplate()}
      </wui-flex>
    `:null}howDoesItWorkTemplate(){return $` <wui-link @click=${this.onWhatIsBuy.bind(this)}>
      <wui-icon size="xs" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>
      How does it work?
    </wui-link>`}onWhatIsBuy(){s.sendEvent({type:"track",event:"SELECT_WHAT_IS_A_BUY",properties:{isSmartAccount:c(d.state.activeChain)===l.ACCOUNT_TYPES.SMART_ACCOUNT}}),o.push("WhatIsABuy")}};$i.styles=[Ai],$i=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r}([M("w3m-onramp-providers-footer")],$i);const Pi=T`
  :host {
    display: block;
  }

  div.container {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    overflow: hidden;
    height: auto;
    display: block;
  }

  div.container[status='hide'] {
    animation: fade-out;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: 0s;
  }

  div.container[status='show'] {
    animation: fade-in;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: var(--apkt-duration-dynamic);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      filter: blur(6px);
    }
    to {
      opacity: 1;
      filter: blur(0px);
    }
  }

  @keyframes fade-out {
    from {
      opacity: 1;
      filter: blur(0px);
    }
    to {
      opacity: 0;
      filter: blur(6px);
    }
  }
`;var Ci=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let Ii=class extends A{constructor(){super(...arguments),this.resizeObserver=void 0,this.unsubscribe=[],this.status="hide",this.view=o.state.view}firstUpdated(){this.status=ki.hasFooter()?"show":"hide",this.unsubscribe.push(o.subscribeKey("view",e=>{if(this.view=e,this.status=ki.hasFooter()?"show":"hide","hide"===this.status){document.documentElement.style.setProperty("--apkt-footer-height","0px")}})),this.resizeObserver=new ResizeObserver(e=>{for(const t of e)if(t.target===this.getWrapper()){const e=`${t.contentRect.height}px`;document.documentElement.style.setProperty("--apkt-footer-height",e)}}),this.resizeObserver.observe(this.getWrapper())}render(){return $`
      <div class="container" status=${this.status}>${this.templatePageContainer()}</div>
    `}templatePageContainer(){return ki.hasFooter()?$` ${this.templateFooter()}`:null}templateFooter(){switch(this.view){case"Networks":return this.templateNetworksFooter();case"Connect":case"ConnectWallets":case"OnRampFiatSelect":case"OnRampTokenSelect":return $`<w3m-legal-footer></w3m-legal-footer>`;case"OnRampProviders":return $`<w3m-onramp-providers-footer></w3m-onramp-providers-footer>`;default:return null}}templateNetworksFooter(){return $` <wui-flex
      class="footer-in"
      padding="3"
      flexDirection="column"
      gap="3"
      alignItems="center"
    >
      <wui-text variant="md-regular" color="secondary" align="center">
        Your connected wallet may not support some of the networks available for this dApp
      </wui-text>
      <wui-link @click=${this.onNetworkHelp.bind(this)}>
        <wui-icon size="sm" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>
        What is a network
      </wui-link>
    </wui-flex>`}onNetworkHelp(){s.sendEvent({type:"track",event:"CLICK_NETWORK_HELP"}),o.push("WhatIsANetwork")}getWrapper(){var e;return null==(e=this.shadowRoot)?void 0:e.querySelector("div.container")}};Ii.styles=[Pi],Ci([K()],Ii.prototype,"status",void 0),Ci([K()],Ii.prototype,"view",void 0),Ii=Ci([M("w3m-footer")],Ii);const Ei=T`
  :host {
    display: block;
    width: inherit;
  }
`;var Ni=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let Ri=class extends A{constructor(){super(),this.unsubscribe=[],this.viewState=o.state.view,this.history=o.state.history.join(","),this.unsubscribe.push(o.subscribeKey("view",()=>{this.history=o.state.history.join(","),document.documentElement.style.setProperty("--apkt-duration-dynamic","var(--apkt-durations-lg)")}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),document.documentElement.style.setProperty("--apkt-duration-dynamic","0s")}render(){return $`${this.templatePageContainer()}`}templatePageContainer(){return $`<w3m-router-container
      history=${this.history}
      .setView=${()=>{this.viewState=o.state.view}}
    >
      ${this.viewTemplate(this.viewState)}
    </w3m-router-container>`}viewTemplate(e){switch(e){case"AccountSettings":return $`<w3m-account-settings-view></w3m-account-settings-view>`;case"Account":return $`<w3m-account-view></w3m-account-view>`;case"AllWallets":return $`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"ApproveTransaction":return $`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"BuyInProgress":return $`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case"ChooseAccountName":return $`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case"Connect":default:return $`<w3m-connect-view></w3m-connect-view>`;case"Create":return $`<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;case"ConnectingWalletConnect":return $`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingWalletConnectBasic":return $`<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;case"ConnectingExternal":return $`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return $`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"ConnectWallets":return $`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case"ConnectSocials":return $`<w3m-connect-socials-view></w3m-connect-socials-view>`;case"ConnectingSocial":return $`<w3m-connecting-social-view></w3m-connecting-social-view>`;case"DataCapture":return $`<w3m-data-capture-view></w3m-data-capture-view>`;case"DataCaptureOtpConfirm":return $`<w3m-data-capture-otp-confirm-view></w3m-data-capture-otp-confirm-view>`;case"Downloads":return $`<w3m-downloads-view></w3m-downloads-view>`;case"EmailLogin":return $`<w3m-email-login-view></w3m-email-login-view>`;case"EmailVerifyOtp":return $`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return $`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"GetWallet":return $`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Networks":return $`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return $`<w3m-network-switch-view></w3m-network-switch-view>`;case"ProfileWallets":return $`<w3m-profile-wallets-view></w3m-profile-wallets-view>`;case"Transactions":return $`<w3m-transactions-view></w3m-transactions-view>`;case"OnRampProviders":return $`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampTokenSelect":return $`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return $`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"UpgradeEmailWallet":return $`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpdateEmailWallet":return $`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return $`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return $`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return $`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"Swap":return $`<w3m-swap-view></w3m-swap-view>`;case"SwapSelectToken":return $`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case"SwapPreview":return $`<w3m-swap-preview-view></w3m-swap-preview-view>`;case"WalletSend":return $`<w3m-wallet-send-view></w3m-wallet-send-view>`;case"WalletSendSelectToken":return $`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case"WalletSendPreview":return $`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case"WalletSendConfirmed":return $`<w3m-send-confirmed-view></w3m-send-confirmed-view>`;case"WhatIsABuy":return $`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"WalletReceive":return $`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case"WalletCompatibleNetworks":return $`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case"WhatIsAWallet":return $`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"ConnectingMultiChain":return $`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case"WhatIsANetwork":return $`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"ConnectingFarcaster":return $`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case"SwitchActiveChain":return $`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case"RegisterAccountName":return $`<w3m-register-account-name-view></w3m-register-account-name-view>`;case"RegisterAccountNameSuccess":return $`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case"SmartSessionCreated":return $`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case"SmartSessionList":return $`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case"SIWXSignMessage":return $`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;case"Pay":return $`<w3m-pay-view></w3m-pay-view>`;case"PayLoading":return $`<w3m-pay-loading-view></w3m-pay-loading-view>`;case"PayQuote":return $`<w3m-pay-quote-view></w3m-pay-quote-view>`;case"FundWallet":return $`<w3m-fund-wallet-view></w3m-fund-wallet-view>`;case"PayWithExchange":return $`<w3m-deposit-from-exchange-view></w3m-deposit-from-exchange-view>`;case"PayWithExchangeSelectAsset":return $`<w3m-deposit-from-exchange-select-asset-view></w3m-deposit-from-exchange-select-asset-view>`;case"UsageExceeded":return $`<w3m-usage-exceeded-view></w3m-usage-exceeded-view>`;case"SmartAccountSettings":return $`<w3m-smart-account-settings-view></w3m-smart-account-settings-view>`}}};Ri.styles=[Ei],Ni([K()],Ri.prototype,"viewState",void 0),Ni([K()],Ri.prototype,"history",void 0),Ri=Ni([M("w3m-router")],Ri);const Oi=T`
  :host {
    z-index: ${({tokens:e})=>e.core.zIndex};
    display: block;
    backface-visibility: hidden;
    will-change: opacity;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
    background-color: ${({tokens:e})=>e.theme.overlay};
    backdrop-filter: blur(0px);
    transition:
      opacity ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      backdrop-filter ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]};
    will-change: opacity;
  }

  :host(.open) {
    opacity: 1;
    backdrop-filter: blur(8px);
  }

  :host(.appkit-modal) {
    position: relative;
    pointer-events: unset;
    background: none;
    width: 100%;
    opacity: 1;
  }

  wui-card {
    max-width: var(--apkt-modal-width);
    width: 100%;
    position: relative;
    outline: none;
    transform: translateY(4px);
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.05);
    transition:
      transform ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      border-radius ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]},
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]},
      box-shadow ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]};
    will-change: border-radius, background-color, transform, box-shadow;
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    padding: var(--local-modal-padding);
    box-sizing: border-box;
  }

  :host(.open) wui-card {
    transform: translateY(0px);
  }

  wui-card::before {
    z-index: 1;
    pointer-events: none;
    content: '';
    position: absolute;
    inset: 0;
    border-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
    transition: box-shadow ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    transition-delay: ${({durations:e})=>e.md};
    will-change: box-shadow;
  }

  :host([data-mobile-fullscreen='true']) wui-card::before {
    border-radius: 0px;
  }

  :host([data-border='true']) wui-card::before {
    box-shadow: inset 0px 0px 0px 4px ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  :host([data-border='false']) wui-card::before {
    box-shadow: inset 0px 0px 0px 1px ${({tokens:e})=>e.theme.borderPrimaryDark};
  }

  :host([data-border='true']) wui-card {
    animation:
      fade-in ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      card-background-border var(--apkt-duration-dynamic)
        ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: backwards, both;
    animation-delay: var(--apkt-duration-dynamic);
  }

  :host([data-border='false']) wui-card {
    animation:
      fade-in ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      card-background-default var(--apkt-duration-dynamic)
        ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: backwards, both;
    animation-delay: 0s;
  }

  :host(.appkit-modal) wui-card {
    max-width: var(--apkt-modal-width);
  }

  wui-card[shake='true'] {
    animation:
      fade-in ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      w3m-shake ${({durations:e})=>e.xl}
        ${({easings:e})=>e["ease-out-power-2"]};
  }

  wui-flex {
    overflow-x: hidden;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  @media (max-height: 700px) and (min-width: 431px) {
    wui-flex {
      align-items: flex-start;
    }

    wui-card {
      margin: var(--apkt-spacing-6) 0px;
    }
  }

  @media (max-width: 430px) {
    :host([data-mobile-fullscreen='true']) {
      height: 100dvh;
    }
    :host([data-mobile-fullscreen='true']) wui-flex {
      align-items: stretch;
    }
    :host([data-mobile-fullscreen='true']) wui-card {
      max-width: 100%;
      height: 100%;
      border-radius: 0;
      border: none;
    }
    :host(:not([data-mobile-fullscreen='true'])) wui-flex {
      align-items: flex-end;
    }

    :host(:not([data-mobile-fullscreen='true'])) wui-card {
      max-width: 100%;
      border-bottom: none;
    }

    :host(:not([data-mobile-fullscreen='true'])) wui-card[data-embedded='true'] {
      border-bottom-left-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
      border-bottom-right-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
    }

    :host(:not([data-mobile-fullscreen='true'])) wui-card:not([data-embedded='true']) {
      border-bottom-left-radius: 0px;
      border-bottom-right-radius: 0px;
    }

    wui-card[shake='true'] {
      animation: w3m-shake 0.5s ${({easings:e})=>e["ease-out-power-2"]};
    }
  }

  @keyframes fade-in {
    0% {
      transform: scale(0.99) translateY(4px);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes w3m-shake {
    0% {
      transform: scale(1) rotate(0deg);
    }
    20% {
      transform: scale(1) rotate(-1deg);
    }
    40% {
      transform: scale(1) rotate(1.5deg);
    }
    60% {
      transform: scale(1) rotate(-1.5deg);
    }
    80% {
      transform: scale(1) rotate(1deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes card-background-border {
    from {
      background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    }
    to {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
  }

  @keyframes card-background-default {
    from {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
    to {
      background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    }
  }
`;var zi=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};const Di="scroll-lock",Ui={PayWithExchange:"0",PayWithExchangeSelectAsset:"0",Pay:"0",PayQuote:"0",PayLoading:"0"};class Wi extends A{constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.hasPrefetched=!1,this.enableEmbedded=z.state.enableEmbedded,this.open=k.state.open,this.caipAddress=d.state.activeCaipAddress,this.caipNetwork=d.state.activeCaipNetwork,this.shake=k.state.shake,this.filterByNamespace=f.state.filterByNamespace,this.padding=W.spacing[1],this.mobileFullScreen=z.state.enableMobileFullScreen,this.initializeTheming(),F.prefetchAnalyticsConfig(),this.unsubscribe.push(k.subscribeKey("open",e=>e?this.onOpen():this.onClose()),k.subscribeKey("shake",e=>this.shake=e),d.subscribeKey("activeCaipNetwork",e=>this.onNewNetwork(e)),d.subscribeKey("activeCaipAddress",e=>this.onNewAddress(e)),z.subscribeKey("enableEmbedded",e=>this.enableEmbedded=e),f.subscribeKey("filterByNamespace",e=>{var t;this.filterByNamespace===e||(null==(t=d.getAccountData(e))?void 0:t.caipAddress)||(F.fetchRecommendedWallets(),this.filterByNamespace=e)}),o.subscribeKey("view",()=>{this.dataset.border=ki.hasFooter()?"true":"false",this.padding=Ui[o.state.view]??W.spacing[1]}))}firstUpdated(){if(this.dataset.border=ki.hasFooter()?"true":"false",this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),this.caipAddress){if(this.enableEmbedded)return k.close(),void this.prefetch();this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.onRemoveKeyboardListener()}render(){return this.style.setProperty("--local-modal-padding",this.padding),this.enableEmbedded?$`${this.contentTemplate()}
        <w3m-tooltip></w3m-tooltip> `:this.open?$`
          <wui-flex @click=${this.onOverlayClick.bind(this)} data-testid="w3m-modal-overlay">
            ${this.contentTemplate()}
          </wui-flex>
          <w3m-tooltip></w3m-tooltip>
        `:null}contentTemplate(){return $` <wui-card
      shake="${this.shake}"
      data-embedded="${V(this.enableEmbedded)}"
      role="alertdialog"
      aria-modal="true"
      tabindex="0"
      data-testid="w3m-modal-card"
    >
      <w3m-header></w3m-header>
      <w3m-router></w3m-router>
      <w3m-footer></w3m-footer>
      <w3m-snackbar></w3m-snackbar>
      <w3m-alertbar></w3m-alertbar>
    </wui-card>`}async onOverlayClick(e){if(e.target===e.currentTarget){if(this.mobileFullScreen)return;await this.handleClose()}}async handleClose(){await ae.safeClose()}initializeTheming(){const{themeVariables:e,themeMode:t}=L.state,i=G.getColorTheme(t);q(e,i)}onClose(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),n.hide(),this.onRemoveKeyboardListener()}onOpen(){this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}onScrollLock(){const e=document.createElement("style");e.dataset.w3m=Di,e.textContent="\n      body {\n        touch-action: none;\n        overflow: hidden;\n        overscroll-behavior: contain;\n      }\n      w3m-modal {\n        pointer-events: auto;\n      }\n    ",document.head.appendChild(e)}onScrollUnlock(){const e=document.head.querySelector(`style[data-w3m="${Di}"]`);e&&e.remove()}onAddKeyboardListener(){var e;this.abortController=new AbortController;const t=null==(e=this.shadowRoot)?void 0:e.querySelector("wui-card");null==t||t.focus(),window.addEventListener("keydown",e=>{if("Escape"===e.key)this.handleClose();else if("Tab"===e.key){const{tagName:i}=e.target;!i||i.includes("W3M-")||i.includes("WUI-")||null==t||t.focus()}},this.abortController)}onRemoveKeyboardListener(){var e;null==(e=this.abortController)||e.abort(),this.abortController=void 0}async onNewAddress(e){const t=d.state.isSwitchingNamespace,i="ProfileWallets"===o.state.view;!e&&!t&&!i&&k.close(),await x.initializeIfEnabled(e),this.caipAddress=e,d.setIsSwitchingNamespace(!1)}onNewNetwork(e){var t,i;const n=this.caipNetwork,a=(null==(t=null==n?void 0:n.caipNetworkId)?void 0:t.toString())!==(null==(i=null==e?void 0:e.caipNetworkId)?void 0:i.toString()),r="UnsupportedChain"===o.state.view,s=k.state.open;let c=!1;this.enableEmbedded&&"SwitchNetwork"===o.state.view&&(c=!0),a&&ie.resetState(),s&&r&&(c=!0),c&&"SIWXSignMessage"!==o.state.view&&o.goBack(),this.caipNetwork=e}prefetch(){this.hasPrefetched||(F.prefetch(),F.fetchWalletsByPage({page:1}),this.hasPrefetched=!0)}}Wi.styles=Oi,zi([H({type:Boolean})],Wi.prototype,"enableEmbedded",void 0),zi([K()],Wi.prototype,"open",void 0),zi([K()],Wi.prototype,"caipAddress",void 0),zi([K()],Wi.prototype,"caipNetwork",void 0),zi([K()],Wi.prototype,"shake",void 0),zi([K()],Wi.prototype,"filterByNamespace",void 0),zi([K()],Wi.prototype,"padding",void 0),zi([K()],Wi.prototype,"mobileFullScreen",void 0);let ji=class extends Wi{};ji=zi([M("w3m-modal")],ji);let Bi=class extends Wi{};Bi=zi([M("appkit-modal")],Bi);const Fi=T`
  .icon-box {
    width: 64px;
    height: 64px;
    border-radius: ${({borderRadius:e})=>e[5]};
    background-color: ${({colors:e})=>e.semanticError010};
  }
`;let Li=class extends A{constructor(){super()}render(){return $`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="4"
        .padding="${["1","3","4","3"]}"
      >
        <wui-flex justifyContent="center" alignItems="center" class="icon-box">
          <wui-icon size="xxl" color="error" name="warningCircle"></wui-icon>
        </wui-flex>

        <wui-text variant="lg-medium" color="primary" align="center">
          The app isn't responding as expected
        </wui-text>
        <wui-text variant="md-regular" color="secondary" align="center">
          Try again or reach out to the app team for help.
        </wui-text>

        <wui-button
          variant="neutral-secondary"
          size="md"
          @click=${this.onTryAgainClick.bind(this)}
          data-testid="w3m-usage-exceeded-button"
        >
          <wui-icon color="inherit" slot="iconLeft" name="refresh"></wui-icon>
          Try Again
        </wui-button>
      </wui-flex>
    `}onTryAgainClick(){o.goBack()}};Li.styles=Fi,Li=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r}([M("w3m-usage-exceeded-view")],Li);const qi=T`
  :host {
    width: 100%;
  }
`;var _i=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let Mi=class extends A{constructor(){super(...arguments),this.hasImpressionSent=!1,this.walletImages=[],this.imageSrc="",this.name="",this.size="md",this.tabIdx=void 0,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100",this.rdnsId="",this.displayIndex=void 0,this.walletRank=void 0,this.namespaces=[]}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this.cleanupIntersectionObserver()}updated(e){super.updated(e),(e.has("name")||e.has("imageSrc")||e.has("walletRank"))&&(this.hasImpressionSent=!1);e.has("walletRank")&&this.walletRank&&!this.intersectionObserver&&this.setupIntersectionObserver()}setupIntersectionObserver(){this.intersectionObserver=new IntersectionObserver(e=>{e.forEach(e=>{!e.isIntersecting||this.loading||this.hasImpressionSent||this.sendImpressionEvent()})},{threshold:.1}),this.intersectionObserver.observe(this)}cleanupIntersectionObserver(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0)}sendImpressionEvent(){this.name&&!this.hasImpressionSent&&this.walletRank&&(this.hasImpressionSent=!0,(this.rdnsId||this.name)&&s.sendWalletImpressionEvent({name:this.name,walletRank:this.walletRank,rdnsId:this.rdnsId,view:o.state.view,displayIndex:this.displayIndex}))}handleGetWalletNamespaces(){return Object.keys(_.state.adapters).length>1?this.namespaces:[]}render(){return $`
      <wui-list-wallet
        .walletImages=${this.walletImages}
        imageSrc=${V(this.imageSrc)}
        name=${this.name}
        size=${V(this.size)}
        tagLabel=${V(this.tagLabel)}
        .tagVariant=${this.tagVariant}
        .walletIcon=${this.walletIcon}
        .tabIdx=${this.tabIdx}
        .disabled=${this.disabled}
        .showAllWallets=${this.showAllWallets}
        .loading=${this.loading}
        loadingSpinnerColor=${this.loadingSpinnerColor}
        .namespaces=${this.handleGetWalletNamespaces()}
      ></wui-list-wallet>
    `}};Mi.styles=qi,_i([H({type:Array})],Mi.prototype,"walletImages",void 0),_i([H()],Mi.prototype,"imageSrc",void 0),_i([H()],Mi.prototype,"name",void 0),_i([H()],Mi.prototype,"size",void 0),_i([H()],Mi.prototype,"tagLabel",void 0),_i([H()],Mi.prototype,"tagVariant",void 0),_i([H()],Mi.prototype,"walletIcon",void 0),_i([H()],Mi.prototype,"tabIdx",void 0),_i([H({type:Boolean})],Mi.prototype,"disabled",void 0),_i([H({type:Boolean})],Mi.prototype,"showAllWallets",void 0),_i([H({type:Boolean})],Mi.prototype,"loading",void 0),_i([H({type:String})],Mi.prototype,"loadingSpinnerColor",void 0),_i([H()],Mi.prototype,"rdnsId",void 0),_i([H()],Mi.prototype,"displayIndex",void 0),_i([H()],Mi.prototype,"walletRank",void 0),_i([H({type:Array})],Mi.prototype,"namespaces",void 0),Mi=_i([M("w3m-list-wallet")],Mi);const Hi=T`
  :host {
    --local-duration-height: 0s;
    --local-duration: ${({durations:e})=>e.lg};
    --local-transition: ${({easings:e})=>e["ease-out-power-2"]};
  }

  .container {
    display: block;
    overflow: hidden;
    overflow: hidden;
    position: relative;
    height: var(--local-container-height);
    transition: height var(--local-duration-height) var(--local-transition);
    will-change: height, padding-bottom;
  }

  .container[data-mobile-fullscreen='true'] {
    overflow: scroll;
  }

  .page {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    width: 100%;
    height: auto;
    width: inherit;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    border-bottom-left-radius: var(--local-border-bottom-radius);
    border-bottom-right-radius: var(--local-border-bottom-radius);
    transition: border-bottom-left-radius var(--local-duration) var(--local-transition);
  }

  .page[data-mobile-fullscreen='true'] {
    height: 100%;
  }

  .page-content {
    display: flex;
    flex-direction: column;
    min-height: 100%;
  }

  .footer {
    height: var(--apkt-footer-height);
  }

  div.page[view-direction^='prev-'] .page-content {
    animation:
      slide-left-out var(--local-duration) forwards var(--local-transition),
      slide-left-in var(--local-duration) forwards var(--local-transition);
    animation-delay: 0ms, var(--local-duration, ${({durations:e})=>e.lg});
  }

  div.page[view-direction^='next-'] .page-content {
    animation:
      slide-right-out var(--local-duration) forwards var(--local-transition),
      slide-right-in var(--local-duration) forwards var(--local-transition);
    animation-delay: 0ms, var(--local-duration, ${({durations:e})=>e.lg});
  }

  @keyframes slide-left-out {
    from {
      transform: translateX(0px) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
    to {
      transform: translateX(8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
  }

  @keyframes slide-left-in {
    from {
      transform: translateX(-8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
    to {
      transform: translateX(0) translateY(0) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
  }

  @keyframes slide-right-out {
    from {
      transform: translateX(0px) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
    to {
      transform: translateX(-8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
  }

  @keyframes slide-right-in {
    from {
      transform: translateX(8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
    to {
      transform: translateX(0) translateY(0) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
  }
`;var Vi=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let Ki=class extends A{constructor(){super(...arguments),this.resizeObserver=void 0,this.transitionDuration="0.15s",this.transitionFunction="",this.history="",this.view="",this.setView=void 0,this.viewDirection="",this.historyState="",this.previousHeight="0px",this.mobileFullScreen=z.state.enableMobileFullScreen,this.onViewportResize=()=>{this.updateContainerHeight()}}updated(e){if(e.has("history")){const e=this.history;""!==this.historyState&&this.historyState!==e&&this.onViewChange(e)}e.has("transitionDuration")&&this.style.setProperty("--local-duration",this.transitionDuration),e.has("transitionFunction")&&this.style.setProperty("--local-transition",this.transitionFunction)}firstUpdated(){var e;this.transitionFunction&&this.style.setProperty("--local-transition",this.transitionFunction),this.style.setProperty("--local-duration",this.transitionDuration),this.historyState=this.history,this.resizeObserver=new ResizeObserver(e=>{var t;for(const i of e)if(i.target===this.getWrapper()){let e=i.contentRect.height;const o=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--apkt-footer-height")||"0");if(this.mobileFullScreen){e=((null==(t=window.visualViewport)?void 0:t.height)||window.innerHeight)-this.getHeaderHeight()-o,this.style.setProperty("--local-border-bottom-radius","0px")}else{e=e+o,this.style.setProperty("--local-border-bottom-radius",o?"var(--apkt-borderRadius-5)":"0px")}this.style.setProperty("--local-container-height",`${e}px`),"0px"!==this.previousHeight&&this.style.setProperty("--local-duration-height",this.transitionDuration),this.previousHeight=`${e}px`}}),this.resizeObserver.observe(this.getWrapper()),this.updateContainerHeight(),window.addEventListener("resize",this.onViewportResize),null==(e=window.visualViewport)||e.addEventListener("resize",this.onViewportResize)}disconnectedCallback(){var e;const t=this.getWrapper();t&&this.resizeObserver&&this.resizeObserver.unobserve(t),window.removeEventListener("resize",this.onViewportResize),null==(e=window.visualViewport)||e.removeEventListener("resize",this.onViewportResize)}render(){return $`
      <div class="container" data-mobile-fullscreen="${V(this.mobileFullScreen)}">
        <div
          class="page"
          data-mobile-fullscreen="${V(this.mobileFullScreen)}"
          view-direction="${this.viewDirection}"
        >
          <div class="page-content">
            <slot></slot>
          </div>
        </div>
      </div>
    `}onViewChange(e){const t=e.split(",").filter(Boolean),i=this.historyState.split(",").filter(Boolean),o=i.length,n=t.length,a=t[t.length-1]||"",r=G.cssDurationToNumber(this.transitionDuration);let s="";n>o?s="next":n<o?s="prev":n===o&&t[n-1]!==i[o-1]&&(s="next"),this.viewDirection=`${s}-${a}`,setTimeout(()=>{var t;this.historyState=e,null==(t=this.setView)||t.call(this,a)},r),setTimeout(()=>{this.viewDirection=""},2*r)}getWrapper(){var e;return null==(e=this.shadowRoot)?void 0:e.querySelector("div.page")}updateContainerHeight(){var e;const t=this.getWrapper();if(!t)return;const i=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--apkt-footer-height")||"0");let o=0;if(this.mobileFullScreen){o=((null==(e=window.visualViewport)?void 0:e.height)||window.innerHeight)-this.getHeaderHeight()-i,this.style.setProperty("--local-border-bottom-radius","0px")}else o=t.getBoundingClientRect().height+i,this.style.setProperty("--local-border-bottom-radius",i?"var(--apkt-borderRadius-5)":"0px");this.style.setProperty("--local-container-height",`${o}px`),"0px"!==this.previousHeight&&this.style.setProperty("--local-duration-height",this.transitionDuration),this.previousHeight=`${o}px`}getHeaderHeight(){return 60}};Ki.styles=[Hi],Vi([H({type:String})],Ki.prototype,"transitionDuration",void 0),Vi([H({type:String})],Ki.prototype,"transitionFunction",void 0),Vi([H({type:String})],Ki.prototype,"history",void 0),Vi([H({type:String})],Ki.prototype,"view",void 0),Vi([H({attribute:!1})],Ki.prototype,"setView",void 0),Vi([K()],Ki.prototype,"viewDirection",void 0),Vi([K()],Ki.prototype,"historyState",void 0),Vi([K()],Ki.prototype,"previousHeight",void 0),Vi([K()],Ki.prototype,"mobileFullScreen",void 0),Ki=Vi([M("w3m-router-container")],Ki);export{Bi as AppKitModal,Mi as W3mListWallet,ji as W3mModal,Wi as W3mModalBase,Ki as W3mRouterContainer,Li as W3mUsageExceededView};
