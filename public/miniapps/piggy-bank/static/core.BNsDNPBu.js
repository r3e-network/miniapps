const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["..-node_modules-viem-_esm-index.CcOr8R-u.js","./piggy.DkTaJKTi.js","./vue-vendor.DLq4fjsJ.js","./index-BF4KRMCJ.js","./index-9dLG9Iax.css","..-node_modules-@reown-appkit-controllers-dist-esm-exports-features.BOsQLaQ5.js","..-node_modules-@reown-appkit-scaffold-ui-dist-esm-exports-basic.C3yVkBtw.js","./index.Dk4jvzj0.js","..-node_modules-@reown-appkit-scaffold-ui-dist-esm-exports-w3m-modal.DJTjGNBa.js"])))=>i.map(i=>d[i]);
var e;import{_ as t}from"./index-BF4KRMCJ.js";import{p as n,G as a,U as s,b as r,C as o}from"./piggy.DkTaJKTi.js";const i={isLowerCaseMatch:(e,t)=>(null==e?void 0:e.toLowerCase())===(null==t?void 0:t.toLowerCase())};var c={};const l={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",BASE_ACCOUNT:"baseAccount",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122",TON:"ton"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks",ton:"TON"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",TON:"ton"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},NATIVE_IMAGE_IDS_BY_NAMESPACE:{eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"3e8119e5-2a6f-4818-c50c-1937011d5900",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},TOKEN_SYMBOLS_BY_ADDRESS:{"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48":"USDC","0x833589fcd6edb6e08f4c7c32d4f71b54bda02913":"USDC","0x0b2c639c533813f4aa9d7837caf62653d097ff85":"USDC","0xaf88d065e77c8cc2239327c5edb3a432268e5831":"USDC","0x3c499c542cef5e3811e1192ce70d8cc03d5c3359":"USDC","0x2791bca1f2de4661ed88a30c99a7a9449aa84174":"USDC",EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:"USDC","0xdac17f958d2ee523a2206206994597c13d831ec7":"USDT","0x94b008aa00579c1307b0ef2c499ad98a8ce58e58":"USDT","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9":"USDT","0xc2132d05d31c914a87c6611c10748aeb04b58e8f":"USDT",Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:"USDT"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(void 0!==n?c.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}},HEADLESS_NOT_ENABLED:{DEFAULT:{displayMessage:"",debugMessage:"Headless support is not enabled. Please enable it with the features.headless option in the AppKit configuration and make sure your current plan supports it."}}},IS_DEVELOPMENT:void 0!==n&&!1,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"],METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",BINANCE_CONNECTOR_NAME:"Binance Wallet",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"AUTH"},d={caipNetworkIdToNumber:e=>e?Number(e.split(":")[1]):void 0,parseEvmChainId(e){return"string"==typeof e?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace:(e,t)=>(null==e?void 0:e.filter(e=>e.chainNamespace===t))||[],getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,t){var n;if(!t)return;const a=e.find(e=>e.caipNetworkId===t);if(a)return a.name;const[s]=t.split(":");return(null==(n=l.CHAIN_NAME_MAP)?void 0:n[s])||void 0}},u=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var p=1e6,h=1e6,m="[big.js] ",g=m+"Invalid ",f=g+"decimal places",v=g+"rounding mode",C=m+"Division by zero",w={},E=void 0,y=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function N(e,t,n,a){var s=e.c;if(n===E&&(n=e.constructor.RM),0!==n&&1!==n&&2!==n&&3!==n)throw Error(v);if(t<1)a=3===n&&(a||!!s[0])||0===t&&(1===n&&s[0]>=5||2===n&&(s[0]>5||5===s[0]&&(a||s[1]!==E))),s.length=1,a?(e.e=e.e-t+1,s[0]=1):s[0]=e.e=0;else if(t<s.length){if(a=1===n&&s[t]>=5||2===n&&(s[t]>5||5===s[t]&&(a||s[t+1]!==E||1&s[t-1]))||3===n&&(a||!!s[0]),s.length=t,a)for(;++s[--t]>9;)if(s[t]=0,0===t){++e.e,s.unshift(1);break}for(t=s.length;!s[--t];)s.pop()}return e}function b(e,t,n){var a=e.e,s=e.c.join(""),r=s.length;if(t)s=s.charAt(0)+(r>1?"."+s.slice(1):"")+(a<0?"e":"e+")+a;else if(a<0){for(;++a;)s="0"+s;s="0."+s}else if(a>0)if(++a>r)for(a-=r;a--;)s+="0";else a<r&&(s=s.slice(0,a)+"."+s.slice(a));else r>1&&(s=s.charAt(0)+"."+s.slice(1));return e.s<0&&n?"-"+s:s}w.abs=function(){var e=new this.constructor(this);return e.s=1,e},w.cmp=function(e){var t,n=this,a=n.c,s=(e=new n.constructor(e)).c,r=n.s,o=e.s,i=n.e,c=e.e;if(!a[0]||!s[0])return a[0]?r:s[0]?-o:0;if(r!=o)return r;if(t=r<0,i!=c)return i>c^t?1:-1;for(o=(i=a.length)<(c=s.length)?i:c,r=-1;++r<o;)if(a[r]!=s[r])return a[r]>s[r]^t?1:-1;return i==c?0:i>c^t?1:-1},w.div=function(e){var t=this,n=t.constructor,a=t.c,s=(e=new n(e)).c,r=t.s==e.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>p)throw Error(f);if(!s[0])throw Error(C);if(!a[0])return e.s=r,e.c=[e.e=0],e;var i,c,l,d,u,h=s.slice(),m=i=s.length,g=a.length,v=a.slice(0,i),w=v.length,y=e,b=y.c=[],A=0,I=o+(y.e=t.e-e.e)+1;for(y.s=r,r=I<0?0:I,h.unshift(0);w++<i;)v.push(0);do{for(l=0;l<10;l++){if(i!=(w=v.length))d=i>w?1:-1;else for(u=-1,d=0;++u<i;)if(s[u]!=v[u]){d=s[u]>v[u]?1:-1;break}if(!(d<0))break;for(c=w==i?s:h;w;){if(v[--w]<c[w]){for(u=w;u&&!v[--u];)v[u]=9;--v[u],v[w]+=10}v[w]-=c[w]}for(;!v[0];)v.shift()}b[A++]=d?l:++l,v[0]&&d?v[w]=a[m]||0:v=[a[m]]}while((m++<g||v[0]!==E)&&r--);return b[0]||1==A||(b.shift(),y.e--,I--),A>I&&N(y,I,n.RM,v[0]!==E),y},w.eq=function(e){return 0===this.cmp(e)},w.gt=function(e){return this.cmp(e)>0},w.gte=function(e){return this.cmp(e)>-1},w.lt=function(e){return this.cmp(e)<0},w.lte=function(e){return this.cmp(e)<1},w.minus=w.sub=function(e){var t,n,a,s,r=this,o=r.constructor,i=r.s,c=(e=new o(e)).s;if(i!=c)return e.s=-c,r.plus(e);var l=r.c.slice(),d=r.e,u=e.c,p=e.e;if(!l[0]||!u[0])return u[0]?e.s=-c:l[0]?e=new o(r):e.s=1,e;if(i=d-p){for((s=i<0)?(i=-i,a=l):(p=d,a=u),a.reverse(),c=i;c--;)a.push(0);a.reverse()}else for(n=((s=l.length<u.length)?l:u).length,i=c=0;c<n;c++)if(l[c]!=u[c]){s=l[c]<u[c];break}if(s&&(a=l,l=u,u=a,e.s=-e.s),(c=(n=u.length)-(t=l.length))>0)for(;c--;)l[t++]=0;for(c=t;n>i;){if(l[--n]<u[n]){for(t=n;t&&!l[--t];)l[t]=9;--l[t],l[n]+=10}l[n]-=u[n]}for(;0===l[--c];)l.pop();for(;0===l[0];)l.shift(),--p;return l[0]||(e.s=1,l=[p=0]),e.c=l,e.e=p,e},w.mod=function(e){var t,n=this,a=n.constructor,s=n.s,r=(e=new a(e)).s;if(!e.c[0])throw Error(C);return n.s=e.s=1,t=1==e.cmp(n),n.s=s,e.s=r,t?new a(n):(s=a.DP,r=a.RM,a.DP=a.RM=0,n=n.div(e),a.DP=s,a.RM=r,this.minus(n.times(e)))},w.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},w.plus=w.add=function(e){var t,n,a,s=this,r=s.constructor;if(e=new r(e),s.s!=e.s)return e.s=-e.s,s.minus(e);var o=s.e,i=s.c,c=e.e,l=e.c;if(!i[0]||!l[0])return l[0]||(i[0]?e=new r(s):e.s=s.s),e;if(i=i.slice(),t=o-c){for(t>0?(c=o,a=l):(t=-t,a=i),a.reverse();t--;)a.push(0);a.reverse()}for(i.length-l.length<0&&(a=l,l=i,i=a),t=l.length,n=0;t;i[t]%=10)n=(i[--t]=i[t]+l[t]+n)/10|0;for(n&&(i.unshift(n),++c),t=i.length;0===i[--t];)i.pop();return e.c=i,e.e=c,e},w.pow=function(e){var t=this,n=new t.constructor("1"),a=n,s=e<0;if(e!==~~e||e<-1e6||e>h)throw Error(g+"exponent");for(s&&(e=-e);1&e&&(a=a.times(t)),e>>=1;)t=t.times(t);return s?n.div(a):a},w.prec=function(e,t){if(e!==~~e||e<1||e>p)throw Error(g+"precision");return N(new this.constructor(this),e,t)},w.round=function(e,t){if(e===E)e=0;else if(e!==~~e||e<-p||e>p)throw Error(f);return N(new this.constructor(this),e+this.e+1,t)},w.sqrt=function(){var e,t,n,a=this,s=a.constructor,r=a.s,o=a.e,i=new s("0.5");if(!a.c[0])return new s(a);if(r<0)throw Error(m+"No square root");0===(r=Math.sqrt(+b(a,!0,!0)))||r===1/0?((t=a.c.join("")).length+o&1||(t+="0"),o=((o+1)/2|0)-(o<0||1&o),e=new s(((r=Math.sqrt(t))==1/0?"5e":(r=r.toExponential()).slice(0,r.indexOf("e")+1))+o)):e=new s(r+""),o=e.e+(s.DP+=4);do{n=e,e=i.times(n.plus(a.div(n)))}while(n.c.slice(0,o).join("")!==e.c.slice(0,o).join(""));return N(e,(s.DP-=4)+e.e+1,s.RM)},w.times=w.mul=function(e){var t,n=this,a=n.constructor,s=n.c,r=(e=new a(e)).c,o=s.length,i=r.length,c=n.e,l=e.e;if(e.s=n.s==e.s?1:-1,!s[0]||!r[0])return e.c=[e.e=0],e;for(e.e=c+l,o<i&&(t=s,s=r,r=t,l=o,o=i,i=l),t=new Array(l=o+i);l--;)t[l]=0;for(c=i;c--;){for(i=0,l=o+c;l>c;)i=t[l]+r[c]*s[l-c-1]+i,t[l--]=i%10,i=i/10|0;t[l]=i}for(i?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e},w.toExponential=function(e,t){var n=this,a=n.c[0];if(e!==E){if(e!==~~e||e<0||e>p)throw Error(f);for(n=N(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return b(n,!0,!!a)},w.toFixed=function(e,t){var n=this,a=n.c[0];if(e!==E){if(e!==~~e||e<0||e>p)throw Error(f);for(e=e+(n=N(new n.constructor(n),e+n.e+1,t)).e+1;n.c.length<e;)n.c.push(0)}return b(n,!1,!!a)},w[Symbol.for("nodejs.util.inspect.custom")]=w.toJSON=w.toString=function(){var e=this,t=e.constructor;return b(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},w.toNumber=function(){var e=+b(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(m+"Imprecise conversion");return e},w.toPrecision=function(e,t){var n=this,a=n.constructor,s=n.c[0];if(e!==E){if(e!==~~e||e<1||e>p)throw Error(g+"precision");for(n=N(new a(n),e,t);n.c.length<e;)n.c.push(0)}return b(n,e<=n.e||n.e<=a.NE||n.e>=a.PE,!!s)},w.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(m+"valueOf disallowed");return b(e,e.e<=t.NE||e.e>=t.PE,!0)};var A=function e(){function t(n){var a=this;if(!(a instanceof t))return n===E?e():new t(n);if(n instanceof t)a.s=n.s,a.e=n.e,a.c=n.c.slice();else{if("string"!=typeof n){if(!0===t.strict&&"bigint"!=typeof n)throw TypeError(g+"value");n=0===n&&1/n<0?"-0":String(n)}!function(e,t){var n,a,s;if(!y.test(t))throw Error(g+"number");e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".",""));(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length);for(s=t.length,a=0;a<s&&"0"==t.charAt(a);)++a;if(a==s)e.c=[e.e=0];else{for(;s>0&&"0"==t.charAt(--s););for(e.e=n-a-1,e.c=[],n=0;a<=s;)e.c[n++]=+t.charAt(a++)}}(a,n)}a.constructor=t}return t.prototype=w,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=false,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}();const I={bigNumber(e,t={safe:!1}){try{return new A(e?e:0)}catch(n){if(t.safe)return new A(0);throw n}},formatNumber(e,t){const{decimals:n,round:a=8,safe:s=!0}=t;return I.bigNumber(e,{safe:s}).div(new A(10).pow(n)).round(a)},multiply(e,t){if(void 0===e||void 0===t)return new A(0);const n=new A(e),a=new A(t);return n.times(a)},toFixed:(e,t=2)=>void 0===e||""===e?new A(0).toFixed(t):new A(e).toFixed(t),formatNumberToLocalString:(e,t=2)=>void 0===e||""===e?"0.00":"number"==typeof e?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}),parseLocalStringToNumber(e){if(void 0===e||""===e)return 0;const t=e.replace(/,/gu,"");return new A(t).toNumber()}},k=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],S=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],_=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],T={getERC20Abi:e=>l.USDT_CONTRACT_ADDRESSES.includes(e)?_:k,getSwapAbi:()=>S},O={ConnectorExplorerIds:{[l.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[l.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[l.CONNECTOR_ID.BASE_ACCOUNT]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[l.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[l.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[l.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[l.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[l.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[l.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[l.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[l.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[l.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[l.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[l.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[l.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[l.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[l.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[l.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[l.BINANCE_CONNECTOR_NAME]:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25"}},R={validateCaipAddress(e){var t;if(3!==(null==(t=e.split(":"))?void 0:t.length))throw new Error("Invalid CAIP Address");return e},parseCaipAddress(e){const t=e.split(":");if(3!==t.length)throw new Error(`Invalid CAIP-10 address: ${e}`);const[n,a,s]=t;if(!n||!a||!s)throw new Error(`Invalid CAIP-10 address: ${e}`);return{chainNamespace:n,chainId:a,address:s}},parseCaipNetworkId(e){const t=e.split(":");if(2!==t.length)throw new Error(`Invalid CAIP-2 network id: ${e}`);const[n,a]=t;if(!n||!a)throw new Error(`Invalid CAIP-2 network id: ${e}`);return{chainNamespace:n,chainId:a}}},P={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001,USER_REJECTED_METHODS:5002,USER_REJECTED:5e3,SEND_TRANSACTION_ERROR:5001},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError",SEND_TRANSACTION_ERROR:"SendTransactionError"},isRpcProviderError(e){try{if("object"==typeof e&&null!==e){const t=e,n="string"==typeof t.message,a="number"==typeof t.code;return n&&a}return!1}catch{return!1}},isUserRejectedMessage:e=>e.toLowerCase().includes("user rejected")||e.toLowerCase().includes("user cancelled")||e.toLowerCase().includes("user canceled"),isUserRejectedRequestError(e){if(P.isRpcProviderError(e)){const t=e.code===P.RPC_ERROR_CODE.USER_REJECTED_REQUEST,n=e.code===P.RPC_ERROR_CODE.USER_REJECTED_METHODS;return t||n||P.isUserRejectedMessage(e.message)}return e instanceof Error&&P.isUserRejectedMessage(e.message)}};let U=class extends Error{constructor(e,t){super(t.message,{cause:e}),this.name=P.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=t.code}},x=class extends U{constructor(e){super(e,{code:P.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=P.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}};const D={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",RECENT_WALLET:"@appkit/recent_wallet",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails",LATEST_APPKIT_VERSION:"@appkit/latest_version",TON_WALLETS_CACHE:"@appkit/ton_wallets_cache"};function M(e){if(!e)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}const L={setItem(e,t){W()&&void 0!==t&&localStorage.setItem(e,t)},getItem(e){if(W())return localStorage.getItem(e)||void 0},removeItem(e){W()&&localStorage.removeItem(e)},clear(){W()&&localStorage.clear()}};function W(){return"undefined"!=typeof window&&"undefined"!=typeof localStorage}function F(e,t){const n=(null==e?void 0:e["--apkt-accent"])??(null==e?void 0:e["--w3m-accent"]);return"light"===t?{"--w3m-accent":n||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":n||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}const $=Symbol(),B=Object.getPrototypeOf,H=new WeakMap,j=e=>(e=>e&&(H.has(e)?H.get(e):B(e)===Object.prototype||B(e)===Array.prototype))(e)&&e[$]||null,V=(e,t=!0)=>{H.set(e,t)},K={},q=e=>"object"==typeof e&&null!==e,z=(e,t)=>{const n=Y.get(e);if((null==n?void 0:n[0])===t)return n[1];const a=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return V(a,!0),Y.set(e,[t,a]),Reflect.ownKeys(e).forEach(t=>{if(Object.getOwnPropertyDescriptor(a,t))return;const n=Reflect.get(e,t),{enumerable:s}=Reflect.getOwnPropertyDescriptor(e,t),r={value:n,enumerable:s,configurable:!0};if(J.has(n))V(n,!1);else if(G.has(n)){const[e,t]=G.get(n);r.value=z(e,t())}Object.defineProperty(a,t,r)}),Object.preventExtensions(a)},G=new WeakMap,J=new WeakSet,Y=new WeakMap,X=[1],Q=new WeakMap;let Z=Object.is,ee=(e,t)=>new Proxy(e,t),te=e=>q(e)&&!J.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),ne=z,ae=(e,t,n,a)=>({deleteProperty(e,t){Reflect.get(e,t),n(t);const s=Reflect.deleteProperty(e,t);return s&&a(void 0),s},set(s,r,o,i){const c=!e()&&Reflect.has(s,r),l=Reflect.get(s,r,i);if(c&&(Z(l,o)||Q.has(o)&&Z(l,Q.get(o))))return!0;n(r),q(o)&&(o=j(o)||o);const d=!G.has(o)&&te(o)?se(o):o;return t(r,d),Reflect.set(s,r,d,i),a(void 0),!0}});function se(e={}){if(!q(e))throw new Error("object required");const t=Q.get(e);if(t)return t;let n=X[0];const a=new Set,s=(e,t=++X[0])=>{n!==t&&(r=n=t,a.forEach(n=>n(e,t)))};let r=n;const o=e=>(t,n)=>{let a;t&&(a=[...t],a[1]=[e,...a[1]]),s(a,n)},i=new Map;let c=!0;const l=ae(()=>c,(e,t)=>{const n=!J.has(t)&&G.get(t);if(n){if("production"!==(K?"production":void 0)&&i.has(e))throw new Error("prop listener already exists");if(a.size){const t=n[2](o(e));i.set(e,[n,t])}else i.set(e,[n])}},e=>{var t;const n=i.get(e);n&&(i.delete(e),null==(t=n[1])||t.call(n))},s),d=ee(e,l);Q.set(e,d);const u=[e,(e=X[0])=>(r!==e&&(r=e,i.forEach(([t])=>{const a=t[1](e);a>n&&(n=a)})),n),e=>{a.add(e),1===a.size&&i.forEach(([e,t],n)=>{if("production"!==(K?"production":void 0)&&t)throw new Error("remove already exists");const a=e[2](o(n));i.set(n,[e,a])});return()=>{a.delete(e),0===a.size&&i.forEach(([e,t],n)=>{t&&(t(),i.set(n,[e]))})}}];return G.set(d,u),Reflect.ownKeys(e).forEach(t=>{const n=Object.getOwnPropertyDescriptor(e,t);"value"in n&&n.writable&&(d[t]=e[t])}),c=!1,d}function re(e,t,n){const a=G.get(e);let s;"production"===(K?"production":void 0)||a||console.warn("Please use proxy object");const r=[],o=a[2];let i=!1;const c=o(e=>{e&&r.push(e),s||(s=Promise.resolve().then(()=>{s=void 0,i&&t(r.splice(0))}))});return i=!0,()=>{i=!1,c()}}function oe(e){const t=G.get(e);"production"===(K?"production":void 0)||t||console.warn("Please use proxy object");const[n,a]=t;return ne(n,a())}function ie(e){return J.add(e),e}function ce(e,t,n,a){let s=e[t];return re(e,()=>{const a=e[t];Object.is(s,a)||n(s=a)})}const{proxyStateMap:le,snapCache:de}={proxyStateMap:G,refSet:J,snapCache:Y,versionHolder:X,proxyCache:Q},ue=e=>le.has(e);var pe={};const he=(void 0!==n?pe.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",me=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],ge={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:he,SECURE_SITE_DASHBOARD:`${he}/dashboard`,SECURE_SITE_FAVICON:`${he}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],SUGGESTED_TOKENS_BY_CHAIN:{"eip155:42161":["USDâ‚®0"]},BALANCE_SUPPORTED_CHAINS:[l.CHAIN.EVM,l.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[l.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[l.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[l.CHAIN.EVM,l.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[l.CHAIN.EVM,l.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[l.CHAIN.EVM,l.CHAIN.TON],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x",ton:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[l.CHAIN.EVM,l.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1,headless:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1,headless:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1,headless:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa",ton:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0},MANDATORY_WALLET_IDS_ON_MOBILE:[O.ConnectorExplorerIds[l.CONNECTOR_ID.COINBASE],O.ConnectorExplorerIds[l.CONNECTOR_ID.COINBASE_SDK],O.ConnectorExplorerIds[l.CONNECTOR_ID.BASE_ACCOUNT],O.ConnectorExplorerIds[l.SOLFLARE_CONNECTOR_NAME],O.ConnectorExplorerIds[l.PHANTOM_CONNECTOR_NAME],O.ConnectorExplorerIds[l.BINANCE_CONNECTOR_NAME]],DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"]},fe={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5,tonWallets:864e5},isCacheExpired:(e,t)=>Date.now()-e>t,getActiveNetworkProps(){const e=fe.getActiveNamespace(),t=fe.getActiveCaipNetworkId(),n=t?t.split(":")[1]:void 0;return{namespace:e,caipNetworkId:t,chainId:n?isNaN(Number(n))?n:Number(n):void 0}},setWalletConnectDeepLink({name:e,href:t}){try{L.setItem(D.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const e=L.getItem(D.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{L.removeItem(D.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{L.setItem(D.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{L.setItem(D.ACTIVE_CAIP_NETWORK_ID,e),fe.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return L.getItem(D.ACTIVE_CAIP_NETWORK_ID)}catch{return void console.info("Unable to get active caip network id")}},deleteActiveCaipNetworkId(){try{L.removeItem(D.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{const t=M(e);L.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{const t=fe.getRecentWallets();t.find(t=>t.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),L.setItem(D.RECENT_WALLETS,JSON.stringify(t)),L.setItem(D.RECENT_WALLET,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const e=L.getItem(D.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{const e=L.getItem(D.RECENT_WALLET);return e?JSON.parse(e):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{L.removeItem(D.RECENT_WALLET)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(e,t){try{const n=M(e);L.setItem(n,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return L.getItem(D.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{const t=M(e);return L.getItem(t)}catch(t){console.info("Unable to get connected connector id in namespace",e)}},setConnectedSocialProvider(e){try{L.setItem(D.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return L.getItem(D.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{L.removeItem(D.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return L.getItem(D.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var e;const t=L.getItem(D.ACTIVE_CAIP_NETWORK_ID);return null==(e=null==t?void 0:t.split(":"))?void 0:e[1]},setConnectionStatus(e){try{L.setItem(D.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return L.getItem(D.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const e=L.getItem(D.CONNECTED_NAMESPACES);return(null==e?void 0:e.length)?e.split(","):[]}catch{return[]}},setConnectedNamespaces(e){try{const t=Array.from(new Set(e));L.setItem(D.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{const t=fe.getConnectedNamespaces();t.includes(e)||(t.push(e),fe.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{const t=fe.getConnectedNamespaces(),n=t.indexOf(e);n>-1&&(t.splice(n,1),fe.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return L.getItem(D.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{L.setItem(D.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{L.removeItem(D.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{const t=L.getItem(D.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{const t=fe.getBalanceCache();L.setItem(D.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{const t=fe.getBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.portfolio))return t.balance;fe.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{const t=fe.getBalanceCache();t[e.caipAddress]=e,L.setItem(D.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{const t=L.getItem(D.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{const t=fe.getBalanceCache();L.setItem(D.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{const t=fe.getNativeBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.nativeBalance))return t;console.info("Discarding cache for address",e),fe.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{const t=fe.getNativeBalanceCache();t[e.caipAddress]=e,L.setItem(D.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{const t=L.getItem(D.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{const t=fe.getEnsCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.ens))return t.ens;fe.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{const t=fe.getEnsCache();t[e.address]=e,L.setItem(D.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{const t=fe.getEnsCache();L.setItem(D.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{const t=L.getItem(D.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{const t=fe.getIdentityCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.identity))return t.identity;fe.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{const t=fe.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},L.setItem(D.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{const t=fe.getIdentityCache();L.setItem(D.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},getTonWalletsCache(){try{const e=L.getItem(D.TON_WALLETS_CACHE),t=e?JSON.parse(e):void 0;if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.tonWallets))return t;fe.removeTonWalletsCache()}catch{console.info("Unable to get ton wallets cache")}},updateTonWalletsCache(e){try{const t=fe.getTonWalletsCache()||{timestamp:0,wallets:[]};t.timestamp=(new Date).getTime(),t.wallets=e,L.setItem(D.TON_WALLETS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ton wallets cache",e)}},removeTonWalletsCache(){try{L.removeItem(D.TON_WALLETS_CACHE)}catch{console.info("Unable to remove ton wallets cache")}},clearAddressCache(){try{L.removeItem(D.PORTFOLIO_CACHE),L.removeItem(D.NATIVE_BALANCE_CACHE),L.removeItem(D.ENS_CACHE),L.removeItem(D.IDENTITY_CACHE),L.removeItem(D.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{L.setItem(D.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{const e=L.getItem(D.PREFERRED_ACCOUNT_TYPES);return e?JSON.parse(e):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,t){try{const n=fe.getConnections(),a=n[t]??[],s=new Map;for(const e of a)s.set(e.connectorId,{...e});for(const t of e){const e=s.get(t.connectorId),n=t.connectorId===l.CONNECTOR_ID.AUTH;if(e&&!n){const n=new Set(e.accounts.map(e=>e.address.toLowerCase())),a=t.accounts.filter(e=>!n.has(e.address.toLowerCase()));e.accounts.push(...a)}else s.set(t.connectorId,{...t})}const r={...n,[t]:Array.from(s.values())};L.setItem(D.CONNECTIONS,JSON.stringify(r))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const e=L.getItem(D.CONNECTIONS);return e?JSON.parse(e):{}}catch(e){return console.error("Unable to get connections from storage",e),{}}},deleteAddressFromConnection({connectorId:e,address:t,namespace:n}){try{const a=fe.getConnections(),s=a[n]??[],r=new Map(s.map(e=>[e.connectorId,e])),o=r.get(e);if(o){0===o.accounts.filter(e=>e.address.toLowerCase()!==t.toLowerCase()).length?r.delete(e):r.set(e,{...o,accounts:o.accounts.filter(e=>e.address.toLowerCase()!==t.toLowerCase())})}L.setItem(D.CONNECTIONS,JSON.stringify({...a,[n]:Array.from(r.values())}))}catch{console.error(`Unable to remove address "${t}" from connector "${e}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const e=L.getItem(D.DISCONNECTED_CONNECTOR_IDS);return e?JSON.parse(e):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(e,t){try{const n=fe.getDisconnectedConnectorIds(),a=n[t]??[];a.push(e),L.setItem(D.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(a))}))}catch{console.error(`Unable to set disconnected connector id "${e}" for namespace "${t}"`)}},removeDisconnectedConnectorId(e,t){try{const n=fe.getDisconnectedConnectorIds();let a=n[t]??[];a=a.filter(t=>t.toLowerCase()!==e.toLowerCase()),L.setItem(D.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(a))}))}catch{console.error(`Unable to remove disconnected connector id "${e}" for namespace "${t}"`)}},isConnectorDisconnected(e,t){try{const n=fe.getDisconnectedConnectorIds();return(n[t]??[]).some(t=>t.toLowerCase()===e.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${e}" for namespace "${t}"`)}return!1},getTransactionsCache(){try{const e=L.getItem(D.HISTORY_TRANSACTIONS_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:e,chainId:t=""}){var n;try{const a=null==(n=fe.getTransactionsCache()[e])?void 0:n[t];if(a&&!this.isCacheExpired(a.timestamp,this.cacheExpiry.transactionsHistory))return a.transactions;fe.removeTransactionsCache({address:e,chainId:t})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:e,chainId:t="",timestamp:n,transactions:a}){try{const s=fe.getTransactionsCache();s[e]={...s[e],[t]:{timestamp:n,transactions:a}},L.setItem(D.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(s))}catch{console.info("Unable to update transactions cache",{address:e,chainId:t,timestamp:n,transactions:a})}},removeTransactionsCache({address:e,chainId:t}){try{const n=fe.getTransactionsCache(),a=(null==n?void 0:n[e])||{},{[t]:s,...r}=a;L.setItem(D.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[e]:r}))}catch{console.info("Unable to remove transactions cache",{address:e,chainId:t})}},getTokenPriceCache(){try{const e=L.getItem(D.TOKEN_PRICE_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(e){try{const t=fe.getTokenPriceCache()[e.join(",")];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.tokenPrice))return t.tokenPrice;fe.removeTokenPriceCache(e)}catch{console.info("Unable to get token price cache for addresses",e)}},updateTokenPriceCache(e){try{const t=fe.getTokenPriceCache();t[e.addresses.join(",")]={timestamp:e.timestamp,tokenPrice:e.tokenPrice},L.setItem(D.TOKEN_PRICE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update token price cache",e)}},removeTokenPriceCache(e){try{const t=fe.getTokenPriceCache();L.setItem(D.TOKEN_PRICE_CACHE,JSON.stringify({...t,[e.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",e)}},getLatestAppKitVersion(){try{const e=this.getLatestAppKitVersionCache(),t=null==e?void 0:e.version;return t&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.latestAppKitVersion)?t:void 0}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{const e=L.getItem(D.LATEST_APPKIT_VERSION);return e?JSON.parse(e):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(e){try{const t=fe.getLatestAppKitVersionCache();t.timestamp=e.timestamp,t.version=e.version,L.setItem(D.LATEST_APPKIT_VERSION,JSON.stringify(t))}catch{console.info("Unable to update latest AppKit version on local storage",e)}}},ve={getWindow(){if("undefined"!=typeof window)return window},isMobile(){var e;return!!this.isClient()&&Boolean((null==window?void 0:window.matchMedia)&&"function"==typeof window.matchMedia&&(null==(e=window.matchMedia("(pointer:coarse)"))?void 0:e.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent))},checkCaipNetwork:(e,t="")=>null==e?void 0:e.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase()),isAndroid(){if(!this.isMobile())return!1;const e=null==window?void 0:window.navigator.userAgent.toLowerCase();return ve.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;const e=null==window?void 0:window.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){if(!this.isClient())return!1;return(null==window?void 0:window.navigator.userAgent.toLowerCase()).includes("safari")},isClient:()=>"undefined"!=typeof window,isPairingExpired:e=>!e||e-Date.now()<=ge.TEN_SEC_MS,isAllowedRetry:(e,t=ge.ONE_SEC_MS)=>Date.now()-e>=t,copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return(null==window?void 0:window.self)!==(null==window?void 0:window.top)}catch(e){return!1}},isSafeApp(){var e,t;if(ve.isClient()&&window.self!==window.top)try{const n=null==(t=null==(e=null==window?void 0:window.location)?void 0:e.ancestorOrigins)?void 0:t[0],a="https://app.safe.global";if(n){const e=new URL(n),t=new URL(a);return e.hostname===t.hostname}}catch{return!1}return!1},getPairingExpiry:()=>Date.now()+ge.FOUR_MINUTES_MS,getNetworkId:e=>null==e?void 0:e.split(":")[1],getPlainAddress:e=>null==e?void 0:e.split(":")[2],wait:async e=>new Promise(t=>{setTimeout(t,e)}),debounce(e,t=500){let n;return(...a)=>{n&&clearTimeout(n),n=setTimeout(function(){e(...a)},t)}},isHttpUrl:e=>e.startsWith("http://")||e.startsWith("https://"),formatNativeUrl(e,t,n=null){if(ve.isHttpUrl(e))return this.formatUniversalUrl(e,t);let a=e,s=n;a.includes("://")||(a=e.replaceAll("/","").replaceAll(":",""),a=`${a}://`),a.endsWith("/")||(a=`${a}/`),s&&!(null==s?void 0:s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));const r=encodeURIComponent(t);return{redirect:`${a}wc?uri=${r}`,redirectUniversalLink:s?`${s}wc?uri=${r}`:void 0,href:a}},formatUniversalUrl(e,t){if(!ve.isHttpUrl(e))return this.formatNativeUrl(e,t);let n=e;n.endsWith("/")||(n=`${n}/`);return{redirect:`${n}wc?uri=${encodeURIComponent(t)}`,href:n}},getOpenTargetForPlatform(e){return"popupWindow"===e?e:this.isTelegram()?fe.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,n){null==window||window.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},returnOpenHref(e,t,n){return null==window?void 0:window.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},isTelegram:()=>"undefined"!=typeof window&&(Boolean(window.TelegramWebviewProxy)||Boolean(window.Telegram)||Boolean(window.TelegramWebviewProxyProto)),isPWA(){var e,t;if("undefined"==typeof window)return!1;const n=!(!(null==window?void 0:window.matchMedia)||"function"!=typeof window.matchMedia)&&(null==(e=window.matchMedia("(display-mode: standalone)"))?void 0:e.matches),a=null==(t=null==window?void 0:window.navigator)?void 0:t.standalone;return Boolean(n||a)},async preloadImage(e){const t=new Promise((t,n)=>{const a=new Image;a.onload=t,a.onerror=n,a.crossOrigin="anonymous",a.src=e});return Promise.race([t,ve.wait(2e3)])},parseBalance(e,t){let n="0.000";if("string"==typeof e){const t=Number(e);if(!isNaN(t)){const e=(Math.floor(1e3*t)/1e3).toFixed(3);e&&(n=e)}}const[a,s]=n.split("."),r=a||"0",o=s||"000";return{formattedText:`${r}.${o}${t?` ${t}`:""}`,value:r,decimals:o,symbol:t}},getApiUrl:()=>l.W3M_API_URL,getBlockchainApiUrl:()=>l.BLOCKCHAIN_API_RPC_URL,getAnalyticsUrl:()=>l.PULSE_API_URL,getUUID:()=>(null==crypto?void 0:crypto.randomUUID)?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),parseError(e){var t,n;return"string"==typeof e?e:"string"==typeof(null==(n=null==(t=null==e?void 0:e.issues)?void 0:t[0])?void 0:n.message)?e.issues[0].message:e instanceof Error?e.message:"Unknown error"},sortRequestedNetworks(e,t=[]){const n={};return t&&e&&(e.forEach((e,t)=>{n[e]=t}),t.sort((e,t)=>{const a=n[e.id],s=n[t.id];return void 0!==a&&void 0!==s?a-s:void 0!==a?-1:void 0!==s?1:0})),t},calculateBalance(e){let t=0;for(const n of e)t+=n.value??0;return t},formatTokenBalance(e){const t=e.toFixed(2),[n,a]=t.split(".");return{dollars:n,pennies:a}},isAddress(e,t="eip155"){switch(t){case"eip155":return!!/^(?:0x)?[0-9a-f]{40}$/iu.test(e)&&!(!/^(?:0x)?[0-9a-f]{40}$/iu.test(e)&&!/^(?:0x)?[0-9A-F]{40}$/iu.test(e));case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);case"bip122":{const t=/^[1][a-km-zA-HJ-NP-Z1-9]{25,34}$/u.test(e),n=/^[3][a-km-zA-HJ-NP-Z1-9]{25,34}$/u.test(e),a=/^bc1[a-z0-9]{39,87}$/u.test(e),s=/^bc1p[a-z0-9]{58}$/u.test(e);return t||n||a||s}default:return!1}},uniqueBy(e,t){const n=new Set;return e.filter(e=>{const a=e[t];return!n.has(a)&&(n.add(a),!0)})},generateSdkVersion:(e,t,n)=>`${t}-${0===e.length?ge.ADAPTER_TYPES.UNIVERSAL:e.map(e=>e.adapterType).join(",")}-${n}`,createAccount:(e,t,n,a,s)=>({namespace:e,address:t,type:n,publicKey:a,path:s}),isCaipAddress(e){if("string"!=typeof e)return!1;const t=e.split(":"),n=t[0];return 3===t.filter(Boolean).length&&n in l.CHAIN_NAME_MAP},getAccount:e=>e?"string"==typeof e?{address:e,chainId:void 0}:{address:e.address,chainId:e.chainId}:{address:void 0,chainId:void 0},isMac(){const e=null==window?void 0:window.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){const t=`--${encodeURIComponent(null==window?void 0:window.location.href)}`,n="state=";if("auth.magic.link"===new URL(e).host){const a="provider_authorization_url=",s=e.substring(e.indexOf(a)+a.length),r=this.injectIntoUrl(decodeURIComponent(s),n,t);return e.replace(s,encodeURIComponent(r))}return this.injectIntoUrl(e,n,t)},injectIntoUrl(e,t,n){const a=e.indexOf(t);if(-1===a)throw new Error(`${t} parameter not found in the URL: ${e}`);const s=e.indexOf("&",a),r=t.length,o=-1!==s?s:e.length;return e.substring(0,a+r)+(e.substring(a+r,o)+n)+e.substring(s)},isNumber:e=>("number"==typeof e||"string"==typeof e)&&!isNaN(Number(e)),appendPayToUri:(e,t)=>t?`${e}&pay=${encodeURIComponent(t)}`:e},Ce="@appkit-wallet/",we="SMART_ACCOUNT_ENABLED_NETWORKS",Ee={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},ye={set(e,t){Ne.isClient&&localStorage.setItem(`${Ce}${e}`,t)},get:e=>Ne.isClient?localStorage.getItem(`${Ce}${e}`):null,delete(e,t){Ne.isClient&&(t?localStorage.removeItem(e):localStorage.removeItem(`${Ce}${e}`))}},Ne={isClient:"undefined"!=typeof window};function be(e,{strict:t=!0}={}){return!!e&&("string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}function Ae(e){return be(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Ie="2.44.4";let ke={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${Ie}`};class Se extends Error{constructor(e,t={}){var n;const a=t.cause instanceof Se?t.cause.details:(null==(s=t.cause)?void 0:s.message)?t.cause.message:t.details;var s;const r=t.cause instanceof Se&&t.cause.docsPath||t.docsPath,o=null==(n=ke.getDocsUrl)?void 0:n.call(ke,{...t,docsPath:r});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...a?[`Details: ${a}`]:[],...ke.version?[`Version: ${ke.version}`]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=a,this.docsPath=r,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=Ie}walk(e){return _e(this,e)}}function _e(e,t){return(null==t?void 0:t(e))?e:e&&"object"==typeof e&&"cause"in e&&void 0!==e.cause?_e(e.cause,t):t?null:e}class Te extends Se{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}}class Oe extends Se{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}class Re extends Se{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${t} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}}function Pe(e,{dir:t,size:n=32}={}){return"string"==typeof e?Ue(e,{dir:t,size:n}):xe(e,{dir:t,size:n})}function Ue(e,{dir:t,size:n=32}={}){if(null===n)return e;const a=e.replace("0x","");if(a.length>2*n)throw new Oe({size:Math.ceil(a.length/2),targetSize:n,type:"hex"});return`0x${a["right"===t?"padEnd":"padStart"](2*n,"0")}`}function xe(e,{dir:t,size:n=32}={}){if(null===n)return e;if(e.length>n)throw new Oe({size:e.length,targetSize:n,type:"bytes"});const a=new Uint8Array(n);for(let s=0;s<n;s++){const r="right"===t;a[r?s:n-s-1]=e[r?s:e.length-s-1]}return a}class De extends Se{constructor({max:e,min:t,signed:n,size:a,value:s}){super(`Number "${s}" is not in safe ${a?`${8*a}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class Me extends Se{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class Le extends Se{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}class We extends Se{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Fe(e,{dir:t="left"}={}){let n="string"==typeof e?e.replace("0x",""):e,a=0;for(let s=0;s<n.length-1&&"0"===n["left"===t?s:n.length-s-1].toString();s++)a++;return n="left"===t?n.slice(a):n.slice(0,n.length-a),"string"==typeof e?(1===n.length&&"right"===t&&(n=`${n}0`),`0x${n.length%2==1?`0${n}`:n}`):n}function $e(e,{size:t}){if(Ae(e)>t)throw new We({givenSize:Ae(e),maxSize:t})}function Be(e,t={}){const{signed:n}=t;t.size&&$e(e,{size:t.size});const a=BigInt(e);if(!n)return a;const s=(e.length-2)/2;return a<=(1n<<8n*BigInt(s)-1n)-1n?a:a-BigInt(`0x${"f".padStart(2*s,"f")}`)-1n}function He(e,t={}){let n=e;if(t.size&&($e(n,{size:t.size}),n=Fe(n)),"0x00"===Fe(n))return!1;if("0x01"===Fe(n))return!0;throw new Le(n)}function je(e,t={}){const n=Be(e,t),a=Number(n);if(!Number.isSafeInteger(a))throw new De({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:t.signed,size:t.size,value:`${n}n`});return a}const Ve=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ke(e,t={}){return"number"==typeof e||"bigint"==typeof e?Ge(e,t):"string"==typeof e?Ye(e,t):"boolean"==typeof e?qe(e,t):ze(e,t)}function qe(e,t={}){const n=`0x${Number(e)}`;return"number"==typeof t.size?($e(n,{size:t.size}),Pe(n,{size:t.size})):n}function ze(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Ve[e[s]];const a=`0x${n}`;return"number"==typeof t.size?($e(a,{size:t.size}),Pe(a,{dir:"right",size:t.size})):a}function Ge(e,t={}){const{signed:n,size:a}=t,s=BigInt(e);let r;a?r=n?(1n<<8n*BigInt(a)-1n)-1n:2n**(8n*BigInt(a))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"==typeof r&&n?-r-1n:0;if(r&&s>r||s<o){const t="bigint"==typeof e?"n":"";throw new De({max:r?`${r}${t}`:void 0,min:`${o}${t}`,signed:n,size:a,value:`${e}${t}`})}const i=`0x${(n&&s<0?(1n<<BigInt(8*a))+BigInt(s):s).toString(16)}`;return a?Pe(i,{size:a}):i}const Je=new TextEncoder;function Ye(e,t={}){return ze(Je.encode(e),t)}class Xe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const Qe=(e,t,n)=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString():t,n),Ze={gwei:9,wei:18},et={ether:-9,wei:9};function tt(e,t){let n=e.toString();const a=n.startsWith("-");a&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,r]=[n.slice(0,n.length-t),n.slice(n.length-t)];return r=r.replace(/(0+)$/,""),`${a?"-":""}${s||"0"}${r?`.${r}`:""}`}function nt(e,t="wei"){return tt(e,et[t])}const at=e=>e,st=e=>e;class rt extends Se{constructor({body:e,cause:t,details:n,headers:a,status:s,url:r}){super("HTTP request failed.",{cause:t,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${r}`,e&&`Request body: ${Qe(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=a,this.status=s,this.url=r}}class ot extends Se{constructor({body:e,error:t,url:n}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${n}`,`Request body: ${Qe(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data,this.url=n}}class it extends Se{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${t}`,`Request body: ${Qe(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=t}}class ct extends Se{constructor(e,{code:t,docsPath:n,metaMessages:a,name:s,shortMessage:r}){super(r,{cause:e,docsPath:n,metaMessages:a||(null==e?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof ot?e.code:t??-1}}class lt extends ct{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class dt extends ct{constructor(e){super(e,{code:dt.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(dt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class ut extends ct{constructor(e){super(e,{code:ut.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(ut,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class pt extends ct{constructor(e,{method:t}={}){super(e,{code:pt.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(pt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class ht extends ct{constructor(e){super(e,{code:ht.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join("\n")})}}Object.defineProperty(ht,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class mt extends ct{constructor(e){super(e,{code:mt.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(mt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class gt extends ct{constructor(e){super(e,{code:gt.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")})}}Object.defineProperty(gt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ft extends ct{constructor(e){super(e,{code:ft.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ft,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class vt extends ct{constructor(e){super(e,{code:vt.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(vt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Ct extends ct{constructor(e){super(e,{code:Ct.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Ct,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class wt extends ct{constructor(e,{method:t}={}){super(e,{code:wt.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(wt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Et extends ct{constructor(e){super(e,{code:Et.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Et,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class yt extends ct{constructor(e){super(e,{code:yt.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Nt extends lt{constructor(e){super(e,{code:Nt.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Nt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class bt extends lt{constructor(e){super(e,{code:bt.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(bt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class At extends lt{constructor(e,{method:t}={}){super(e,{code:At.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(At,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class It extends lt{constructor(e){super(e,{code:It.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(It,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class kt extends lt{constructor(e){super(e,{code:kt.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class St extends lt{constructor(e){super(e,{code:St.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(St,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class _t extends lt{constructor(e){super(e,{code:_t.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(_t,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Tt extends lt{constructor(e){super(e,{code:Tt.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Tt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Ot extends lt{constructor(e){super(e,{code:Ot.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Ot,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Rt extends lt{constructor(e){super(e,{code:Rt.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Rt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Pt extends lt{constructor(e){super(e,{code:Pt.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Pt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Ut extends lt{constructor(e){super(e,{code:Ut.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Ut,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class xt extends lt{constructor(e){super(e,{code:xt.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(xt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Dt extends ct{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}class Mt extends Se{constructor({cause:e,message:t}={}){var n;const a=null==(n=null==t?void 0:t.replace("execution reverted: ",""))?void 0:n.replace("execution reverted","");super(`Execution reverted ${a?`with reason: ${a}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Mt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(Mt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class Lt extends Se{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${nt(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Lt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Wt extends Se{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${nt(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(Wt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Ft extends Se{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Ft,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class $t extends Se{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty($t,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Bt extends Se{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(Bt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Ht extends Se{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Ht,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class jt extends Se{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(jt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Vt extends Se{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Vt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Kt extends Se{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Kt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class qt extends Se{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${nt(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${nt(n)} gwei`:""}).`].join("\n"),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(qt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class zt extends Se{constructor({cause:e}){super(`An error occurred while executing: ${null==e?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}const Gt=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Jt=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Yt=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],Xt=[...Yt,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Qt=[...Yt,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Zt=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],en=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],tn=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],nn=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],an=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];function sn(){let e=()=>{},t=()=>{};return{promise:new Promise((n,a)=>{e=n,t=a}),resolve:e,reject:t}}const rn=new Map;function on({fn:e,id:t,shouldSplitBatch:n,wait:a=0,sort:s}){const r=async()=>{const t=i();o();const n=t.map(({args:e})=>e);0!==n.length&&e(n).then(e=>{s&&Array.isArray(e)&&e.sort(s);for(let n=0;n<t.length;n++){const{resolve:a}=t[n];null==a||a([e[n],e])}}).catch(e=>{for(let n=0;n<t.length;n++){const{reject:a}=t[n];null==a||a(e)}})},o=()=>rn.delete(t),i=()=>rn.get(t)||[],c=e=>rn.set(t,[...i(),e]);return{flush:o,async schedule(e){const{promise:t,resolve:s,reject:o}=sn();(null==n?void 0:n([...i().map(({args:e})=>e),e]))&&r();return i().length>0?(c({args:e,resolve:s,reject:o}),t):(c({args:e,resolve:s,reject:o}),setTimeout(r,a),t)}}}async function cn(e){return new Promise(t=>setTimeout(t,e))}function ln(e,{delay:t=100,retryCount:n=2,shouldRetry:a=()=>!0}={}){return new Promise((s,r)=>{const o=async({count:i=0}={})=>{try{const t=await e();s(t)}catch(c){if(i<n&&await a({count:i,error:c}))return(async({error:e})=>{const n="function"==typeof t?t({count:i,error:e}):t;n&&await cn(n),o({count:i+1})})({error:c});r(c)}};o()})}let dn,un=256;function pn(e=11){if(!dn||un+e>512){dn="",un=0;for(let e=0;e<256;e++)dn+=(256+256*Math.random()|0).toString(16).substring(1)}return dn.substring(un,un+++e)}const hn=new Xe(8192);function mn(e,t={}){return async(n,a={})=>{var s;const{dedupe:r=!1,methods:o,retryDelay:i=150,retryCount:c=3,uid:l}={...t,...a},{method:d}=n;if(null==(s=null==o?void 0:o.exclude)?void 0:s.includes(d))throw new wt(new Error("method not supported"),{method:d});if((null==o?void 0:o.include)&&!o.include.includes(d))throw new wt(new Error("method not supported"),{method:d});return function(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(hn.get(n))return hn.get(n);const a=e().finally(()=>hn.delete(n));return hn.set(n,a),a}(()=>ln(async()=>{try{return await e(n)}catch(t){const e=t;switch(e.code){case dt.code:throw new dt(e);case ut.code:throw new ut(e);case pt.code:throw new pt(e,{method:n.method});case ht.code:throw new ht(e);case mt.code:throw new mt(e);case gt.code:throw new gt(e);case ft.code:throw new ft(e);case vt.code:throw new vt(e);case Ct.code:throw new Ct(e);case wt.code:throw new wt(e,{method:n.method});case Et.code:throw new Et(e);case yt.code:throw new yt(e);case Nt.code:throw new Nt(e);case bt.code:throw new bt(e);case At.code:throw new At(e);case It.code:throw new It(e);case kt.code:throw new kt(e);case St.code:throw new St(e);case _t.code:throw new _t(e);case Tt.code:throw new Tt(e);case Ot.code:throw new Ot(e);case Rt.code:throw new Rt(e);case Pt.code:throw new Pt(e);case Ut.code:throw new Ut(e);case xt.code:throw new xt(e);case 5e3:throw new Nt(e);default:if(t instanceof Se)throw t;throw new Dt(e)}}},{delay:({count:e,error:t})=>{var n;if(t&&t instanceof rt){const e=null==(n=null==t?void 0:t.headers)?void 0:n.get("Retry-After");if(null==e?void 0:e.match(/\d/))return 1e3*Number.parseInt(e,10)}return(1<<e)*i},retryCount:c,shouldRetry:({error:e})=>function(e){if("code"in e&&"number"==typeof e.code)return-1===e.code||(e.code===Et.code||e.code===mt.code);if(e instanceof rt&&e.status)return 403===e.status||(408===e.status||(413===e.status||(429===e.status||(500===e.status||(502===e.status||(503===e.status||504===e.status))))));return!0}(e)}),{enabled:r,id:r?Ye(`${l}.${Qe(n)}`):void 0})}}function gn(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:a}){return new Promise((s,r)=>{(async()=>{let o;try{const t=new AbortController;n>0&&(o=setTimeout(()=>{a&&t.abort()},n)),s(await e({signal:(null==t?void 0:t.signal)||null}))}catch(i){"AbortError"===(null==i?void 0:i.name)&&r(t),r(i)}finally{clearTimeout(o)}})()})}function fn(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const vn=fn();function Cn(e,t={}){const{url:n,headers:a}=function(e){try{const t=new URL(e),n=(()=>{if(t.username){const e=`${decodeURIComponent(t.username)}:${decodeURIComponent(t.password)}`;return t.username="",t.password="",{url:t.toString(),headers:{Authorization:`Basic ${btoa(e)}`}}}})();return{url:t.toString(),...n}}catch{return{url:e}}}(e);return{async request(e){var s;const{body:r,fetchFn:o=t.fetchFn??fetch,onRequest:i=t.onRequest,onResponse:c=t.onResponse,timeout:l=t.timeout??1e4}=e,d={...t.fetchOptions??{},...e.fetchOptions??{}},{headers:u,method:p,signal:h}=d;try{const e=await gn(async({signal:e})=>{const t={...d,body:Array.isArray(r)?Qe(r.map(e=>({jsonrpc:"2.0",id:e.id??vn.take(),...e}))):Qe({jsonrpc:"2.0",id:r.id??vn.take(),...r}),headers:{...a,"Content-Type":"application/json",...u},method:p||"POST",signal:h||(l>0?e:null)},s=new Request(n,t),c=await(null==i?void 0:i(s,t))??{...t,url:n};return await o(c.url??n,c)},{errorInstance:new it({body:r,url:n}),timeout:l,signal:!0});let t;if(c&&await c(e),null==(s=e.headers.get("Content-Type"))?void 0:s.startsWith("application/json"))t=await e.json();else{t=await e.text();try{t=JSON.parse(t||"{}")}catch(m){if(e.ok)throw m;t={error:t}}}if(!e.ok)throw new rt({body:r,details:Qe(t.error)||e.statusText,headers:e.headers,status:e.status,url:n});return t}catch(m){if(m instanceof rt)throw m;if(m instanceof it)throw m;throw new rt({body:r,cause:m,url:n})}}}}function wn({key:e,methods:t,name:n,request:a,retryCount:s=3,retryDelay:r=150,timeout:o,type:i},c){return{config:{key:e,methods:t,name:n,request:a,retryCount:s,retryDelay:r,timeout:o,type:i},request:mn(a,{methods:t,retryCount:s,retryDelay:r,uid:pn()}),value:c}}function En(e,t={}){const{key:n="fallback",name:a="Fallback",rank:s=!1,shouldThrow:r=yn,retryCount:o,retryDelay:i}=t;return({chain:t,pollingInterval:c=4e3,timeout:l,...d})=>{let u=e,p=()=>{};const h=wn({key:n,name:a,async request({method:e,params:n}){let a;const s=async(o=0)=>{const i=u[o]({...d,chain:t,retryCount:0,timeout:l});try{const t=await i.request({method:e,params:n});return p({method:e,params:n,response:t,transport:i,status:"success"}),t}catch(c){if(p({error:c,method:e,params:n,transport:i,status:"error"}),r(c))throw c;if(o===u.length-1)throw c;if(a??(a=u.slice(o+1).some(n=>{const{include:a,exclude:s}=n({chain:t}).config.methods||{};return a?a.includes(e):!s||!s.includes(e)})),!a)throw c;return s(o+1)}};return s()},retryCount:o,retryDelay:i,type:"fallback"},{onResponse:e=>p=e,transports:u.map(e=>e({chain:t,retryCount:0}))});if(s){const e="object"==typeof s?s:{};!function({chain:e,interval:t=4e3,onTransports:n,ping:a,sampleCount:s=10,timeout:r=1e3,transports:o,weights:i={}}){const{stability:c=.7,latency:l=.3}=i,d=[],u=async()=>{const i=await Promise.all(o.map(async t=>{const n=t({chain:e,retryCount:0,timeout:r}),s=Date.now();let o,i;try{await(a?a({transport:n}):n.request({method:"net_listening"})),i=1}catch{i=0}finally{o=Date.now()}return{latency:o-s,success:i}}));d.push(i),d.length>s&&d.shift();const p=Math.max(...d.map(e=>Math.max(...e.map(({latency:e})=>e)))),h=o.map((e,t)=>{const n=d.map(e=>e[t].latency),a=1-n.reduce((e,t)=>e+t,0)/n.length/p,s=d.map(e=>e[t].success),r=s.reduce((e,t)=>e+t,0)/s.length;return 0===r?[0,t]:[l*a+c*r,t]}).sort((e,t)=>t[0]-e[0]);n(h.map(([,e])=>o[e])),await cn(t),u()};u()}({chain:t,interval:e.interval??c,onTransports:e=>u=e,ping:e.ping,sampleCount:e.sampleCount,timeout:e.timeout,transports:u,weights:e.weights})}return h}}function yn(e){return!(!("code"in e)||"number"!=typeof e.code||e.code!==Ct.code&&e.code!==Nt.code&&!Mt.nodeMessage.test(e.message)&&5e3!==e.code)}class Nn extends Se{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function bn(e,t={}){const{batch:n,fetchFn:a,fetchOptions:s,key:r="http",methods:o,name:i="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:d,raw:u}=t;return({chain:p,retryCount:h,timeout:m})=>{const{batchSize:g=1e3,wait:f=0}="object"==typeof n?n:{},v=t.retryCount??h,C=m??t.timeout??1e4,w=e||(null==p?void 0:p.rpcUrls.default.http[0]);if(!w)throw new Nn;const E=Cn(w,{fetchFn:a,fetchOptions:s,onRequest:c,onResponse:l,timeout:C});return wn({key:r,methods:o,name:i,async request({method:e,params:t}){const a={method:e,params:t},{schedule:s}=on({id:w,wait:f,shouldSplitBatch:e=>e.length>g,fn:e=>E.request({body:e}),sort:(e,t)=>e.id-t.id}),[{error:r,result:o}]=await(async e=>n?s(e):[await E.request({body:e})])(a);if(u)return{error:r,result:o};if(r)throw new ot({body:a,error:r,url:w});return o},retryCount:v,retryDelay:d,timeout:C,type:"http"},{fetchOptions:s,url:w})}}async function An(...e){const t=await fetch(...e);if(!t.ok){throw new Error(`HTTP status code: ${t.status}`,{cause:t})}return t}class In{constructor({baseUrl:e,clientId:t}){this.baseUrl=e,this.clientId=t}async get({headers:e,signal:t,cache:n,...a}){const s=this.createUrl(a);return(await An(s,{method:"GET",headers:e,signal:t,cache:n})).json()}async getBlob({headers:e,signal:t,...n}){const a=this.createUrl(n);return(await An(a,{method:"GET",headers:e,signal:t})).blob()}async post({body:e,headers:t,signal:n,...a}){const s=this.createUrl(a);return(await An(s,{method:"POST",headers:t,body:e?JSON.stringify(e):void 0,signal:n})).json()}async put({body:e,headers:t,signal:n,...a}){const s=this.createUrl(a);return(await An(s,{method:"PUT",headers:t,body:e?JSON.stringify(e):void 0,signal:n})).json()}async delete({body:e,headers:t,signal:n,...a}){const s=this.createUrl(a);return(await An(s,{method:"DELETE",headers:t,body:e?JSON.stringify(e):void 0,signal:n})).json()}createUrl({path:e,params:t}){const n=new URL(e,this.baseUrl);return t&&Object.entries(t).forEach(([e,t])=>{t&&n.searchParams.append(e,t)}),this.clientId&&n.searchParams.append("clientId",this.clientId),n}sendBeacon({body:e,...t}){const n=this.createUrl(t);return navigator.sendBeacon(n.toString(),e?JSON.stringify(e):void 0)}}const kn={getFeatureValue(e,t){const n=null==t?void 0:t[e];return void 0===n?ge.DEFAULT_FEATURES[e]:n},filterSocialsByPlatform(e){if(!e||!e.length)return e;let t=e;return ve.isTelegram()&&(ve.isIos()&&(t=t.filter(e=>"google"!==e)),ve.isMac()&&(t=t.filter(e=>"x"!==e)),ve.isAndroid()&&(t=t.filter(e=>!["facebook","x"].includes(e)))),ve.isMobile()&&(t=t.filter(e=>"facebook"!==e)),t},isSocialsEnabled(){var e,t,n,a;return Array.isArray(null==(e=_n.state.features)?void 0:e.socials)&&(null==(t=_n.state.features)?void 0:t.socials.length)>0||Array.isArray(null==(n=_n.state.remoteFeatures)?void 0:n.socials)&&(null==(a=_n.state.remoteFeatures)?void 0:a.socials.length)>0},isEmailEnabled(){var e,t;return Boolean((null==(e=_n.state.features)?void 0:e.email)||(null==(t=_n.state.remoteFeatures)?void 0:t.email))}},Sn=se({features:ge.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:ge.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1,coinbasePreference:"all"}),_n={state:Sn,subscribeKey:(e,t)=>ce(Sn,e,t),setOptions(e){Object.assign(Sn,e)},setRemoteFeatures(e){var t,n;if(!e)return;const a={...Sn.remoteFeatures,...e};Sn.remoteFeatures=a,(null==(t=Sn.remoteFeatures)?void 0:t.socials)&&(Sn.remoteFeatures.socials=kn.filterSocialsByPlatform(Sn.remoteFeatures.socials)),(null==(n=Sn.features)?void 0:n.pay)&&(Sn.remoteFeatures.email=!1,Sn.remoteFeatures.socials=!1)},setFeatures(e){var t;if(!e)return;Sn.features||(Sn.features=ge.DEFAULT_FEATURES);const n={...Sn.features,...e};Sn.features=n,(null==(t=Sn.features)?void 0:t.pay)&&Sn.remoteFeatures&&(Sn.remoteFeatures.email=!1,Sn.remoteFeatures.socials=!1)},setProjectId(e){Sn.projectId=e},setCustomRpcUrls(e){Sn.customRpcUrls=e},setAllWallets(e){Sn.allWallets=e},setIncludeWalletIds(e){Sn.includeWalletIds=e},setExcludeWalletIds(e){Sn.excludeWalletIds=e},setFeaturedWalletIds(e){Sn.featuredWalletIds=e},setTokens(e){Sn.tokens=e},setTermsConditionsUrl(e){Sn.termsConditionsUrl=e},setPrivacyPolicyUrl(e){Sn.privacyPolicyUrl=e},setCustomWallets(e){Sn.customWallets=e},setIsSiweEnabled(e){Sn.isSiweEnabled=e},setIsUniversalProvider(e){Sn.isUniversalProvider=e},setSdkVersion(e){Sn.sdkVersion=e},setMetadata(e){Sn.metadata=e},setDisableAppend(e){Sn.disableAppend=e},setEIP6963Enabled(e){Sn.enableEIP6963=e},setDebug(e){Sn.debug=e},setEnableWalletGuide(e){Sn.enableWalletGuide=e},setEnableAuthLogger(e){Sn.enableAuthLogger=e},setEnableWallets(e){Sn.enableWallets=e},setPreferUniversalLinks(e){Sn.experimental_preferUniversalLinks=e},setSIWX(e){if(e)for(const[t,n]of Object.entries(ge.SIWX_DEFAULTS))e[t]??(e[t]=n);Sn.siwx=e},setConnectMethodsOrder(e){Sn.features={...Sn.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){Sn.features={...Sn.features,walletFeaturesOrder:e}},setSocialsOrder(e){Sn.remoteFeatures={...Sn.remoteFeatures,socials:e}},setCollapseWallets(e){Sn.features={...Sn.features,collapseWallets:e}},setEnableEmbedded(e){Sn.enableEmbedded=e},setAllowUnsupportedChain(e){Sn.allowUnsupportedChain=e},setManualWCControl(e){Sn.manualWCControl=e},setEnableNetworkSwitch(e){Sn.enableNetworkSwitch=e},setEnableMobileFullScreen(e){Sn.enableMobileFullScreen=ve.isMobile()&&e},setEnableReconnect(e){Sn.enableReconnect=e},setCoinbasePreference(e){Sn.coinbasePreference=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([e,t])=>{t&&(Sn.defaultAccountTypes[e]=t)})},setUniversalProviderConfigOverride(e){Sn.universalProviderConfigOverride=e},getUniversalProviderConfigOverride:()=>Sn.universalProviderConfigOverride,getSnapshot:()=>oe(Sn)},Tn=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),On=se({...Tn}),Rn={state:On,subscribeKey:(e,t)=>ce(On,e,t),showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){const t=ve.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){On.message=Tn.message,On.variant=Tn.variant,On.svg=Tn.svg,On.open=Tn.open,On.autoClose=Tn.autoClose},_showMessage({message:e,svg:t,variant:n="success",autoClose:a=Tn.autoClose}){On.open?(On.open=!1,setTimeout(()=>{On.message=e,On.variant=n,On.svg=t,On.open=!0,On.autoClose=a},150)):(On.message=e,On.variant=n,On.svg=t,On.open=!0,On.autoClose=a)}},Pn={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},Un=ve.getBlockchainApiUrl(),xn=se({clientId:null,api:new In({baseUrl:Un,clientId:null}),supportedChains:{http:[],ws:[]}}),Dn={state:xn,async get(e){const{st:t,sv:n}=Dn.getSdkProperties(),a=_n.state.projectId,s={...e.params||{},st:t,sv:n,projectId:a};return xn.api.get({...e,params:s})},getSdkProperties(){const{sdkType:e,sdkVersion:t}=_n.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{xn.supportedChains.http.length||await Dn.getSupportedNetworks()}catch(t){return!1}return xn.supportedChains.http.includes(e)},async getSupportedNetworks(){try{const e=await Dn.get({path:"v1/supported-chains"});return xn.supportedChains=e,e}catch{return xn.supportedChains}},async fetchIdentity({address:e}){const t=fe.getIdentityFromCacheForAddress(e);if(t)return t;const n=await Dn.get({path:`/v1/identity/${e}`,params:{sender:za.state.activeCaipAddress?ve.getPlainAddress(za.state.activeCaipAddress):void 0}});return fe.updateIdentityCache({address:e,identity:n,timestamp:Date.now()}),n},async fetchTransactions({account:e,cursor:t,signal:n,cache:a,chainId:s}){var r;if(!(await Dn.isNetworkSupported(null==(r=za.state.activeCaipNetwork)?void 0:r.caipNetworkId)))return{data:[],next:void 0};const o=fe.getTransactionsCacheForAddress({address:e,chainId:s});if(o)return o;const i=await Dn.get({path:`/v1/account/${e}/history`,params:{cursor:t,chainId:s},signal:n,cache:a});return fe.updateTransactionsCache({address:e,chainId:s,timestamp:Date.now(),transactions:i}),i},async fetchSwapQuote({amount:e,userAddress:t,from:n,to:a,gasPrice:s}){var r;return await Dn.isNetworkSupported(null==(r=za.state.activeCaipNetwork)?void 0:r.caipNetworkId)?Dn.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:n,to:a,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:e}){var t;return await Dn.isNetworkSupported(null==(t=za.state.activeCaipNetwork)?void 0:t.caipNetworkId)?Dn.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]}},getAddressBalance:async({caipNetworkId:e,address:t})=>xn.api.post({path:`/v1?chainId=${e}&projectId=${_n.state.projectId}`,body:{id:"1",jsonrpc:"2.0",method:"getAddressBalance",params:{address:t}}}).then(e=>e.result),async fetchTokenPrice({addresses:e,caipNetworkId:t=(e=>null==(e=za.state.activeCaipNetwork)?void 0:e.caipNetworkId)()}){if(!(await Dn.isNetworkSupported(t)))return{fungibles:[]};const n=fe.getTokenPriceCacheForAddresses(e);if(n)return n;const a=await xn.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:_n.state.projectId},headers:{"Content-Type":"application/json"}});return fe.updateTokenPriceCache({addresses:e,timestamp:Date.now(),tokenPrice:a}),a},async fetchSwapAllowance({tokenAddress:e,userAddress:t}){var n;return await Dn.isNetworkSupported(null==(n=za.state.activeCaipNetwork)?void 0:n.caipNetworkId)?Dn.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:e}){var t;const{st:n,sv:a}=Dn.getSdkProperties();if(!(await Dn.isNetworkSupported(null==(t=za.state.activeCaipNetwork)?void 0:t.caipNetworkId)))throw new Error("Network not supported for Gas Price");return Dn.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:n,sv:a}})},async generateSwapCalldata({amount:e,from:t,to:n,userAddress:a,disableEstimate:s}){var r;if(!(await Dn.isNetworkSupported(null==(r=za.state.activeCaipNetwork)?void 0:r.caipNetworkId)))throw new Error("Network not supported for Swaps");return xn.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:ge.CONVERT_SLIPPAGE_TOLERANCE},projectId:_n.state.projectId,from:t,to:n,userAddress:a,disableEstimate:s}})},async generateApproveCalldata({from:e,to:t,userAddress:n}){var a;const{st:s,sv:r}=Dn.getSdkProperties();if(!(await Dn.isNetworkSupported(null==(a=za.state.activeCaipNetwork)?void 0:a.caipNetworkId)))throw new Error("Network not supported for Swaps");return Dn.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:e,to:t,st:s,sv:r}})},async getBalance(e,t,n){var a;const{st:s,sv:r}=Dn.getSdkProperties();if(!(await Dn.isNetworkSupported(null==(a=za.state.activeCaipNetwork)?void 0:a.caipNetworkId)))return Rn.showError("Token Balance Unavailable"),{balances:[]};const o=`${t}:${e}`,i=fe.getBalanceCacheForCaipAddress(o);if(i)return i;const c=await Dn.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:n,st:s,sv:r}});return fe.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(e){var t;return await Dn.isNetworkSupported(null==(t=za.state.activeCaipNetwork)?void 0:t.caipNetworkId)?Dn.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:e}){var t,n;if(!(await Dn.isNetworkSupported(null==(t=za.state.activeCaipNetwork)?void 0:t.caipNetworkId)))return[];const a=null==(n=za.getAccountData())?void 0:n.address;return Dn.get({path:`/v1/profile/reverse/${e}`,params:{sender:a,apiVersion:"2"}})},async getEnsNameSuggestions(e){var t;return await Dn.isNetworkSupported(null==(t=za.state.activeCaipNetwork)?void 0:t.caipNetworkId)?Dn.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:e,address:t,message:n,signature:a}){var s;return await Dn.isNetworkSupported(null==(s=za.state.activeCaipNetwork)?void 0:s.caipNetworkId)?xn.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:n,signature:a},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:e,partnerUserId:t,defaultNetwork:n,purchaseAmount:a,paymentAmount:s}){var r;if(!(await Dn.isNetworkSupported(null==(r=za.state.activeCaipNetwork)?void 0:r.caipNetworkId)))return"";return(await xn.api.post({path:"/v1/generators/onrampurl",params:{projectId:_n.state.projectId},body:{destinationWallets:e,defaultNetwork:n,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:a,presetFiatAmount:s}})).url},async getOnrampOptions(){var e;if(!(await Dn.isNetworkSupported(null==(e=za.state.activeCaipNetwork)?void 0:e.caipNetworkId)))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Dn.get({path:"/v1/onramp/options"})}catch(t){return Pn}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:n,network:a}){var s;try{if(!(await Dn.isNetworkSupported(null==(s=za.state.activeCaipNetwork)?void 0:s.caipNetworkId)))return null;return await xn.api.post({path:"/v1/onramp/quote",params:{projectId:_n.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:n,network:a}})}catch(r){return{networkFee:{amount:n,currency:t.id},paymentSubtotal:{amount:n,currency:t.id},paymentTotal:{amount:n,currency:t.id},purchaseAmount:{amount:n,currency:t.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(e){var t;return await Dn.isNetworkSupported(null==(t=za.state.activeCaipNetwork)?void 0:t.caipNetworkId)?Dn.get({path:`/v1/sessions/${e}`}):[]},async revokeSmartSession(e,t,n){var a;return await Dn.isNetworkSupported(null==(a=za.state.activeCaipNetwork)?void 0:a.caipNetworkId)?xn.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:_n.state.projectId},body:{pci:t,signature:n}}):{success:!1}},setClientId(e){xn.clientId=e,xn.api=new In({baseUrl:Un,clientId:e})}},Mn=Object.freeze({enabled:!0,events:[]}),Ln=new In({baseUrl:ve.getAnalyticsUrl(),clientId:null}),Wn=se({...Mn}),Fn={state:Wn,subscribeKey:(e,t)=>ce(Wn,e,t),async sendError(e,t){if(!Wn.enabled)return;const n=Date.now();if(Wn.events.filter(e=>{const t=new Date(e.properties.timestamp||"").getTime();return n-t<6e4}).length>=5)return;const a={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:(new Date).toISOString()}};Wn.events.push(a);try{if("undefined"==typeof window)return;const{projectId:n,sdkType:a,sdkVersion:s}=_n.state;await Ln.post({path:"/e",params:{projectId:n,st:a,sv:s||"html-wagmi-4.2.2"},body:{eventId:ve.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:(new Date).toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){Wn.enabled=!0},disable(){Wn.enabled=!1},clearEvents(){Wn.events=[]}};class $n extends Error{constructor(e,t,n){super(e),this.originalName="AppKitError",this.name="AppKitError",this.category=t,this.originalError=n,n&&n instanceof Error&&(this.originalName=n.name),Object.setPrototypeOf(this,$n.prototype);let a=!1;if(n instanceof Error&&"string"==typeof n.stack&&n.stack){const e=n.stack,t=e.indexOf("\n");if(t>-1){const n=e.substring(t+1);this.stack=`${this.name}: ${this.message}\n${n}`,a=!0}}a||(Error.captureStackTrace?Error.captureStackTrace(this,$n):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function Bn(e,t){let n="";try{n=e instanceof Error?e.message:"string"==typeof e?e:"object"==typeof e&&null!==e?0===Object.keys(e).length?"Unknown error":(null==e?void 0:e.message)||JSON.stringify(e):String(e)}catch(s){n="Unknown error",console.error("Error parsing error message",s)}const a=e instanceof $n?e:new $n(n,t,e);throw Fn.sendError(a,a.category),a}function Hn(e,t="INTERNAL_SDK_ERROR"){const n={};return Object.keys(e).forEach(a=>{const s=e[a];if("function"==typeof s){let e=s;e="AsyncFunction"===s.constructor.name?async(...e)=>{try{return await s(...e)}catch(n){return Bn(n,t)}}:(...e)=>{try{return s(...e)}catch(n){return Bn(n,t)}},n[a]=e}else n[a]=s}),n}const jn=se({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),Vn=Hn({state:jn,subscribeNetworkImages:e=>re(jn.networkImages,()=>e(jn.networkImages)),subscribeKey:(e,t)=>ce(jn,e,t),subscribe:e=>re(jn,()=>e(jn)),setWalletImage(e,t){jn.walletImages[e]=t},setNetworkImage(e,t){jn.networkImages[e]=t},setChainImage(e,t){jn.chainImages[e]=t},setConnectorImage(e,t){jn.connectorImages={...jn.connectorImages,[e]:t}},setTokenImage(e,t){jn.tokenImages[e]=t},setCurrencyImage(e,t){jn.currencyImages[e]=t}}),Kn={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:"",ton:"20f673c0-095e-49b2-07cf-eb5049dcf600"},qn=se({networkImagePromises:{},tokenImagePromises:{}}),zn={async fetchWalletImage(e){if(e)return await sa._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;const t=this.getNetworkImageById(e);return t||(qn.networkImagePromises[e]||(qn.networkImagePromises[e]=sa._fetchNetworkImage(e)),await qn.networkImagePromises[e],this.getNetworkImageById(e))},async fetchTokenImage(e){if(e)return qn.tokenImagePromises[e]||(qn.tokenImagePromises[e]=sa._fetchTokenImage(e)),await qn.tokenImagePromises[e],this.getTokenImage(e)},getWalletImageById(e){if(e)return Vn.state.walletImages[e]},getWalletImage:e=>(null==e?void 0:e.image_url)?null==e?void 0:e.image_url:(null==e?void 0:e.image_id)?Vn.state.walletImages[e.image_id]:void 0,getNetworkImage(e){var t,n,a;return(null==(t=null==e?void 0:e.assets)?void 0:t.imageUrl)?null==(n=null==e?void 0:e.assets)?void 0:n.imageUrl:(null==(a=null==e?void 0:e.assets)?void 0:a.imageId)?Vn.state.networkImages[e.assets.imageId]:void 0},getNetworkImageById(e){if(e)return Vn.state.networkImages[e]},getConnectorImage(e){var t;return(null==e?void 0:e.imageUrl)?e.imageUrl:(null==(t=null==e?void 0:e.info)?void 0:t.icon)?e.info.icon:(null==e?void 0:e.imageId)?Vn.state.connectorImages[e.imageId]:void 0},getChainImage:e=>Vn.state.networkImages[Kn[e]],getTokenImage(e){if(e)return Vn.state.tokenImages[e]},getWalletImageUrl(e){if(!e)return"";const{projectId:t,sdkType:n,sdkVersion:a}=_n.state,s=new URL(`${l.W3M_API_URL}/getWalletImage/${e}`);return s.searchParams.set("projectId",t),s.searchParams.set("st",n),s.searchParams.set("sv",a),s.toString()},getAssetImageUrl(e){if(!e)return"";const{projectId:t,sdkType:n,sdkVersion:a}=_n.state,s=new URL(`${l.W3M_API_URL}/public/getAssetImage/${e}`);return s.searchParams.set("projectId",t),s.searchParams.set("st",n),s.searchParams.set("sv",a),s.toString()},getChainNamespaceImageUrl(e){return this.getAssetImageUrl(Kn[e])},async getImageByToken(e,t){if("native"===e){const e=l.NATIVE_IMAGE_IDS_BY_NAMESPACE[t]??null;if(!e)return;return zn.fetchNetworkImage(e)}const[,n]=Object.entries(l.TOKEN_SYMBOLS_BY_ADDRESS).find(([t])=>t.toLowerCase()===e.toLowerCase())??[];if(n)return zn.fetchTokenImage(n)}},Gn={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},Jn={handleMobileDeeplinkRedirect(e,t){const n=window.location.href,a=encodeURIComponent(n);if(e===Gn.PHANTOM.id&&!("phantom"in window)){const e=n.startsWith("https")?"https":"http",t=n.split("/")[2],s=encodeURIComponent(`${e}://${t}`);window.location.href=`${Gn.PHANTOM.url}/ul/browse/${a}?ref=${s}`}if(e!==Gn.SOLFLARE.id||"solflare"in window||(window.location.href=`${Gn.SOLFLARE.url}/ul/v1/browse/${a}?ref=${a}`),t===l.CHAIN.SOLANA&&(e!==Gn.COINBASE.id||"coinbaseSolana"in window||(window.location.href=`${Gn.COINBASE.url}/dapp?cb_url=${a}`)),t===l.CHAIN.BITCOIN&&e===Gn.BINANCE.id&&!("binancew3w"in window)){const e=za.state.activeCaipNetwork,t=window.btoa("/pages/browser/index"),n=window.btoa(`url=${a}&defaultChainId=${(null==e?void 0:e.id)??1}`),s=new URL(Gn.BINANCE.deeplink);s.searchParams.set("appId",Gn.BINANCE.appId),s.searchParams.set("startPagePath",t),s.searchParams.set("startPageQuery",n);const r=new URL(Gn.BINANCE.url);r.searchParams.set("_dp",window.btoa(s.toString())),window.location.href=r.toString()}}},Yn=ve.getAnalyticsUrl(),Xn=new In({baseUrl:Yn,clientId:null}),Qn=["MODAL_CREATED"],Zn=se({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),ea={state:Zn,subscribe:e=>re(Zn,()=>e(Zn)),getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=_n.state;return{projectId:e,st:t,sv:n||"html-wagmi-4.2.2"}},shouldFlushEvents(){const e=JSON.stringify(Zn.pendingEvents).length/1024>45,t=Zn.lastFlush+1e4<Date.now();return e||t},_setPendingEvent(e){var t,n;try{let a=null==(t=za.getAccountData())?void 0:t.address;if("address"in e.data&&e.data.address&&(a=e.data.address),Qn.includes(e.data.event)||"undefined"==typeof window)return;const s=null==(n=za.getActiveCaipNetwork())?void 0:n.caipNetworkId;this.state.pendingEvents.push({eventId:ve.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:a,properties:{..."properties"in e.data?e.data.properties:{},caipNetworkId:s}}}),Zn.reportedErrors.FORBIDDEN=!1;ea.shouldFlushEvents()&&ea._submitPendingEvents()}catch(a){console.warn("_setPendingEvent",a)}},sendEvent(e){var t;Zn.timestamp=Date.now(),Zn.data=e;((null==(t=_n.state.features)?void 0:t.analytics)||["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"].includes(e.event))&&ea._setPendingEvent(Zn),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(e){Zn.walletImpressions.push(e)},_transformPendingEventsForBatch(e){try{return e.filter(e=>"WALLET_IMPRESSION_V2"!==e.props.event)}catch{return e}},_submitPendingEvents(){if(Zn.lastFlush=Date.now(),0!==Zn.pendingEvents.length||0!==Zn.walletImpressions.length)try{const e=ea._transformPendingEventsForBatch(Zn.pendingEvents);Zn.walletImpressions.length&&e.push({eventId:ve.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION_V2",items:[...Zn.walletImpressions]}}),Xn.sendBeacon({path:"/batch",params:ea.getSdkProperties(),body:e}),Zn.reportedErrors.FORBIDDEN=!1,Zn.pendingEvents=[],Zn.walletImpressions=[]}catch(e){Zn.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){var e,t,n;Zn.subscribedToVisibilityChange||"undefined"!=typeof document&&(Zn.subscribedToVisibilityChange=!0,null==(e=null==document?void 0:document.addEventListener)||e.call(document,"visibilitychange",()=>{"hidden"===document.visibilityState&&ea._submitPendingEvents()}),null==(t=null==document?void 0:document.addEventListener)||t.call(document,"freeze",()=>{ea._submitPendingEvents()}),null==(n=null==window?void 0:window.addEventListener)||n.call(window,"pagehide",()=>{ea._submitPendingEvents()}),setInterval(()=>{ea._submitPendingEvents()},1e4))}},ta=ve.getApiUrl(),na=new In({baseUrl:ta,clientId:null}),aa=se({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[],plan:{tier:"none",hasExceededUsageLimit:!1,limits:{isAboveRpcLimit:!1,isAboveMauLimit:!1}}}),sa={state:aa,subscribeKey:(e,t)=>ce(aa,e,t),_getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=_n.state;return{projectId:e,st:t||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions:e=>_n.state.isUniversalProvider?e.filter(e=>Boolean(e.mobile_link||e.desktop_link||e.webapp_link)):e,async _fetchWalletImage(e){const t=`${na.baseUrl}/getWalletImage/${e}`,n=await na.getBlob({path:t,params:sa._getSdkProperties()});Vn.setWalletImage(e,URL.createObjectURL(n))},async _fetchNetworkImage(e){const t=`${na.baseUrl}/public/getAssetImage/${e}`,n=await na.getBlob({path:t,params:sa._getSdkProperties()});Vn.setNetworkImage(e,URL.createObjectURL(n))},async _fetchConnectorImage(e){const t=`${na.baseUrl}/public/getAssetImage/${e}`,n=await na.getBlob({path:t,params:sa._getSdkProperties()});Vn.setConnectorImage(e,URL.createObjectURL(n))},async _fetchCurrencyImage(e){const t=`${na.baseUrl}/public/getCurrencyImage/${e}`,n=await na.getBlob({path:t,params:sa._getSdkProperties()});Vn.setCurrencyImage(e,URL.createObjectURL(n))},async _fetchTokenImage(e){const t=`${na.baseUrl}/public/getTokenImage/${e}`,n=await na.getBlob({path:t,params:sa._getSdkProperties()});Vn.setTokenImage(e,URL.createObjectURL(n))},_filterWalletsByPlatform(e){const t=e.length,n=ve.isMobile()?null==e?void 0:e.filter(e=>{if(e.mobile_link||e.webapp_link)return!0;return Object.values(Gn).map(e=>e.id).includes(e.id)}):e;return{filteredWallets:n,mobileFilteredOutWalletsLength:t-n.length}},fetchProjectConfig:async()=>(await na.get({path:"/appkit/v1/config",params:sa._getSdkProperties()})).features,async fetchUsage(){try{const e=await na.get({path:"/appkit/v1/project-limits",params:sa._getSdkProperties()}),{tier:t,isAboveMauLimit:n,isAboveRpcLimit:a}=e.planLimits,s="starter"===t,r=n||a;sa.state.plan={tier:t,hasExceededUsageLimit:s&&r,limits:{isAboveRpcLimit:a,isAboveMauLimit:n}}}catch(e){console.warn("Failed to fetch usage",e)}},async fetchAllowedOrigins(){try{const{allowedOrigins:e}=await na.get({path:"/projects/v1/origins",params:sa._getSdkProperties()});return e}catch(e){if(e instanceof Error&&e.cause instanceof Response){const t=e.cause.status;if(t===l.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:e});if(t>=l.HTTP_STATUS_CODES.SERVER_ERROR&&t<600)throw new Error("SERVER_ERROR",{cause:e});return[]}return[]}},async fetchNetworkImages(){const e=za.getAllRequestedCaipNetworks(),t=null==e?void 0:e.map(({assets:e})=>null==e?void 0:e.imageId).filter(Boolean).filter(e=>!zn.getNetworkImageById(e));t&&await Promise.allSettled(t.map(e=>sa._fetchNetworkImage(e)))},async fetchConnectorImages(){const{connectors:e}=fa.state,t=e.map(({imageId:e})=>e).filter(Boolean);await Promise.allSettled(t.map(e=>sa._fetchConnectorImage(e)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(e=>sa._fetchCurrencyImage(e)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(e=>sa._fetchTokenImage(e)))},async fetchWallets(e){var t;const n=e.exclude??[];sa._getSdkProperties().sv.startsWith("html-core-")&&n.push(...Object.values(Gn).map(e=>e.id));const a=await na.get({path:"/getWallets",params:{...sa._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:null==(t=e.include)?void 0:t.join(","),exclude:n.join(",")}}),{filteredWallets:s,mobileFilteredOutWalletsLength:r}=sa._filterWalletsByPlatform(null==a?void 0:a.data);return{data:s||[],count:null==a?void 0:a.count,mobileFilteredOutWalletsLength:r}},async prefetchWalletRanks(){const e=fa.state.connectors;if(!(null==e?void 0:e.length))return;const t={page:1,entries:20,badge:"certified"};if(t.names=e.map(e=>e.name).join(","),za.state.activeChain===l.CHAIN.EVM){const n=[...e.flatMap(e=>{var t;return(null==(t=e.connectors)?void 0:t.map(e=>{var t;return null==(t=e.info)?void 0:t.rdns}))||[]}),...e.map(e=>{var t;return null==(t=e.info)?void 0:t.rdns})].filter(e=>"string"==typeof e&&e.length>0);n.length&&(t.rdns=n.join(","))}const{data:n}=await sa.fetchWallets(t);aa.explorerWallets=n,fa.extendConnectorsWithExplorerWallets(n);const a=za.getRequestedCaipNetworkIds().join(",");aa.explorerFilteredWallets=n.filter(e=>{var t;return null==(t=e.chains)?void 0:t.some(e=>a.includes(e))})},async fetchFeaturedWallets(){const{featuredWalletIds:e}=_n.state;if(null==e?void 0:e.length){const t={...sa._getSdkProperties(),page:1,entries:(null==e?void 0:e.length)??4,include:e},{data:n}=await sa.fetchWallets(t),a=[...n].sort((t,n)=>e.indexOf(t.id)-e.indexOf(n.id)),s=a.map(e=>e.image_id).filter(Boolean);await Promise.allSettled(s.map(e=>sa._fetchWalletImage(e))),aa.featured=a,aa.allFeatured=a}},async fetchRecommendedWallets(){try{aa.isFetchingRecommendedWallets=!0;const{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:n}=_n.state,a=[...t??[],...n??[]].filter(Boolean),s={page:1,entries:4,include:e,exclude:a,chains:za.getRequestedCaipNetworkIds().join(",")},{data:r,count:o}=await sa.fetchWallets(s),i=fe.getRecentWallets(),c=r.map(e=>e.image_id).filter(Boolean),l=i.map(e=>e.image_id).filter(Boolean);await Promise.allSettled([...c,...l].map(e=>sa._fetchWalletImage(e))),aa.recommended=r,aa.allRecommended=r,aa.count=o??0}catch{}finally{aa.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){const{includeWalletIds:t,excludeWalletIds:n,featuredWalletIds:a}=_n.state,s=za.getRequestedCaipNetworkIds().join(","),r={page:e,entries:40,include:t,exclude:[...aa.recommended.map(({id:e})=>e),...n??[],...a??[]].filter(Boolean),chains:s},{data:o,count:i,mobileFilteredOutWalletsLength:c}=await sa.fetchWallets(r);aa.mobileFilteredOutWalletsLength=c+(aa.mobileFilteredOutWalletsLength??0);const l=o.slice(0,20).map(e=>e.image_id).filter(Boolean);await Promise.allSettled(l.map(e=>sa._fetchWalletImage(e))),aa.wallets=ve.uniqueBy([...aa.wallets,...sa._filterOutExtensions(o)],"id").filter(e=>{var t;return null==(t=e.chains)?void 0:t.some(e=>s.includes(e))}),aa.count=i>aa.count?i:aa.count,aa.page=e},async initializeExcludedWallets({ids:e}){const t={page:1,entries:e.length,include:e},{data:n}=await sa.fetchWallets(t);n&&n.forEach(e=>{aa.excludedWallets.push({rdns:e.rdns,name:e.name})})},async searchWallet({search:e,badge:t}){const{includeWalletIds:n,excludeWalletIds:a}=_n.state,s=za.getRequestedCaipNetworkIds().join(",");aa.search=[];const r={page:1,entries:100,search:null==e?void 0:e.trim(),badge_type:t,include:n,exclude:a,chains:s},{data:o}=await sa.fetchWallets(r);ea.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});const i=o.map(e=>e.image_id).filter(Boolean);await Promise.allSettled([...i.map(e=>sa._fetchWalletImage(e)),ve.wait(300)]),aa.search=sa._filterOutExtensions(o)},initPromise(e,t){const n=aa.promises[e];return n||(aa.promises[e]=t())},prefetch({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:a=!0,fetchWalletRanks:s=!0}={}){const r=[e&&sa.initPromise("connectorImages",sa.fetchConnectorImages),t&&sa.initPromise("featuredWallets",sa.fetchFeaturedWallets),n&&sa.initPromise("recommendedWallets",sa.fetchRecommendedWallets),a&&sa.initPromise("networkImages",sa.fetchNetworkImages),s&&sa.initPromise("walletRanks",sa.prefetchWalletRanks)].filter(Boolean);return Promise.allSettled(r)},prefetchAnalyticsConfig(){var e;(null==(e=_n.state.features)?void 0:e.analytics)&&sa.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:e}=await na.get({path:"/getAnalyticsConfig",params:sa._getSdkProperties()});_n.setFeatures({analytics:e})}catch(e){_n.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!(null==e?void 0:e.length))return aa.featured=aa.allFeatured,void(aa.recommended=aa.allRecommended);const t=za.getRequestedCaipNetworkIds().join(",");aa.featured=aa.allFeatured.filter(e=>{var n;return null==(n=e.chains)?void 0:n.some(e=>t.includes(e))}),aa.recommended=aa.allRecommended.filter(e=>{var n;return null==(n=e.chains)?void 0:n.some(e=>t.includes(e))}),aa.filteredWallets=aa.wallets.filter(e=>{var n;return null==(n=e.chains)?void 0:n.some(e=>t.includes(e))})},clearFilterByNamespaces(){aa.filteredWallets=[]},setFilterByNamespace(e){if(!e)return aa.featured=aa.allFeatured,void(aa.recommended=aa.allRecommended);const t=za.getRequestedCaipNetworkIds().join(",");aa.featured=aa.allFeatured.filter(e=>{var n;return null==(n=e.chains)?void 0:n.some(e=>t.includes(e))}),aa.recommended=aa.allRecommended.filter(e=>{var n;return null==(n=e.chains)?void 0:n.some(e=>t.includes(e))}),aa.filteredWallets=aa.wallets.filter(e=>{var n;return null==(n=e.chains)?void 0:n.some(e=>t.includes(e))})}},ra={filterOutDuplicatesByRDNS(e){const t=_n.state.enableEIP6963?fa.state.connectors:[],n=fe.getRecentWallets(),a=t.map(e=>{var t;return null==(t=e.info)?void 0:t.rdns}).filter(Boolean),s=n.map(e=>e.rdns).filter(Boolean),r=a.concat(s);if(r.includes("io.metamask.mobile")&&ve.isMobile()){const e=r.indexOf("io.metamask.mobile");r[e]="io.metamask"}return e.filter(e=>{if((null==e?void 0:e.rdns)&&r.includes(String(e.rdns)))return!1;if(!(null==e?void 0:e.rdns)){if(t.some(t=>t.name===e.name))return!1}return!0})},filterOutDuplicatesByIds(e){const t=fa.state.connectors.filter(e=>"ANNOUNCED"===e.type||"INJECTED"===e.type||"MULTI_CHAIN"===e.type),n=fe.getRecentWallets(),a=t.map(e=>{var t;return e.explorerId||(null==(t=e.explorerWallet)?void 0:t.id)||e.id}),s=n.map(e=>e.id),r=a.concat(s);return e.filter(e=>!r.includes(null==e?void 0:e.id))},filterOutDuplicateWallets(e){const t=this.filterOutDuplicatesByRDNS(e);return this.filterOutDuplicatesByIds(t)},markWalletsAsInstalled(e){const{connectors:t}=fa.state,{featuredWalletIds:n}=_n.state,a=t.filter(e=>"ANNOUNCED"===e.type).reduce((e,t)=>{var n;return(null==(n=t.info)?void 0:n.rdns)?(e[t.info.rdns]=!0,e):e},{});return e.map(e=>({...e,installed:Boolean(e.rdns)&&Boolean(a[e.rdns??""])})).sort((e,t)=>{const a=Number(t.installed)-Number(e.installed);if(0!==a)return a;if(null==n?void 0:n.length){const a=n.indexOf(e.id),s=n.indexOf(t.id);if(-1!==a&&-1!==s)return a-s;if(-1!==a)return-1;if(-1!==s)return 1}return 0})},getConnectOrderMethod(e,t){var n;const a=(null==e?void 0:e.connectMethodsOrder)||(null==(n=_n.state.features)?void 0:n.connectMethodsOrder),s=t||fa.state.connectors;if(a)return a;const{injected:r,announced:o}=oa.getConnectorsByType(s,sa.state.recommended,sa.state.featured),i=r.filter(oa.showConnector),c=o.filter(oa.showConnector);return i.length||c.length?["wallet","email","social"]:ge.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(e){const t=Boolean(e.rdns)&&sa.state.excludedWallets.some(t=>t.rdns===e.rdns),n=Boolean(e.name)&&sa.state.excludedWallets.some(t=>i.isLowerCaseMatch(t.name,e.name));return t||n},markWalletsWithDisplayIndex:e=>e.map((e,t)=>({...e,display_index:t})),filterWalletsByWcSupport:e=>Ta.state.wcBasic?e.filter(e=>e.supports_wc):ve.isMobile()?e.filter(e=>e.supports_wc||ge.MANDATORY_WALLET_IDS_ON_MOBILE.includes(e.id)):e,getWalletConnectWallets(e){var t;const n=[...sa.state.featured,...sa.state.recommended];(null==(t=sa.state.filteredWallets)?void 0:t.length)>0?n.push(...sa.state.filteredWallets):n.push(...e);const a=ve.uniqueBy(n,"id"),s=ra.markWalletsAsInstalled(a),r=ra.filterWalletsByWcSupport(s);return ra.markWalletsWithDisplayIndex(r)}},oa={getConnectorsByType(e,t,n){const{customWallets:a}=_n.state,s=fe.getRecentWallets(),r=ra.filterOutDuplicateWallets(t),o=ra.filterOutDuplicateWallets(n),i=e.filter(e=>"MULTI_CHAIN"===e.type),c=e.filter(e=>"ANNOUNCED"===e.type),l=e.filter(e=>"INJECTED"===e.type);return{custom:a,recent:s,external:e.filter(e=>"EXTERNAL"===e.type),multiChain:i,announced:c,injected:l,recommended:r,featured:o}},showConnector(e){var t;const n=null==(t=e.info)?void 0:t.rdns,a=Boolean(n)&&sa.state.excludedWallets.some(e=>Boolean(e.rdns)&&e.rdns===n),s=Boolean(e.name)&&sa.state.excludedWallets.some(t=>i.isLowerCaseMatch(t.name,e.name));if("INJECTED"===e.type){if("Browser Wallet"===e.name){if(!ve.isMobile())return!1;if(ve.isMobile()&&!n&&!Ta.checkInstalled())return!1}if(a||s)return!1}return"ANNOUNCED"!==e.type&&"EXTERNAL"!==e.type||!a&&!s},getIsConnectedWithWC:()=>Array.from(za.state.chains.values()).some(e=>fa.getConnectorId(e.namespace)===l.CONNECTOR_ID.WALLET_CONNECT),getConnectorTypeOrder({recommended:e,featured:t,custom:n,recent:a,announced:s,injected:r,multiChain:o,external:i,overriddenConnectors:c=(e=>null==(e=_n.state.features)?void 0:e.connectorTypeOrder)()??[]}){const l=[{type:"walletConnect",isEnabled:!0},{type:"recent",isEnabled:a.length>0},{type:"injected",isEnabled:[...r,...s,...o].length>0},{type:"featured",isEnabled:t.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:i.length>0},{type:"recommended",isEnabled:e.length>0}].filter(e=>e.isEnabled),d=new Set(l.map(e=>e.type)),u=c.filter(e=>d.has(e)).map(e=>({type:e,isEnabled:!0})),p=l.filter(({type:e})=>!u.some(({type:t})=>t===e));return Array.from(new Set([...u,...p].map(({type:e})=>e)))},sortConnectorsByExplorerWallet:e=>[...e].sort((e,t)=>e.explorerWallet&&t.explorerWallet?(e.explorerWallet.order??0)-(t.explorerWallet.order??0):e.explorerWallet?-1:t.explorerWallet?1:0),getPriority:e=>e.id===l.CONNECTOR_ID.BASE_ACCOUNT?0:e.id===l.CONNECTOR_ID.COINBASE||e.id===l.CONNECTOR_ID.COINBASE_SDK?1:2,sortConnectorsByPriority:e=>[...e].sort((e,t)=>oa.getPriority(e)-oa.getPriority(t)),getAuthName:({email:e,socialUsername:t,socialProvider:n})=>t?n&&"discord"===n&&t.endsWith("0")?t.slice(0,-1):t:e.length>30?`${e.slice(0,-3)}...`:e,async fetchProviderData(e){var t,n;try{if("Browser Wallet"===e.name&&!ve.isMobile())return{accounts:[],chainId:void 0};if(e.id===l.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[a,s]=await Promise.all([null==(t=e.provider)?void 0:t.request({method:"eth_accounts"}),null==(n=e.provider)?void 0:n.request({method:"eth_chainId"}).then(e=>Number(e))]);return{accounts:a,chainId:s}}catch(a){return console.warn(`Failed to fetch provider data for ${e.name}`,a),{accounts:[],chainId:void 0}}},getFilteredCustomWallets(e){const t=fe.getRecentWallets(),n=fa.state.connectors.map(e=>{var t;return null==(t=e.info)?void 0:t.rdns}).filter(Boolean),a=t.map(e=>e.rdns).filter(Boolean),s=n.concat(a);if(s.includes("io.metamask.mobile")&&ve.isMobile()){const e=s.indexOf("io.metamask.mobile");s[e]="io.metamask"}return e.filter(e=>!s.includes(String(null==e?void 0:e.rdns)))},hasWalletConnector:e=>fa.state.connectors.some(t=>t.id===e.id||t.name===e.name),isWalletCompatibleWithCurrentChain(e){const t=za.state.activeChain;return!t||!e.chains||e.chains.some(e=>{const n=e.split(":")[0];return t===n})},getFilteredRecentWallets(){return fe.getRecentWallets().filter(e=>!ra.isExcluded(e)).filter(e=>!this.hasWalletConnector(e)).filter(e=>this.isWalletCompatibleWithCurrentChain(e))},getCappedRecommendedWallets(e){const{connectors:t}=fa.state,{customWallets:n,featuredWalletIds:a}=_n.state,s=t.find(e=>"walletConnect"===e.id),r=t.filter(e=>"INJECTED"===e.type||"ANNOUNCED"===e.type||"MULTI_CHAIN"===e.type);if(!s&&!r.length&&!(null==n?void 0:n.length))return[];const o=kn.isEmailEnabled(),i=kn.isSocialsEnabled(),c=r.filter(e=>"Browser Wallet"!==e.name&&"WalletConnect"!==e.name),l=((null==a?void 0:a.length)||0)+((null==n?void 0:n.length)||0)+(c.length||0)+(o?1:0)+(i?1:0),d=Math.max(0,4-l);if(d<=0)return[];return ra.filterOutDuplicateWallets(e).slice(0,d)},processConnectorsByType(e,t=!0){const n=oa.sortConnectorsByExplorerWallet([...e]);return t?n.filter(oa.showConnector):n},connectorList(){const e=oa.getConnectorsByType(fa.state.connectors,sa.state.recommended,sa.state.featured),t=this.processConnectorsByType(e.announced.filter(e=>"walletConnect"!==e.id)),n=this.processConnectorsByType(e.injected),a=this.processConnectorsByType(e.multiChain.filter(e=>"WalletConnect"!==e.name),!1),s=e.custom,r=e.recent,o=this.processConnectorsByType(e.external.filter(e=>e.id!==l.CONNECTOR_ID.COINBASE_SDK&&e.id!==l.CONNECTOR_ID.BASE_ACCOUNT)),i=e.recommended,c=e.featured,d=oa.getConnectorTypeOrder({custom:s,recent:r,announced:t,injected:n,multiChain:a,recommended:i,featured:c,external:o}),u=fa.state.connectors.find(e=>"walletConnect"===e.id),p=ve.isMobile(),h=[];for(const l of d)switch(l){case"walletConnect":!p&&u&&h.push({kind:"connector",subtype:"walletConnect",connector:u});break;case"recent":oa.getFilteredRecentWallets().forEach(e=>h.push({kind:"wallet",subtype:"recent",wallet:e}));break;case"injected":a.forEach(e=>h.push({kind:"connector",subtype:"multiChain",connector:e})),t.forEach(e=>h.push({kind:"connector",subtype:"announced",connector:e})),n.forEach(e=>h.push({kind:"connector",subtype:"injected",connector:e}));break;case"featured":c.forEach(e=>h.push({kind:"wallet",subtype:"featured",wallet:e}));break;case"custom":oa.getFilteredCustomWallets(s??[]).forEach(e=>h.push({kind:"wallet",subtype:"custom",wallet:e}));break;case"external":o.forEach(e=>h.push({kind:"connector",subtype:"external",connector:e}));break;case"recommended":oa.getCappedRecommendedWallets(i).forEach(e=>h.push({kind:"wallet",subtype:"recommended",wallet:e}));break;default:console.warn(`Unknown connector type: ${l}`)}return h},hasInjectedConnectors:()=>fa.state.connectors.filter(e=>("INJECTED"===e.type||"ANNOUNCED"===e.type||"MULTI_CHAIN"===e.type)&&"Browser Wallet"!==e.name&&"WalletConnect"!==e.name).length},ia=["ConnectingExternal","ConnectingMultiChain","ConnectingSocial","ConnectingFarcaster"],ca=se({view:"Connect",history:["Connect"],transactionStack:[]}),la=Hn({state:ca,subscribeKey:(e,t)=>ce(ca,e,t),pushTransactionStack(e){ca.transactionStack.push(e)},popTransactionStack(e){const t=ca.transactionStack.pop();if(!t)return;const{onSuccess:n,onError:a,onCancel:s}=t;switch(e){case"success":null==n||n();break;case"error":null==a||a(),la.goBack();break;case"cancel":null==s||s(),la.goBack()}},push(e,t){let n=e,a=t;sa.state.plan.hasExceededUsageLimit&&ia.includes(e)&&(n="UsageExceeded",a=void 0),n!==ca.view&&(ca.view=n,ca.history.push(n),ca.data=a)},reset(e,t){ca.view=e,ca.history=[e],ca.data=t},replace(e,t){ca.history.at(-1)===e||(ca.view=e,ca.history[ca.history.length-1]=e,ca.data=t)},goBack(){var e,t;const n=za.state.activeCaipAddress,a="ConnectingFarcaster"===la.state.view,s=!n&&a;if(ca.history.length>1){ca.history.pop();const[e]=ca.history.slice(-1);if(e){const t="Connect"===e;ca.view=n&&t?"Account":e}}else Ya.close();(null==(e=ca.data)?void 0:e.wallet)&&(ca.data.wallet=void 0),(null==(t=ca.data)?void 0:t.redirectView)&&(ca.data.redirectView=void 0),setTimeout(()=>{var e,t,n;if(s){za.setAccountProp("farcasterUrl",void 0,za.state.activeChain);const a=fa.getAuthConnector();null==(e=null==a?void 0:a.provider)||e.reload();const s=oe(_n.state);null==(n=null==(t=null==a?void 0:a.provider)?void 0:t.syncDappData)||n.call(t,{metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType})}},100)},goBackToIndex(e){if(ca.history.length>1){ca.history=ca.history.slice(0,e+1);const[t]=ca.history.slice(-1);t&&(ca.view=t)}},goBackOrCloseModal(){la.state.history.length>1?la.goBack():Ya.close()}}),da=se({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),ua={state:da,subscribe:e=>re(da,()=>e(da)),setThemeMode(e){da.themeMode=e;try{const t=fa.getAuthConnector();if(t){const n=ua.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:n,w3mThemeVariables:F(n,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){da.themeVariables={...da.themeVariables,...e};try{const e=fa.getAuthConnector();if(e){const t=ua.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:t,w3mThemeVariables:F(da.themeVariables,da.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot:()=>oe(da)},pa=Hn(ua),ha=Object.fromEntries(u.map(e=>[e,void 0])),ma=Object.fromEntries(u.map(e=>[e,!0])),ga=se({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:ha,filterByNamespaceMap:ma}),fa=Hn({state:ga,subscribe:e=>re(ga,()=>{e(ga)}),subscribeKey:(e,t)=>ce(ga,e,t),initialize(e){e.forEach(e=>{const t=fe.getConnectedConnectorId(e);t&&fa.setConnectorId(t,e)})},setActiveConnector(e){e&&(ga.activeConnector=ie(e))},setConnectors(e){e.filter(e=>!ga.allConnectors.some(t=>t.id===e.id&&fa.getConnectorName(t.name)===fa.getConnectorName(e.name)&&t.chain===e.chain)).forEach(e=>{"MULTI_CHAIN"!==e.type&&ga.allConnectors.push(ie(e))});const t=fa.getEnabledNamespaces(),n=fa.getEnabledConnectors(t);ga.connectors=fa.mergeMultiChainConnectors(n)},filterByNamespaces(e){Object.keys(ga.filterByNamespaceMap).forEach(e=>{ga.filterByNamespaceMap[e]=!1}),e.forEach(e=>{ga.filterByNamespaceMap[e]=!0}),fa.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){ga.filterByNamespaceMap[e]=t,fa.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const e=fa.getEnabledNamespaces(),t=fa.getEnabledConnectors(e),n=fa.areAllNamespacesEnabled();ga.connectors=fa.mergeMultiChainConnectors(t),n?sa.clearFilterByNamespaces():sa.filterByNamespaces(e)},getEnabledNamespaces:()=>Object.entries(ga.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e),getEnabledConnectors:e=>ga.allConnectors.filter(t=>e.includes(t.chain)),areAllNamespacesEnabled:()=>Object.values(ga.filterByNamespaceMap).every(e=>e),mergeMultiChainConnectors(e){const t=fa.generateConnectorMapByName(e),n=[];return t.forEach(e=>{const t=e[0],a=(null==t?void 0:t.id)===l.CONNECTOR_ID.AUTH;e.length>1&&t?n.push({name:t.name,imageUrl:t.imageUrl,imageId:t.imageId,connectors:[...e],type:a?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(null==t?void 0:t.id)||""}):t&&n.push(t)}),n},generateConnectorMapByName(e){const t=new Map;return e.forEach(e=>{const{name:n}=e,a=fa.getConnectorName(n);if(!a)return;const s=t.get(a)||[];s.find(t=>t.chain===e.chain)||s.push(e),t.set(a,s)}),t},getConnectorName(e){if(!e)return e;return{"Trust Wallet":"Trust"}[e]||e},getUniqueConnectorsByName(e){const t=[];return e.forEach(e=>{t.find(t=>t.chain===e.chain)||t.push(e)}),t},addConnector(e){var t,n,a;if(e.id===l.CONNECTOR_ID.AUTH){const s=e,r=oe(_n.state),o=pa.getSnapshot().themeMode,i=pa.getSnapshot().themeVariables;null==(n=null==(t=null==s?void 0:s.provider)?void 0:t.syncDappData)||n.call(t,{metadata:r.metadata,sdkVersion:r.sdkVersion,projectId:r.projectId,sdkType:r.sdkType}),null==(a=null==s?void 0:s.provider)||a.syncTheme({themeMode:o,themeVariables:i,w3mThemeVariables:F(i,o)}),fa.setConnectors([e])}else fa.setConnectors([e])},getAuthConnector(e){var t;const n=e||za.state.activeChain,a=ga.connectors.find(e=>e.id===l.CONNECTOR_ID.AUTH);if(a){if(null==(t=null==a?void 0:a.connectors)?void 0:t.length){return a.connectors.find(e=>e.chain===n)}return a}},getAnnouncedConnectorRdns:()=>ga.connectors.filter(e=>"ANNOUNCED"===e.type).map(e=>{var t;return null==(t=e.info)?void 0:t.rdns}),getConnectorById:e=>oa.sortConnectorsByPriority(ga.allConnectors).find(t=>t.id===e),getConnector({id:e,namespace:t}){const n=t||za.state.activeChain,a=ga.allConnectors.filter(e=>e.chain===n);return oa.sortConnectorsByPriority(a).find(t=>t.id===e||t.explorerId===e)},syncIfAuthConnector(e){var t,n;if("AUTH"!==e.id)return;const a=e,s=oe(_n.state),r=pa.getSnapshot().themeMode,o=pa.getSnapshot().themeVariables;null==(n=null==(t=null==a?void 0:a.provider)?void 0:t.syncDappData)||n.call(t,{metadata:s.metadata,sdkVersion:s.sdkVersion,sdkType:s.sdkType,projectId:s.projectId}),a.provider.syncTheme({themeMode:r,themeVariables:o,w3mThemeVariables:F(o,r)})},getConnectorsByNamespace(e){const t=ga.allConnectors.filter(t=>t.chain===e);return fa.mergeMultiChainConnectors(t)},canSwitchToSmartAccount:e=>za.checkIfSmartAccountEnabled()&&Ea(e)===Ee.ACCOUNT_TYPES.EOA,selectWalletConnector(e){var t;const n=null==(t=la.state.data)?void 0:t.redirectView,a=za.state.activeChain,s=a?fa.getConnector({id:e.id,namespace:a}):void 0;Jn.handleMobileDeeplinkRedirect((null==s?void 0:s.explorerId)||e.id,za.state.activeChain),s?la.push("ConnectingExternal",{connector:s,wallet:e,redirectView:n}):la.push("ConnectingWalletConnect",{wallet:e,redirectView:n})},getConnectors:e=>e?fa.getConnectorsByNamespace(e):fa.mergeMultiChainConnectors(ga.allConnectors),setFilterByNamespace(e){ga.filterByNamespace=e,ga.connectors=fa.getConnectors(e),sa.setFilterByNamespace(e)},setConnectorId(e,t){e&&(ga.activeConnectorIds={...ga.activeConnectorIds,[t]:e},fe.setConnectedConnectorId(t,e))},removeConnectorId(e){ga.activeConnectorIds={...ga.activeConnectorIds,[e]:void 0},fe.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return ga.activeConnectorIds[e]},isConnected:e=>e?Boolean(ga.activeConnectorIds[e]):Object.values(ga.activeConnectorIds).some(e=>Boolean(e)),resetConnectorIds(){ga.activeConnectorIds={...ha}},extendConnectorsWithExplorerWallets(e){ga.allConnectors.forEach(t=>{const n=e.find(e=>{var n;return e.id===t.id||e.rdns&&e.rdns===(null==(n=t.info)?void 0:n.rdns)});n&&(t.explorerWallet=n)});const t=fa.getEnabledNamespaces(),n=fa.getEnabledConnectors(t);ga.connectors=fa.mergeMultiChainConnectors(n)},async connect(e={}){const{namespace:t}=e;return fa.setFilterByNamespace(t),la.push("Connect",{addWalletForNamespace:t}),new Promise((e,n)=>{if(t){const a=za.subscribeChainProp("accountState",t=>{(null==t?void 0:t.caipAddress)&&(e({caipAddress:null==t?void 0:t.caipAddress}),a())},t),s=Ya.subscribeKey("open",e=>{e||(n(new Error("Modal closed")),s())})}else{const t=za.subscribeKey("activeCaipAddress",n=>{n&&(e({caipAddress:n}),t())}),a=Ya.subscribeKey("open",e=>{e||(n(new Error("Modal closed")),a())})}})}}),va={checkNamespaceConnectorId:(e,t)=>fa.getConnectorId(e)===t,isSocialProvider:e=>ge.DEFAULT_REMOTE_FEATURES.socials.includes(e),connectWalletConnect:({walletConnect:e,connector:t,closeModalOnConnect:n=!0,redirectViewOnModalClose:a="Connect",onOpen:s,onConnect:r})=>new Promise((o,i)=>{if(e&&fa.setActiveConnector(t),null==s||s(ve.isMobile()&&e),a){const e=Ya.subscribeKey("open",t=>{t||(la.state.view!==a&&la.replace(a),e(),i(new Error("Modal closed")))})}const c=za.subscribeKey("activeCaipAddress",e=>{e&&(null==r||r(),n&&Ya.close(),c(),o(R.parseCaipAddress(e)))})}),connectExternal:e=>new Promise((t,n)=>{const a=za.subscribeKey("activeCaipAddress",e=>{e&&(Ya.close(),a(),t(R.parseCaipAddress(e)))});Ta.connectExternal(e,e.chain).catch(()=>{a(),n(new Error("Connection rejected"))})}),connectSocial({social:e,namespace:t,closeModalOnConnect:n=!0,onOpenFarcaster:a,onConnect:s}){let r,o=!1,i=null;const c=t||za.state.activeChain,d=za.subscribeKey("activeCaipAddress",e=>{e&&(n&&Ya.close(),d())});return new Promise((t,n)=>{async function d(a){var s;if(null==(s=a.data)?void 0:s.resultUri)if(a.origin===l.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",d,!1);try{const s=fa.getAuthConnector(c);if(s&&!o){r&&r.close(),o=!0;const i=a.data.resultUri;ea.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:e}}),fe.setConnectedSocialProvider(e),await Ta.connectExternal({id:s.id,type:s.type,socialUri:i},s.chain);const c=za.state.activeCaipAddress;if(!c)return void n(new Error("Failed to connect"));t(R.parseCaipAddress(c)),ea.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:e}})}}catch(i){ea.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:ve.parseError(i)}}),n(new Error("Failed to connect"))}}else ea.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:"Untrusted Origin"}})}!async function(){if(ea.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:e}}),"farcaster"===e){null==a||a();const t=Ya.subscribeKey("open",a=>{a||"farcaster"!==e||(n(new Error("Popup closed")),null==s||s(),t())}),r=fa.getAuthConnector();if(r){const e=za.getAccountData(c);if(!(null==e?void 0:e.farcasterUrl))try{const{url:e}=await r.provider.getFarcasterUri();za.setAccountProp("farcasterUrl",e,c)}catch{n(new Error("Failed to connect to farcaster"))}}}else{const t=fa.getAuthConnector();i=ve.returnOpenHref(`${l.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(t){const{uri:a}=await t.provider.getSocialRedirectUri({provider:e});if(i&&a){i.location.href=a,r=i;const e=setInterval(()=>{(null==r?void 0:r.closed)&&!o&&(n(new Error("Popup closed")),clearInterval(e))},1e3);window.addEventListener("message",d,!1)}else null==i||i.close(),n(new Error("Failed to initiate social connection"))}}catch{n(new Error("Failed to initiate social connection")),null==i||i.close()}}}()})},connectEmail:({closeModalOnConnect:e=!0,redirectViewOnModalClose:t="Connect",onOpen:n,onConnect:a})=>new Promise((s,r)=>{if(null==n||n(),t){const e=Ya.subscribeKey("open",n=>{n||(la.state.view!==t&&la.replace(t),e(),r(new Error("Modal closed")))})}const o=za.subscribeKey("activeCaipAddress",t=>{t&&(null==a||a(),e&&Ya.close(),o(),s(R.parseCaipAddress(t)))})}),async updateEmail(){const e=fe.getConnectedConnectorId(za.state.activeChain),t=fa.getAuthConnector();if(!t)throw new Error("No auth connector found");if(e!==l.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=t.provider.getEmail()??"";return await Ya.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((e,a)=>{const s=setInterval(()=>{const a=t.provider.getEmail()??"";a!==n&&(Ya.close(),clearInterval(s),r(),e({email:a}))},1e3),r=Ya.subscribeKey("open",e=>{e||("Connect"!==la.state.view&&la.push("Connect"),clearInterval(s),r(),a(new Error("Modal closed")))})})},canSwitchToSmartAccount:e=>za.checkIfSmartAccountEnabled()&&Ea(e)===Ee.ACCOUNT_TYPES.EOA};function Ca(){var e,t;const n=(null==(e=za.state.activeCaipNetwork)?void 0:e.chainNamespace)||"eip155";return`${n}:${(null==(t=za.state.activeCaipNetwork)?void 0:t.id)||1}:${ge.NATIVE_TOKEN_ADDRESS[n]}`}function wa(e){return ge.NATIVE_TOKEN_ADDRESS[e]}function Ea(e){var t;return null==(t=za.getAccountData(e))?void 0:t.preferredAccountType}function ya(e){return za.state.activeCaipNetwork}const Na={getConnectionStatus(e,t){const n=fa.state.activeConnectorIds[t],a=Ta.getConnections(t);if(Boolean(n)&&e.connectorId===n)return"connected";return a.some(t=>t.connectorId.toLowerCase()===e.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections:({connections:e,connectorId:t,addresses:n})=>e.map(e=>{if(!!t&&e.connectorId.toLowerCase()===t.toLowerCase()&&n){const t=e.accounts.filter(e=>!n.some(t=>t.toLowerCase()===e.address.toLowerCase()));return{...e,accounts:t}}return e}),excludeExistingConnections(e,t){const n=new Set(e);return t.filter(e=>!n.has(e.connectorId))},getConnectionsByConnectorId:(e,t)=>e.filter(e=>e.connectorId.toLowerCase()===t.toLowerCase()),getConnectionsData(e){var t;const n=Boolean(null==(t=_n.state.remoteFeatures)?void 0:t.multiWallet),a=fa.state.activeConnectorIds[e],s=Ta.getConnections(e),r=(Ta.state.recentConnections.get(e)??[]).filter(e=>fa.getConnectorById(e.connectorId)),o=Na.excludeExistingConnections([...s.map(e=>e.connectorId),...a?[a]:[]],r);return n?{connections:s,recentConnections:o}:{connections:s.filter(e=>e.connectorId.toLowerCase()===(null==a?void 0:a.toLowerCase())),recentConnections:[]}},onConnectMobile(e,t){const n=Ta.state.wcUri;if((null==e?void 0:e.mobile_link)&&n)try{Ta.setWcError(!1);const{mobile_link:a,link_mode:s,name:r}=e,o=ve.appendPayToUri(n,t),{redirect:i,redirectUniversalLink:c,href:l}=ve.formatNativeUrl(a,o,s),d=i,u=c,p=ve.isIframe()?"_top":"_self";Ta.setWcLinking({name:r,href:l}),Ta.setRecentWallet(e),_n.state.experimental_preferUniversalLinks&&u?ve.openHref(u,p):ve.openHref(d,p)}catch(a){ea.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:a instanceof Error?a.message:"Error parsing the deep link",uri:n,mobile_link:e.mobile_link,name:e.name}}),Ta.setWcError(!0)}}},ba=se({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1,connectingWallet:void 0}),Aa={state:ba,subscribe:e=>re(ba,()=>e(ba)),subscribeOpen:e=>ce(ba,"open",e),set(e){Object.assign(ba,{...ba,...e})}},Ia=se({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),ka=Hn({state:Ia,subscribe:e=>re(Ia,()=>e(Ia)),setLastNetworkInView(e){Ia.lastNetworkInView=e},async fetchTransactions(e){var t;if(!e)throw new Error("Transactions can't be fetched without an accountAddress");Ia.loading=!0;try{const n=await Dn.fetchTransactions({account:e,cursor:Ia.next,chainId:null==(t=za.state.activeCaipNetwork)?void 0:t.caipNetworkId}),a=ka.filterSpamTransactions(n.data),s=ka.filterByConnectedChain(a),r=[...Ia.transactions,...s];Ia.loading=!1,Ia.transactions=r,Ia.transactionsByYear=ka.groupTransactionsByYearAndMonth(Ia.transactionsByYear,s),Ia.empty=0===r.length,Ia.next=n.next?n.next:void 0}catch(n){const t=za.state.activeChain;ea.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:_n.state.projectId,cursor:Ia.next,isSmartAccount:Ea(t)===Ee.ACCOUNT_TYPES.SMART_ACCOUNT}}),Rn.showError("Failed to fetch transactions"),Ia.loading=!1,Ia.empty=!0,Ia.next=void 0}},groupTransactionsByYearAndMonth(e={},t=[]){const n=e;return t.forEach(e=>{const t=new Date(e.metadata.minedAt).getFullYear(),a=new Date(e.metadata.minedAt).getMonth(),s=n[t]??{},r=(s[a]??[]).filter(t=>t.id!==e.id);n[t]={...s,[a]:[...r,e].sort((e,t)=>new Date(t.metadata.minedAt).getTime()-new Date(e.metadata.minedAt).getTime())}}),n},filterSpamTransactions:e=>e.filter(e=>{var t;return!(null==(t=e.transfers)?void 0:t.every(e=>{var t;return!0===(null==(t=e.nft_info)?void 0:t.flags.is_spam)}))}),filterByConnectedChain(e){var t;const n=null==(t=za.state.activeCaipNetwork)?void 0:t.caipNetworkId;return e.filter(e=>e.metadata.chain===n)},clearCursor(){Ia.next=void 0},resetTransactions(){Ia.transactions=[],Ia.transactionsByYear={},Ia.lastNetworkInView=void 0,Ia.loading=!1,Ia.empty=!1,Ia.next=void 0}},"API_ERROR"),Sa=se({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,wcFetchingUri:!1,buffering:!1,status:"disconnected"});let _a;const Ta=Hn({state:Sa,subscribe:e=>re(Sa,()=>e(Sa)),subscribeKey:(e,t)=>ce(Sa,e,t),_getClient:()=>Sa._client,setClient(e){Sa._client=ie(e)},initialize(e){const t=e.filter(e=>Boolean(e.namespace)).map(e=>e.namespace);Ta.syncStorageConnections(t)},syncStorageConnections(e){const t=fe.getConnections(),n=e??Array.from(za.state.chains.keys());for(const a of n){const e=t[a]??[],n=new Map(Sa.recentConnections);n.set(a,e),Sa.recentConnections=n}},getConnections:e=>e?Sa.connections.get(e)??[]:[],hasAnyConnection(e){const t=Ta.state.connections;return Array.from(t.values()).flatMap(e=>e).some(({connectorId:t})=>t===e)},async connectWalletConnect({cache:e="auto"}={}){var t,n,a,s;Sa.wcFetchingUri=!0;const r=ve.isTelegram()||ve.isSafari()&&ve.isIos();if("always"===e||"auto"===e&&r){if(_a)return await _a,void(_a=void 0);if(!ve.isPairingExpired(null==Sa?void 0:Sa.wcPairingExpiry)){const e=Sa.wcUri;return void(Sa.wcUri=e)}_a=null==(n=null==(t=Ta._getClient())?void 0:t.connectWalletConnect)?void 0:n.call(t).catch(()=>{}),Ta.state.status="connecting",await _a,_a=void 0,Sa.wcPairingExpiry=void 0,Ta.state.status="connected"}else await(null==(s=null==(a=Ta._getClient())?void 0:a.connectWalletConnect)?void 0:s.call(a))},async connectExternal(e,t,n=!0){var a,s,r;const o=await(null==(s=null==(a=Ta._getClient())?void 0:a.connectExternal)?void 0:s.call(a,e));n&&za.setActiveNamespace(t);const i=fa.state.allConnectors.find(t=>t.id===(null==e?void 0:e.id)),c="AUTH"===e.type?"email":"browser";return ea.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:c,name:(null==i?void 0:i.name)||"Unknown",view:la.state.view,walletRank:null==(r=null==i?void 0:i.explorerWallet)?void 0:r.order}}),o},async reconnectExternal(e){var t,n;await(null==(n=null==(t=Ta._getClient())?void 0:t.reconnectExternal)?void 0:n.call(t,e));const a=e.chain||za.state.activeChain;a&&fa.setConnectorId(e.id,a)},async setPreferredAccountType(e,t){var n;if(!t)return;Ya.setLoading(!0,za.state.activeChain);const a=fa.getAuthConnector();a&&(za.setAccountProp("preferredAccountType",e,t),await a.provider.setPreferredAccount(e),fe.setPreferredAccountTypes(Object.entries(za.state.chains).reduce((e,[t,n])=>{const a=t,s=Ea(a);return void 0!==s&&(e[a]=s),e},{})),await Ta.reconnectExternal(a),Ya.setLoading(!1,za.state.activeChain),ea.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:(null==(n=za.state.activeCaipNetwork)?void 0:n.caipNetworkId)||""}}))},async signMessage(e){var t;return null==(t=Ta._getClient())?void 0:t.signMessage(e)},parseUnits(e,t){var n;return null==(n=Ta._getClient())?void 0:n.parseUnits(e,t)},formatUnits(e,t){var n;return null==(n=Ta._getClient())?void 0:n.formatUnits(e,t)},updateBalance(e){var t;return null==(t=Ta._getClient())?void 0:t.updateBalance(e)},async sendTransaction(e){var t;return null==(t=Ta._getClient())?void 0:t.sendTransaction(e)},async getCapabilities(e){var t;return null==(t=Ta._getClient())?void 0:t.getCapabilities(e)},async grantPermissions(e){var t;return null==(t=Ta._getClient())?void 0:t.grantPermissions(e)},async walletGetAssets(e){var t;return(null==(t=Ta._getClient())?void 0:t.walletGetAssets(e))??{}},async estimateGas(e){var t;return null==(t=Ta._getClient())?void 0:t.estimateGas(e)},async writeContract(e){var t;return null==(t=Ta._getClient())?void 0:t.writeContract(e)},async writeSolanaTransaction(e){var t;return null==(t=Ta._getClient())?void 0:t.writeSolanaTransaction(e)},async getEnsAddress(e){var t;return null==(t=Ta._getClient())?void 0:t.getEnsAddress(e)},async getEnsAvatar(e){var t;return null==(t=Ta._getClient())?void 0:t.getEnsAvatar(e)},checkInstalled(e){var t,n;return(null==(n=null==(t=Ta._getClient())?void 0:t.checkInstalled)?void 0:n.call(t,e))||!1},resetWcConnection(){Sa.wcUri=void 0,Sa.wcPairingExpiry=void 0,Sa.wcLinking=void 0,Sa.recentWallet=void 0,Sa.wcFetchingUri=!1,Sa.status="disconnected",ka.resetTransactions(),fe.deleteWalletConnectDeepLink(),fe.deleteRecentWallet(),Aa.set({connectingWallet:void 0})},resetUri(){Sa.wcUri=void 0,Sa.wcPairingExpiry=void 0,_a=void 0,Sa.wcFetchingUri=!1,Aa.set({connectingWallet:void 0})},finalizeWcConnection(e){var t,n;const{wcLinking:a,recentWallet:s}=Ta.state;a&&fe.setWalletConnectDeepLink(a),s&&fe.setAppKitRecent(s),e&&ea.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:a?"mobile":"qrcode",name:(null==(n=null==(t=la.state.data)?void 0:t.wallet)?void 0:n.name)||"Unknown",view:la.state.view,walletRank:null==s?void 0:s.order}})},setWcBasic(e){Sa.wcBasic=e},setUri(e){Sa.wcUri=e,Sa.wcFetchingUri=!1,Sa.wcPairingExpiry=ve.getPairingExpiry()},setWcLinking(e){Sa.wcLinking=e},setWcError(e){Sa.wcError=e,Sa.wcFetchingUri=!1,Sa.buffering=!1},setRecentWallet(e){Sa.recentWallet=e},setBuffering(e){Sa.buffering=e},setStatus(e){Sa.status=e},setIsSwitchingConnection(e){Sa.isSwitchingConnection=e},async disconnect({id:e,namespace:t,initialDisconnect:n}={}){var a;try{await(null==(a=Ta._getClient())?void 0:a.disconnect({id:e,chainNamespace:t,initialDisconnect:n}))}catch(s){throw new $n("Failed to disconnect","INTERNAL_SDK_ERROR",s)}},async disconnectConnector({id:e,namespace:t}){var n;try{await(null==(n=Ta._getClient())?void 0:n.disconnectConnector({id:e,namespace:t}))}catch(a){throw new $n("Failed to disconnect connector","INTERNAL_SDK_ERROR",a)}},setConnections(e,t){const n=new Map(Sa.connections);n.set(t,e),Sa.connections=n},async handleAuthAccountSwitch({address:e,namespace:t}){var n,a;const s=za.getAccountData(t),r=null==(a=null==(n=null==s?void 0:s.user)?void 0:n.accounts)?void 0:a.find(e=>"smartAccount"===e.type),o=r&&r.address.toLowerCase()===e.toLowerCase()&&va.canSwitchToSmartAccount(t)?"smartAccount":"eoa";await Ta.setPreferredAccountType(o,t)},async handleActiveConnection({connection:e,namespace:t,address:n}){const a=fa.getConnectorById(e.connectorId),s=e.connectorId===l.CONNECTOR_ID.AUTH;if(!a)throw new Error(`No connector found for connection: ${e.connectorId}`);if(!s){const e=await Ta.connectExternal({id:a.id,type:a.type,provider:a.provider,address:n,chain:t},t);return null==e?void 0:e.address}return n&&await Ta.handleAuthAccountSwitch({address:n,namespace:t}),n},async handleDisconnectedConnection({connection:e,namespace:t,address:n,closeModalOnConnect:a}){var s,r;const o=fa.getConnectorById(e.connectorId),i=null==(r=null==(s=e.auth)?void 0:s.name)?void 0:r.toLowerCase(),c=e.connectorId===l.CONNECTOR_ID.AUTH,d=e.connectorId===l.CONNECTOR_ID.WALLET_CONNECT;if(!o)throw new Error(`No connector found for connection: ${e.connectorId}`);let u;if(c)if(i&&va.isSocialProvider(i)){const{address:e}=await va.connectSocial({social:i,closeModalOnConnect:a,onOpenFarcaster(){Ya.open({view:"ConnectingFarcaster"})},onConnect(){la.replace("ProfileWallets")}});u=e}else{const{address:e}=await va.connectEmail({closeModalOnConnect:a,onOpen(){Ya.open({view:"EmailLogin"})},onConnect(){la.replace("ProfileWallets")}});u=e}else if(d){const{address:e}=await va.connectWalletConnect({walletConnect:!0,connector:o,closeModalOnConnect:a,onOpen(e){const t=e?"AllWallets":"ConnectingWalletConnect";Ya.state.open?la.push(t):Ya.open({view:t})},onConnect(){la.replace("ProfileWallets")}});u=e}else{const e=await Ta.connectExternal({id:o.id,type:o.type,provider:o.provider,chain:t},t);e&&(u=e.address)}return c&&n&&await Ta.handleAuthAccountSwitch({address:n,namespace:t}),u},async switchConnection({connection:e,address:t,namespace:n,closeModalOnConnect:a,onChange:s}){var r;let o;const i=null==(r=za.getAccountData(n))?void 0:r.caipAddress;if(i){const{address:e}=R.parseCaipAddress(i);o=e}const c=Na.getConnectionStatus(e,n);switch(c){case"connected":case"active":{const a=await Ta.handleActiveConnection({connection:e,namespace:n,address:t});if(o&&a){const e=a.toLowerCase()!==o.toLowerCase();null==s||s({address:a,namespace:n,hasSwitchedAccount:e,hasSwitchedWallet:"active"===c})}break}case"disconnected":{const r=await Ta.handleDisconnectedConnection({connection:e,namespace:n,address:t,closeModalOnConnect:a});r&&(null==s||s({address:r,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0}));break}default:throw new Error(`Invalid connection status: ${c}`)}}}),Oa={createBalance(e,t){const n={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:t,address:"native"===e.address?void 0:this.convertAddressToCAIP10Address(e.address,t),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance:({hex:e,decimals:t})=>tt(BigInt(e),t),convertAddressToCAIP10Address:(e,t)=>`${t}:${e}`,createCAIP2ChainId:(e,t)=>`${t}:${parseInt(e,16)}`,getChainIdHexFromCAIP2ChainId(e){const t=e.split(":");if(t.length<2||!t[1])return"0x0";const n=t[1],a=parseInt(n,10);return isNaN(a)?"0x0":`0x${a.toString(16)}`},isWalletGetAssetsResponse(e){return"object"==typeof e&&null!==e&&Object.values(e).every(e=>Array.isArray(e)&&e.every(e=>this.isValidAsset(e)))},isValidAsset:e=>"object"==typeof e&&null!==e&&"string"==typeof e.address&&"string"==typeof e.balance&&("ERC20"===e.type||"NATIVE"===e.type)&&"object"==typeof e.metadata&&null!==e.metadata&&"string"==typeof e.metadata.name&&"string"==typeof e.metadata.symbol&&"number"==typeof e.metadata.decimals&&"number"==typeof e.metadata.price&&"string"==typeof e.metadata.iconUrl};let Ra;async function Pa(){if(!Ra){const{createPublicClient:e,http:n,defineChain:a}=await t(async()=>{const{createPublicClient:e,http:t,defineChain:n}=await import("..-node_modules-viem-_esm-index.CcOr8R-u.js");return{createPublicClient:e,http:t,defineChain:n}},__vite__mapDeps([0,1,2,3,4]),import.meta.url);Ra={createPublicClient:e,http:n,defineChain:a}}return Ra}const Ua={getBlockchainApiRpcUrl(e,t){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()},async getViemChain(e){const{defineChain:t}=await Pa(),{chainId:n}=R.parseCaipNetworkId(e.caipNetworkId);return t({...e,id:Number(n)})},async createViemPublicClient(e){const{createPublicClient:t,http:n}=await Pa(),a=_n.state.projectId,s=await Ua.getViemChain(e);if(!s)throw new Error(`Chain ${e.caipNetworkId} not found in viem/chains`);return t({chain:s,transport:n(Ua.getBlockchainApiRpcUrl(e.caipNetworkId,a))})}},xa={async getMyTokensWithBalance(e={forceUpdate:void 0,caipNetwork:za.state.activeCaipNetwork,address:(e=>null==(e=za.getAccountData())?void 0:e.address)()}){const{forceUpdate:t,caipNetwork:n,address:a}=e,s=fa.getConnectorId("eip155")===l.CONNECTOR_ID.AUTH;if(!a)return[];const r=n?`${n.caipNetworkId}:${a}`:a,o=fe.getBalanceCacheForCaipAddress(r);if(o)return o.balances;if(n&&n.chainNamespace===l.CHAIN.EVM&&s){const e=await this.getEIP155Balances(a,n);if(e)return this.filterLowQualityTokens(e)}const i=await Dn.getBalance(a,null==n?void 0:n.caipNetworkId,t);return this.filterLowQualityTokens(i.balances)},async getEIP155Balances(e,t){var n,a;try{const s=Oa.getChainIdHexFromCAIP2ChainId(t.caipNetworkId),r=await Ta.getCapabilities(e);if(!(null==(a=null==(n=null==r?void 0:r[s])?void 0:n.assetDiscovery)?void 0:a.supported))return null;const o=await Ta.walletGetAssets({account:e,chainFilter:[s]});if(!Oa.isWalletGetAssetsResponse(o))return null;const i=(o[s]||[]).map(e=>Oa.createBalance(e,t.caipNetworkId));return fe.updateBalanceCache({caipAddress:`${t.caipNetworkId}:${e}`,balance:{balances:i},timestamp:Date.now()}),i}catch(s){return null}},filterLowQualityTokens:e=>e.filter(e=>"0"!==e.quantity.decimals),async fetchERC20Balance({caipAddress:e,assetAddress:t,caipNetwork:n}){const a=await Ua.createViemPublicClient(n),{address:s}=R.parseCaipAddress(e),[{result:r},{result:o},{result:i},{result:c}]=await a.multicall({contracts:[{address:t,functionName:"name",args:[],abi:an},{address:t,functionName:"symbol",args:[],abi:an},{address:t,functionName:"balanceOf",args:[s],abi:an},{address:t,functionName:"decimals",args:[],abi:an}]});return{name:r,symbol:o,decimals:c,balance:i&&c?tt(i,c):"0"}}},Da={adapters:{}},Ma={state:Da,initialize(e){Da.adapters={...e}},get:e=>Da.adapters[e]},La={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0,ton:void 0},Wa=se({providers:{...La},providerIds:{...La}}),Fa={state:Wa,subscribeKey:(e,t)=>ce(Wa,e,t),subscribe:e=>re(Wa,()=>{e(Wa)}),subscribeProviders:e=>re(Wa.providers,()=>e(Wa.providers)),setProvider(e,t){e&&t&&(Wa.providers[e]=ie(t))},getProvider(e){if(e)return Wa.providers[e]},setProviderId(e,t){t&&(Wa.providerIds[e]=t)},getProviderId(e){if(e)return Wa.providerIds[e]},reset(){Wa.providers={...La},Wa.providerIds={...La}},resetChain(e){Wa.providers[e]=void 0,Wa.providerIds[e]=void 0}},$a={async getTokenList(e){var t;const n=await Dn.fetchSwapTokens({chainId:e});return(null==(t=null==n?void 0:n.tokens)?void 0:t.map(e=>({...e,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var e;const t=za.state.activeCaipNetwork;if(!t)return null;try{if("solana"===t.chainNamespace){const t=null==(e=await(null==Ta?void 0:Ta.estimateGas({chainNamespace:"solana"})))?void 0:e.toString();return{standard:t,fast:t,instant:t}}return await Dn.fetchGasPrice({chainId:t.caipNetworkId})}catch{return null}},async fetchSwapAllowance({tokenAddress:e,userAddress:t,sourceTokenAmount:n,sourceTokenDecimals:a}){const s=await Dn.fetchSwapAllowance({tokenAddress:e,userAddress:t});if((null==s?void 0:s.allowance)&&n&&a){const e=Ta.parseUnits(n,a)||0;return BigInt(s.allowance)>=e}return!1},async getMyTokensWithBalance(e){var t;const n=await xa.getMyTokensWithBalance({forceUpdate:e,caipNetwork:za.state.activeCaipNetwork,address:null==(t=za.getAccountData())?void 0:t.address});return za.setAccountProp("tokenBalance",n,za.state.activeChain),this.mapBalancesToSwapTokens(n)},mapBalancesToSwapTokens:e=>(null==e?void 0:e.map(e=>({...e,address:(null==e?void 0:e.address)?e.address:Ca(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[],async handleSwapError(e){var t,n;try{const a=null==e?void 0:e.cause;if(!(null==a?void 0:a.json))return;const s=await a.json(),r=null==(n=null==(t=null==s?void 0:s.reasons)?void 0:t[0])?void 0:n.description;return(null==r?void 0:r.includes("insufficient liquidity"))?"Insufficient liquidity":void 0}catch{return}}},Ba=se({tokenBalances:[],loading:!1}),Ha=Hn({state:Ba,subscribe:e=>re(Ba,()=>e(Ba)),subscribeKey:(e,t)=>ce(Ba,e,t),setToken(e){e&&(Ba.token=ie(e))},setTokenAmount(e){Ba.sendTokenAmount=e},setReceiverAddress(e){Ba.receiverAddress=e},setReceiverProfileImageUrl(e){Ba.receiverProfileImageUrl=e},setReceiverProfileName(e){Ba.receiverProfileName=e},setNetworkBalanceInUsd(e){Ba.networkBalanceInUSD=e},setLoading(e){Ba.loading=e},getSdkEventProperties(e){var t,n;return{message:ve.parseError(e),isSmartAccount:Ea(za.state.activeChain)===Ee.ACCOUNT_TYPES.SMART_ACCOUNT,token:(null==(t=Ba.token)?void 0:t.symbol)||"",amount:Ba.sendTokenAmount??0,network:(null==(n=za.state.activeCaipNetwork)?void 0:n.caipNetworkId)||""}},async sendToken(){var e;try{switch(Ha.setLoading(!0),null==(e=za.state.activeCaipNetwork)?void 0:e.chainNamespace){case"eip155":return void(await Ha.sendEvmToken());case"solana":return void(await Ha.sendSolanaToken());default:throw new Error("Unsupported chain")}}catch(t){if(P.isUserRejectedRequestError(t))throw new x(t);throw t}finally{Ha.setLoading(!1)}},async sendEvmToken(){var e,t,n;const a=za.state.activeChain;if(!a)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const s=Ea(a);if(!Ha.state.sendTokenAmount||!Ha.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!Ha.state.token)throw new Error("A token is required");if(null==(e=Ha.state.token)?void 0:e.address){ea.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:s===Ee.ACCOUNT_TYPES.SMART_ACCOUNT,token:Ha.state.token.address,amount:Ha.state.sendTokenAmount,network:(null==(t=za.state.activeCaipNetwork)?void 0:t.caipNetworkId)||""}});const{hash:e}=await Ha.sendERC20Token({receiverAddress:Ha.state.receiverAddress,tokenAddress:Ha.state.token.address,sendTokenAmount:Ha.state.sendTokenAmount,decimals:Ha.state.token.quantity.decimals});e&&(Ba.hash=e)}else{ea.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:s===Ee.ACCOUNT_TYPES.SMART_ACCOUNT,token:Ha.state.token.symbol||"",amount:Ha.state.sendTokenAmount,network:(null==(n=za.state.activeCaipNetwork)?void 0:n.caipNetworkId)||""}});const{hash:e}=await Ha.sendNativeToken({receiverAddress:Ha.state.receiverAddress,sendTokenAmount:Ha.state.sendTokenAmount,decimals:Ha.state.token.quantity.decimals});e&&(Ba.hash=e)}},async fetchTokenBalance(e){var t,n,a;Ba.loading=!0;const s=za.state.activeChain,r=null==(t=za.state.activeCaipNetwork)?void 0:t.caipNetworkId,o=null==(n=za.state.activeCaipNetwork)?void 0:n.chainNamespace,i=(null==(a=za.getAccountData(s))?void 0:a.caipAddress)??za.state.activeCaipAddress,c=i?ve.getPlainAddress(i):void 0;if(Ba.lastRetry&&!ve.isAllowedRetry(Ba.lastRetry,30*ge.ONE_SEC_MS))return Ba.loading=!1,[];try{if(c&&r&&o){const e=await xa.getMyTokensWithBalance();return Ba.tokenBalances=e,Ba.lastRetry=void 0,e}}catch(l){Ba.lastRetry=Date.now(),null==e||e(l),Rn.showError("Token Balance Unavailable")}finally{Ba.loading=!1}return[]},fetchNetworkBalance(){if(0===Ba.tokenBalances.length)return;const e=$a.mapBalancesToSwapTokens(Ba.tokenBalances);if(!e)return;const t=e.find(e=>e.address===Ca());t&&(Ba.networkBalanceInUSD=t?I.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){var t,n,a,s;la.pushTransactionStack({});const r=e.receiverAddress,o=null==(t=za.getAccountData())?void 0:t.address,i=Ta.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),c=await Ta.sendTransaction({chainNamespace:l.CHAIN.EVM,to:r,address:o,data:"0x",value:i??BigInt(0)});return ea.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Ea("eip155")===Ee.ACCOUNT_TYPES.SMART_ACCOUNT,token:(null==(n=Ha.state.token)?void 0:n.symbol)||"",amount:e.sendTokenAmount,network:(null==(a=za.state.activeCaipNetwork)?void 0:a.caipNetworkId)||"",hash:c||""}}),null==(s=Ta._getClient())||s.updateBalance("eip155"),Ha.resetSend(),{hash:c}},async sendERC20Token(e){var t,n,a;la.pushTransactionStack({onSuccess(){la.replace("Account")}});const s=Ta.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),r=null==(t=za.getAccountData())?void 0:t.address;if(r&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){const t=ve.getPlainAddress(e.tokenAddress);if(!t)throw new Error("SendController:sendERC20Token - tokenAddress is required");const o=await Ta.writeContract({fromAddress:r,tokenAddress:t,args:[e.receiverAddress,s??BigInt(0)],method:"transfer",abi:T.getERC20Abi(t),chainNamespace:l.CHAIN.EVM});return ea.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Ea("eip155")===Ee.ACCOUNT_TYPES.SMART_ACCOUNT,token:(null==(n=Ha.state.token)?void 0:n.symbol)||"",amount:e.sendTokenAmount,network:(null==(a=za.state.activeCaipNetwork)?void 0:a.caipNetworkId)||"",hash:o||""}}),Ha.resetSend(),{hash:o}}return{hash:void 0}},async sendSolanaToken(){var e,t,n;if(!Ha.state.sendTokenAmount||!Ha.state.receiverAddress)throw new Error("An amount and receiver address are required");let a;la.pushTransactionStack({onSuccess(){la.replace("Account")}}),Ha.state.token&&Ha.state.token.address!==ge.SOLANA_NATIVE_TOKEN_ADDRESS&&(a=ve.isCaipAddress(Ha.state.token.address)?ve.getPlainAddress(Ha.state.token.address):Ha.state.token.address);const s=await Ta.sendTransaction({chainNamespace:"solana",tokenMint:a,to:Ha.state.receiverAddress,value:Ha.state.sendTokenAmount});s&&(Ba.hash=s),null==(e=Ta._getClient())||e.updateBalance("solana"),ea.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:!1,token:(null==(t=Ha.state.token)?void 0:t.symbol)||"",amount:Ha.state.sendTokenAmount,network:(null==(n=za.state.activeCaipNetwork)?void 0:n.caipNetworkId)||"",hash:s||""}}),Ha.resetSend()},resetSend(){Ba.token=void 0,Ba.sendTokenAmount=void 0,Ba.receiverAddress=void 0,Ba.receiverProfileImageUrl=void 0,Ba.receiverProfileName=void 0,Ba.loading=!1,Ba.tokenBalances=[]}}),ja={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},Va={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Ka=se({chains:function(){const e=new Map,t=new WeakMap,n=n=>t.get(n)||e,a={data:[],index:0,epoch:0,get size(){ue(this)||(()=>{const n=de.get(a),s=null==n?void 0:n[1];if(s&&!t.has(s)){const n=new Map(e);t.set(s,n)}})();return n(this).size},get(e){const t=n(this).get(e);if(void 0!==t)return this.data[t];this.epoch},has(e){const t=n(this);return this.epoch,t.has(e)},set(t,n){if(!ue(this))throw new Error("Cannot perform mutations on a snapshot");const a=e.get(t);return void 0===a?(e.set(t,this.index),this.data[this.index++]=n):this.data[a]=n,this.epoch++,this},delete(t){if(!ue(this))throw new Error("Cannot perform mutations on a snapshot");const n=e.get(t);return void 0!==n&&(delete this.data[n],e.delete(t),this.epoch++,!0)},clear(){if(!ue(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,e.clear()},forEach(e){this.epoch;n(this).forEach((t,n)=>{e(this.data[t],n,this)})},*entries(){this.epoch;const e=n(this);for(const[t,n]of e)yield[t,this.data[n]]},*keys(){this.epoch;const e=n(this);for(const t of e.keys())yield t},*values(){this.epoch;const e=n(this);for(const t of e.values())yield this.data[t]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},s=se(a);return Object.defineProperties(s,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(s),s}(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{connectionControllerClient:void 0},isSwitchingNamespace:!1}),qa={state:Ka,subscribe:e=>re(Ka,()=>{e(Ka)}),subscribeKey:(e,t)=>ce(Ka,e,t),subscribeAccountStateProp(e,t,n){var a;const s=n||Ka.activeChain;return s?ce((null==(a=Ka.chains.get(s))?void 0:a.accountState)||{},e,t):()=>{}},subscribeChainProp(e,t,n){let a;return re(Ka.chains,()=>{var s;const r=n||Ka.activeChain;if(r){const n=null==(s=Ka.chains.get(r))?void 0:s[e];a!==n&&(a=n,t(n))}})},initialize(e,t,n){const{chainId:a,namespace:s}=fe.getActiveNetworkProps(),r=null==t?void 0:t.find(e=>e.id.toString()===(null==a?void 0:a.toString())),o=e.find(e=>(null==e?void 0:e.namespace)===s)||(null==e?void 0:e[0]),i=e.map(e=>e.namespace).filter(e=>void 0!==e),c=_n.state.enableEmbedded?new Set([...i]):new Set([...(null==t?void 0:t.map(e=>e.chainNamespace))??[]]);0!==(null==e?void 0:e.length)&&o||(Ka.noAdapters=!0),Ka.noAdapters||(Ka.activeChain=null==o?void 0:o.namespace,Ka.activeCaipNetwork=r,za.setChainNetworkData(null==o?void 0:o.namespace,{caipNetwork:r}),Ka.activeChain&&Aa.set({activeChain:null==o?void 0:o.namespace})),c.forEach(e=>{const a=null==t?void 0:t.filter(t=>t.chainNamespace===e),s=fe.getPreferredAccountTypes()||{},r={..._n.state.defaultAccountTypes,...s};za.state.chains.set(e,{namespace:e,networkState:se({...Va,caipNetwork:null==a?void 0:a[0]}),accountState:se({...ja,preferredAccountType:r[e]}),caipNetworks:a??[],...n}),za.setRequestedCaipNetworks(a??[],e)})},removeAdapter(e){var t,n;if(Ka.activeChain===e){const a=Array.from(Ka.chains.entries()).find(([t])=>t!==e);if(a){const e=null==(n=null==(t=a[1])?void 0:t.caipNetworks)?void 0:n[0];e&&za.setActiveCaipNetwork(e)}}Ka.chains.delete(e)},addAdapter(e,{connectionControllerClient:t},n){if(!e.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");Ka.chains.set(e.namespace,{namespace:e.namespace,networkState:{...Va,caipNetwork:n[0]},accountState:{...ja},caipNetworks:n,connectionControllerClient:t}),za.setRequestedCaipNetworks((null==n?void 0:n.filter(t=>t.chainNamespace===e.namespace))??[],e.namespace)},addNetwork(e){var t;const n=Ka.chains.get(e.chainNamespace);if(n){const a=[...n.caipNetworks||[]];(null==(t=n.caipNetworks)?void 0:t.find(t=>t.id===e.id))||a.push(e),Ka.chains.set(e.chainNamespace,{...n,caipNetworks:a}),za.setRequestedCaipNetworks(a,e.chainNamespace),fa.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){var n,a,s;const r=Ka.chains.get(e);if(r){const o=(null==(n=Ka.activeCaipNetwork)?void 0:n.id)===t,i=[...(null==(a=r.caipNetworks)?void 0:a.filter(e=>e.id!==t))||[]];o&&(null==(s=null==r?void 0:r.caipNetworks)?void 0:s[0])&&za.setActiveCaipNetwork(r.caipNetworks[0]),Ka.chains.set(e,{...r,caipNetworks:i}),za.setRequestedCaipNetworks(i||[],e),0===i.length&&fa.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){const n=Ka.chains.get(e);n&&(n.networkState={...n.networkState||Va,...t},Ka.chains.set(e,n))},setChainAccountData(e,t,n=!0){if(!e)throw new Error("Chain is required to update chain account data");const a=Ka.chains.get(e);if(a){const n={...a.accountState||ja,...t};Ka.chains.set(e,{...a,accountState:n}),1!==Ka.chains.size&&Ka.activeChain!==e||t.caipAddress&&(Ka.activeCaipAddress=t.caipAddress)}},setChainNetworkData(e,t){if(!e)return;const n=Ka.chains.get(e);if(n){const a={...n.networkState||Va,...t};Ka.chains.set(e,{...n,networkState:a})}},setAccountProp(e,t,n,a=!0){za.setChainAccountData(n,{[e]:t},a)},setActiveNamespace(e){var t,n;Ka.activeChain=e;const a=e?Ka.chains.get(e):void 0,s=null==(t=null==a?void 0:a.networkState)?void 0:t.caipNetwork;(null==s?void 0:s.id)&&e&&(Ka.activeCaipAddress=null==(n=null==a?void 0:a.accountState)?void 0:n.caipAddress,Ka.activeCaipNetwork=s,za.setChainNetworkData(e,{caipNetwork:s}),fe.setActiveCaipNetworkId(null==s?void 0:s.caipNetworkId),Aa.set({activeChain:e,selectedNetworkId:null==s?void 0:s.caipNetworkId}))},setActiveCaipNetwork(e){var t,n;if(!e)return;const a=Ka.activeChain===e.chainNamespace;a||za.setIsSwitchingNamespace(!0);const s=Ka.chains.get(e.chainNamespace);Ka.activeChain=e.chainNamespace,Ka.activeCaipNetwork=e,za.setChainNetworkData(e.chainNamespace,{caipNetwork:e});let r=null==(t=null==s?void 0:s.accountState)?void 0:t.address;if(r)Ka.activeCaipAddress=`${e.chainNamespace}:${e.id}:${r}`;else if(a&&Ka.activeCaipAddress){const{address:t}=R.parseCaipAddress(Ka.activeCaipAddress);r=t,Ka.activeCaipAddress=`${e.caipNetworkId}:${r}`}else Ka.activeCaipAddress=void 0;za.setChainAccountData(e.chainNamespace,{address:r,caipAddress:Ka.activeCaipAddress}),Ha.resetSend(),Aa.set({activeChain:Ka.activeChain,selectedNetworkId:null==(n=Ka.activeCaipNetwork)?void 0:n.caipNetworkId}),fe.setActiveCaipNetworkId(e.caipNetworkId);za.checkIfSupportedNetwork(e.chainNamespace)||!_n.state.enableNetworkSwitch||_n.state.allowUnsupportedChain||Ta.state.wcBasic||za.showUnsupportedChainUI()},addCaipNetwork(e){var t;if(!e)return;const n=Ka.chains.get(e.chainNamespace);n&&(null==(t=null==n?void 0:n.caipNetworks)||t.push(e))},async switchActiveNamespace(e){var t;if(!e)return;const n=e!==za.state.activeChain,a=null==(t=za.getNetworkData(e))?void 0:t.caipNetwork,s=za.getCaipNetworkByNamespace(e,null==a?void 0:a.id);n&&s&&await za.switchActiveNetwork(s)},async switchActiveNetwork(e,{throwOnFailure:t=!1}={}){var n;const a=za.state.activeChain;if(!a)throw new Error("ChainController:switchActiveNetwork - namespace is required");const s="AUTH"===Fa.getProviderId(Ka.activeChain),r=null==(n=za.getAccountData(a))?void 0:n.address,o=l.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e.chainNamespace);try{if(r&&e.chainNamespace===a||s&&o){const t=Ma.get(e.chainNamespace);if(!t)throw new Error("Adapter not found");await t.switchNetwork({caipNetwork:e})}za.setActiveCaipNetwork(e)}catch(i){if(t)throw i}ea.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})},getConnectionControllerClient(e){const t=e||Ka.activeChain;if(!t)throw new Error("Chain is required to get connection controller client");const n=Ka.chains.get(t);if(!(null==n?void 0:n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(e,t){var n;const a=null==(n=Ka.chains.get(t))?void 0:n.networkState;if(a)return a[e]},getRequestedCaipNetworks(e){const t=Ka.chains.get(e),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:a=[]}=(null==t?void 0:t.networkState)||{};return ve.sortRequestedNetworks(n,a).filter(e=>null==e?void 0:e.id)},getAllRequestedCaipNetworks(){const e=[];return Ka.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const n=za.getRequestedCaipNetworks(t.namespace);e.push(...n)}),e},setRequestedCaipNetworks(e,t){za.setAdapterNetworkState(t,{requestedCaipNetworks:e});const n=za.getAllRequestedCaipNetworks().map(e=>e.chainNamespace),a=Array.from(new Set(n));fa.filterByNamespaces(a)},getAllApprovedCaipNetworkIds(){const e=[];return Ka.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const n=za.getApprovedCaipNetworkIds(t.namespace);e.push(...n)}),e},getActiveCaipNetwork(e){var t,n;return e?null==(n=null==(t=Ka.chains.get(e))?void 0:t.networkState)?void 0:n.caipNetwork:Ka.activeCaipNetwork},getActiveCaipAddress:()=>Ka.activeCaipAddress,getApprovedCaipNetworkIds(e){var t;const n=Ka.chains.get(e);return(null==(t=null==n?void 0:n.networkState)?void 0:t.approvedCaipNetworkIds)||[]},setApprovedCaipNetworksData(e,t){za.setAdapterNetworkState(e,t)},checkIfSupportedNetwork(e,t){var n;const a=t||(null==(n=Ka.activeCaipNetwork)?void 0:n.caipNetworkId),s=za.getRequestedCaipNetworks(e);return!s.length||(null==s?void 0:s.some(e=>e.caipNetworkId===a))},checkIfSupportedChainId(e){if(!Ka.activeChain)return!0;const t=za.getRequestedCaipNetworks(Ka.activeChain);return null==t?void 0:t.some(t=>t.id===e)},checkIfSmartAccountEnabled(){var e,t;const n=d.caipNetworkIdToNumber(null==(e=Ka.activeCaipNetwork)?void 0:e.caipNetworkId);if(!Ka.activeChain||!n)return!1;const a=(null==(t=ye.get(we))?void 0:t.split(","))||[];return Boolean(null==a?void 0:a.includes(n.toString()))},showUnsupportedChainUI(){Ya.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const e=Ka.activeCaipNetwork;return Boolean((null==e?void 0:e.chainNamespace)&&ge.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){za.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(e){var t,n;const a=e;if(!a)throw new Error("Chain is required to set account prop");const s=null==(n=null==(t=za.state.chains.get(a))?void 0:t.accountState)?void 0:n.preferredAccountType,r=_n.state.defaultAccountTypes[a];Ka.activeCaipAddress=void 0,za.setChainAccountData(a,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||s,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),fa.removeConnectorId(a)},setIsSwitchingNamespace(e){Ka.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){var e,t;const n=[];let a;if(Ka.chains.forEach(e=>{l.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(t=>t===e.namespace)&&e.namespace&&n.push(e.namespace)}),n.length>0){const s=n[0];return a=s?null==(t=null==(e=Ka.chains.get(s))?void 0:e.caipNetworks)?void 0:t[0]:void 0,a}},getAccountData(e){var t;const n=e||Ka.activeChain;if(n)return null==(t=za.state.chains.get(n))?void 0:t.accountState},getNetworkData(e){var t;const n=e||Ka.activeChain;if(n)return null==(t=za.state.chains.get(n))?void 0:t.networkState},getCaipNetworkByNamespace(e,t){var n,a,s;if(!e)return;const r=za.state.chains.get(e),o=null==(n=null==r?void 0:r.caipNetworks)?void 0:n.find(e=>e.id.toString()===(null==t?void 0:t.toString()));return o||((null==(a=null==r?void 0:r.networkState)?void 0:a.caipNetwork)||(null==(s=null==r?void 0:r.caipNetworks)?void 0:s[0]))},getRequestedCaipNetworkIds(){const e=fa.state.filterByNamespace;return(e?[Ka.chains.get(e)]:Array.from(Ka.chains.values())).flatMap(e=>(null==e?void 0:e.caipNetworks)||[]).map(e=>e.caipNetworkId)},getCaipNetworks:e=>e?za.getRequestedCaipNetworks(e):za.getAllRequestedCaipNetworks(),getCaipNetworkById:(e,t)=>qa.getCaipNetworks(t).find(t=>t.id.toString()===e.toString()||t.caipNetworkId.toString()===e.toString()),setLastConnectedSIWECaipNetwork(e){Ka.lastConnectedSIWECaipNetwork=e},getLastConnectedSIWECaipNetwork:()=>Ka.lastConnectedSIWECaipNetwork,async fetchTokenBalance(e){var t,n;const a=za.getAccountData();if(!a)return[];const s=null==(t=za.state.activeCaipNetwork)?void 0:t.caipNetworkId,r=null==(n=za.state.activeCaipNetwork)?void 0:n.chainNamespace,o=za.state.activeCaipAddress,i=o?ve.getPlainAddress(o):void 0;if(za.setAccountProp("balanceLoading",!0,r),a.lastRetry&&!ve.isAllowedRetry(a.lastRetry,30*ge.ONE_SEC_MS))return za.setAccountProp("balanceLoading",!1,r),[];try{if(i&&s&&r){const e=await xa.getMyTokensWithBalance();return za.setAccountProp("tokenBalance",e,r),za.setAccountProp("lastRetry",void 0,r),za.setAccountProp("balanceLoading",!1,r),e}}catch(c){za.setAccountProp("lastRetry",Date.now(),r),null==e||e(c),Rn.showError("Token Balance Unavailable")}finally{za.setAccountProp("balanceLoading",!1,r)}return[]},isCaipNetworkDisabled(e){var t;const n=e.chainNamespace,a=Boolean(null==(t=za.getAccountData(n))?void 0:t.caipAddress),s=za.getAllApprovedCaipNetworkIds(),r=!1!==za.getNetworkProp("supportsAllNetworks",n),o=fa.getConnectorId(n),i=fa.getAuthConnector(),c=o===l.CONNECTOR_ID.AUTH&&i;return!(!a||r||c)&&!(null==s?void 0:s.includes(e.caipNetworkId))}},za=Hn(qa),Ga={onSwitchNetwork({network:e,ignoreSwitchConfirmation:t=!1}){var n,a;const s=za.state.activeCaipNetwork,r=za.state.activeChain,o=la.state.data;if(e.id===(null==s?void 0:s.id))return;const i=Boolean(null==(n=za.getAccountData(r))?void 0:n.address),c=Boolean(null==(a=za.getAccountData(e.chainNamespace))?void 0:a.address),d=e.chainNamespace!==r,u=fa.getConnectorId(r)===l.CONNECTOR_ID.AUTH,p=l.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(t=>t===e.chainNamespace);t||u&&p?la.push("SwitchNetwork",{...o,network:e}):i&&d&&!c?la.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):la.push("SwitchNetwork",{...o,network:e})}},Ja=se({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),Ya=Hn({state:Ja,subscribe:e=>re(Ja,()=>e(Ja)),subscribeKey:(e,t)=>ce(Ja,e,t),async open(e){var t,n;const a=null==e?void 0:e.namespace,s=za.state.activeChain,r=a&&a!==s,o=null==(t=za.getAccountData(null==e?void 0:e.namespace))?void 0:t.caipAddress,i=za.state.noAdapters;if(Ta.state.wcBasic?sa.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await sa.prefetch(),fa.setFilterByNamespace(null==e?void 0:e.namespace),Ya.setLoading(!0,a),a&&r){const e=(null==(n=za.getNetworkData(a))?void 0:n.caipNetwork)||za.getRequestedCaipNetworks(a)[0];e&&(i?(await za.switchActiveNetwork(e),la.push("ConnectingWalletConnectBasic")):Ga.onSwitchNetwork({network:e,ignoreSwitchConfirmation:!0}))}else _n.state.manualWCControl||i&&!o?ve.isMobile()?la.reset("AllWallets"):la.reset("ConnectingWalletConnectBasic"):(null==e?void 0:e.view)?la.reset(e.view,e.data):o?la.reset("Account"):la.reset("Connect");Ja.open=!0,Aa.set({open:!0}),ea.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:Boolean(o)}})},close(){const e=_n.state.enableEmbedded,t=Boolean(za.state.activeCaipAddress);Ja.open&&ea.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),Ja.open=!1,la.reset("Connect"),Ya.clearLoading(),e?t?la.replace("Account"):la.push("Connect"):Aa.set({open:!1}),Ta.resetUri()},setLoading(e,t){t&&Ja.loadingNamespaceMap.set(t,e),Ja.loading=e,Aa.set({loading:e})},clearLoading(){Ja.loadingNamespaceMap.clear(),Ja.loading=!1,Aa.set({loading:!1})},shake(){Ja.shake||(Ja.shake=!0,setTimeout(()=>{Ja.shake=!1},500))}}),Xa={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},Qa={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},Za=se({providers:me,selectedProvider:null,error:null,purchaseCurrency:Xa,paymentCurrency:Qa,purchaseCurrencies:[Xa],paymentCurrencies:[],quotesLoading:!1}),es=Hn({state:Za,subscribe:e=>re(Za,()=>e(Za)),subscribeKey:(e,t)=>ce(Za,e,t),setSelectedProvider(e){var t,n;if(e&&"meld"===e.name){const a=za.state.activeChain,s=a===l.CHAIN.SOLANA?"SOL":"USDC",r=a?(null==(n=null==(t=za.state.chains.get(a))?void 0:t.accountState)?void 0:n.address)??"":"",o=new URL(e.url);o.searchParams.append("publicKey","WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU"),o.searchParams.append("destinationCurrencyCode",s),o.searchParams.append("walletAddress",r),o.searchParams.append("externalCustomerId",_n.state.projectId),Za.selectedProvider={...e,url:o.toString()}}else Za.selectedProvider=e},setOnrampProviders(e){if(Array.isArray(e)&&e.every(e=>"string"==typeof e)){const t=e,n=me.filter(e=>t.includes(e.name));Za.providers=n}else Za.providers=[]},setPurchaseCurrency(e){Za.purchaseCurrency=e},setPaymentCurrency(e){Za.paymentCurrency=e},setPurchaseAmount(e){es.state.purchaseAmount=e},setPaymentAmount(e){es.state.paymentAmount=e},async getAvailableCurrencies(){const e=await Dn.getOnrampOptions();Za.purchaseCurrencies=e.purchaseCurrencies,Za.paymentCurrencies=e.paymentCurrencies,Za.paymentCurrency=e.paymentCurrencies[0]||Qa,Za.purchaseCurrency=e.purchaseCurrencies[0]||Xa,await sa.fetchCurrencyImages(e.paymentCurrencies.map(e=>e.id)),await sa.fetchTokenImages(e.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){var e,t;Za.quotesLoading=!0;try{const n=await Dn.getOnrampQuote({purchaseCurrency:Za.purchaseCurrency,paymentCurrency:Za.paymentCurrency,amount:(null==(e=Za.paymentAmount)?void 0:e.toString())||"0",network:null==(t=Za.purchaseCurrency)?void 0:t.symbol});return Za.quotesLoading=!1,Za.purchaseAmount=Number(null==n?void 0:n.purchaseAmount.amount),n}catch(n){return Za.error=n.message,Za.quotesLoading=!1,null}finally{Za.quotesLoading=!1}},resetState(){Za.selectedProvider=null,Za.error=null,Za.purchaseCurrency=Xa,Za.paymentCurrency=Qa,Za.purchaseCurrencies=[Xa],Za.paymentCurrencies=[],Za.paymentAmount=void 0,Za.purchaseAmount=void 0,Za.quotesLoading=!1}}),ts=2147483648,ns={convertEVMChainIdToCoinType(e){if(e>=ts)throw new Error("Invalid chainId");return(ts|e)>>>0}},as=se({suggestions:[],loading:!1}),ss=Hn({state:as,subscribe:e=>re(as,()=>e(as)),subscribeKey:(e,t)=>ce(as,e,t),async resolveName(e){var t,n;try{return await Dn.lookupEnsName(e)}catch(a){throw new Error((null==(n=null==(t=null==a?void 0:a.reasons)?void 0:t[0])?void 0:n.description)||"Error resolving name")}},async isNameRegistered(e){try{return await Dn.lookupEnsName(e),!0}catch{return!1}},async getSuggestions(e){try{as.loading=!0,as.suggestions=[];const t=await Dn.getEnsNameSuggestions(e);return as.suggestions=t.suggestions||[],as.suggestions}catch(t){const e=ss.parseEnsApiError(t,"Error fetching name suggestions");throw new Error(e)}finally{as.loading=!1}},async getNamesForAddress(e){try{if(!za.state.activeCaipNetwork)return[];const t=fe.getEnsFromCacheForAddress(e);if(t)return t;const n=await Dn.reverseLookupEnsName({address:e});return fe.updateEnsCache({address:e,ens:n,timestamp:Date.now()}),n}catch(t){const e=ss.parseEnsApiError(t,"Error fetching names for address");throw new Error(e)}},async registerName(e){var t;const n=za.state.activeCaipNetwork,a=null==(t=za.getAccountData(null==n?void 0:n.chainNamespace))?void 0:t.address,s=fa.getAuthConnector();if(!n)throw new Error("Network not found");if(!a||!s)throw new Error("Address or auth connector not found");as.loading=!0;try{const t=JSON.stringify({name:e,attributes:{},timestamp:Math.floor(Date.now()/1e3)});la.pushTransactionStack({onCancel(){la.replace("RegisterAccountName")}});const s=await Ta.signMessage(t);as.loading=!1;const r=n.id;if(!r)throw new Error("Network not found");const o=ns.convertEVMChainIdToCoinType(Number(r));await Dn.registerEnsName({coinType:o,address:a,signature:s,message:t}),za.setAccountProp("profileName",e,n.chainNamespace),fe.updateEnsCache({address:a,ens:[{name:e,registered_at:(new Date).toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),la.replace("RegisterAccountNameSuccess")}catch(r){const t=ss.parseEnsApiError(r,`Error registering name ${e}`);throw la.replace("RegisterAccountName"),new Error(t)}finally{as.loading=!1}},validateName:e=>/^[a-zA-Z0-9-]{4,}$/u.test(e),parseEnsApiError(e,t){var n,a;return(null==(a=null==(n=null==e?void 0:e.reasons)?void 0:n[0])?void 0:a.description)||t}});function rs(e){try{return new URL(e)}catch{return null}}function os(e,t){if(t.includes("://")){const n=rs(t);return!!n&&n.origin===e}const{host:n,port:a}=function(e){const t=e.split("/"),n=t.length>0&&void 0!==t[0]?t[0]:"",a=n.lastIndexOf(":");return-1===a?{host:n}:{host:n.slice(0,a),port:n.slice(a+1)}}(t),s=e.indexOf("://");if(-1!==s){const t=s+3;let r=e.indexOf("/",t);-1===r&&(r=e.length);const o=e.slice(t,r);if(void 0!==a)return`${n}:${a}`===o;return n===o.split(":")[0]}const r=rs(e);return!!r&&(void 0!==a?n===r.hostname&&a===(r.port||void 0):n===r.hostname)}function is(e,t,n){let a,s=n;const r=s.indexOf("://");-1!==r&&(a=s.slice(0,r),s=s.slice(r+3));const o=s.indexOf("/");-1!==o&&(s=s.slice(0,o));let i,c=s;const l=c.lastIndexOf(":");-1!==l&&(i=c.slice(l+1),c=c.slice(0,l));const d=c.split(".");for(const m of d)if(m.includes("*")&&"*"!==m)return!1;const u=e.protocol.replace(/:$/u,"");if(a&&a!==u)return!1;if(void 0!==i&&"*"!==i&&i!==e.port)return!1;const p=function(e){const t=e.indexOf("://");if(-1===t)return null;const n=e.slice(0,t),a=t+3;let s=e.indexOf("/",a);-1===s&&(s=e.length);const r=e.slice(a,s),o=r.lastIndexOf(":");return-1===o?{scheme:n,host:r}:{scheme:n,host:r.slice(0,o),port:r.slice(o+1)}}(t),h=(p?p.host:e.hostname).split(".");if(d.length!==h.length)return!1;for(let m=d.length-1;m>=0;m-=1){const e=d[m],t=h[m];if("*"!==e&&e!==t)return!1}return!0}const cs={ton:["ton_sendMessage","ton_signData"],solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},ls={RPC_ERROR_CODE:{USER_REJECTED:5e3,USER_REJECTED_METHODS:5002},getMethodsByChainNamespace:e=>cs[e]||[],createDefaultNamespace(e){return{methods:this.getMethodsByChainNamespace(e),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(e,t){if(!t)return{...e};const n={...e},a=new Set;if(t.methods&&Object.keys(t.methods).forEach(e=>a.add(e)),t.chains&&Object.keys(t.chains).forEach(e=>a.add(e)),t.events&&Object.keys(t.events).forEach(e=>a.add(e)),t.rpcMap&&Object.keys(t.rpcMap).forEach(e=>{const[t]=e.split(":");t&&a.add(t)}),a.forEach(e=>{n[e]||(n[e]=this.createDefaultNamespace(e))}),t.methods&&Object.entries(t.methods).forEach(([e,t])=>{n[e]&&(n[e].methods=t)}),t.chains&&Object.entries(t.chains).forEach(([e,t])=>{n[e]&&(n[e].chains=t)}),t.events&&Object.entries(t.events).forEach(([e,t])=>{n[e]&&(n[e].events=t)}),t.rpcMap){const e=new Set;Object.entries(t.rpcMap).forEach(([t,a])=>{const[s,r]=t.split(":");s&&r&&n[s]&&(n[s].rpcMap||(n[s].rpcMap={}),e.has(s)||(n[s].rpcMap={},e.add(s)),n[s].rpcMap[r]=a)})}return n},createNamespaces(e,t){const n=e.reduce((e,t)=>{const{id:n,chainNamespace:a,rpcUrls:s}=t,r=s.default.http[0];e[a]||(e[a]=this.createDefaultNamespace(a));const o=`${a}:${n}`,i=e[a];switch(i.chains.push(o),o){case"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":i.chains.push("solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ");break;case"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1":i.chains.push("solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K")}return(null==i?void 0:i.rpcMap)&&r&&(i.rpcMap[n]=r),e},{});return this.applyNamespaceOverrides(n,t)},resolveReownName:async e=>{var t;const n=await ss.resolveName(e);return(null==(t=((null==n?void 0:n.addresses)?Object.values(n.addresses):[])[0])?void 0:t.address)||!1},getChainsFromNamespaces:(e={})=>Object.values(e).flatMap(e=>{const t=e.chains||[],n=e.accounts.map(e=>{const[t,n]=e.split(":");return`${t}:${n}`});return Array.from(new Set([...t,...n]))}),isSessionEventData:e=>"object"==typeof e&&null!==e&&"id"in e&&"topic"in e&&"params"in e&&"object"==typeof e.params&&null!==e.params&&"chainId"in e.params&&"event"in e.params&&"object"==typeof e.params.event&&null!==e.params.event,isUserRejectedRequestError(e){try{if("object"==typeof e&&null!==e){const t=e,n="number"==typeof t.code,a=n&&t.code===ls.RPC_ERROR_CODE.USER_REJECTED_METHODS,s=n&&t.code===ls.RPC_ERROR_CODE.USER_REJECTED;return a||s}return!1}catch{return!1}},isOriginAllowed(e,t,n){const a=[...t,...n];if(0===t.length)return!0;const s=rs(e);if(!s)return a.some(t=>!t.includes("*")&&t===e);if("localhost"===s.hostname||"127.0.0.1"===s.hostname)return!0;for(const r of a)if(r.includes("*")){if(is(s,e,r))return!0}else if(os(e,r))return!0;return!1},listenWcProvider({universalProvider:e,namespace:t,onConnect:n,onDisconnect:a,onAccountsChanged:s,onChainChanged:r,onDisplayUri:o}){n&&e.on("connect",()=>{const a=ls.getWalletConnectAccounts(e,t);n(a)}),a&&e.on("disconnect",()=>{a()}),s&&e.on("accountsChanged",n=>{var a,r,o,i,c;try{const l=(null==(o=null==(r=null==(a=e.session)?void 0:a.namespaces)?void 0:r[t])?void 0:o.accounts)||[],d=null==(c=null==(i=e.rpcProviders)?void 0:i[t])?void 0:c.getDefaultChain(),u=n.map(e=>{const n=l.find(n=>n.includes(`${t}:${d}:${e}`));if(!n)return;const{chainId:a,chainNamespace:s}=R.parseCaipAddress(n);return{address:e,chainId:a,chainNamespace:s}}).filter(e=>void 0!==e);u.length>0&&s(u)}catch(l){console.warn("Failed to parse accounts for namespace on accountsChanged event",t,n,l)}}),r&&e.on("chainChanged",e=>{r(e)}),o&&e.on("display_uri",e=>{o(e)})},getWalletConnectAccounts(e,t){var n,a,s,r;const o=new Set,i=null==(r=null==(s=null==(a=null==(n=null==e?void 0:e.session)?void 0:n.namespaces)?void 0:a[t])?void 0:s.accounts)?void 0:r.map(e=>R.parseCaipAddress(e)).filter(({address:e})=>!o.has(e.toLowerCase())&&(o.add(e.toLowerCase()),!0));return i&&i.length>0?i:[]}},ds=[l.CONNECTOR_ID.AUTH,l.CONNECTOR_ID.WALLET_CONNECT];class us{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=e=>za.getCaipNetworks(e),this.getConnectorId=e=>fa.getConnectorId(e),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:t}){const n=this.getCaipNetworks().filter(e=>e.chainNamespace===this.namespace).find(e=>e.id.toString()===(null==t?void 0:t.toString()));e&&n&&this.addConnection({connectorId:l.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:n})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:l.CONNECTOR_ID.AUTH,type:"AUTH",name:l.CONNECTOR_NAMES.AUTH,provider:e,imageId:void 0,chain:this.namespace,chains:[]})}addConnector(...e){const t=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(e=>!t.has(e.id)&&(t.add(e.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){const t=new Set;this.availableConnections=[...e,...this.availableConnections].filter(e=>!t.has(e.connectorId.toLowerCase())&&(t.add(e.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(t=>t.connectorId.toLowerCase()!==e.toLowerCase()),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,t){za.setAccountProp("status",e,t)}on(e,t){var n;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),null==(n=this.eventListeners.get(e))||n.add(t)}off(e,t){const n=this.eventListeners.get(e);n&&n.delete(t)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,t){const n=this.eventListeners.get(e);n&&n.forEach(e=>e(t))}async connectWalletConnect(e){try{const e=this.getWalletConnectConnector();return{clientId:(await e.connectWalletConnect()).clientId}}catch(t){if(ls.isUserRejectedRequestError(t))throw new x(t);throw t}}async switchNetwork(e){var t;const{caipNetwork:n}=e,a=Fa.getProviderId(n.chainNamespace),s=Fa.getProvider(n.chainNamespace);if(!s)throw new Error("Provider not found");if("WALLET_CONNECT"===a){return void s.setDefaultChain(n.caipNetworkId)}if("AUTH"===a){const e=null==(t=fa.getAuthConnector())?void 0:t.provider;if(!e)throw new Error("Auth provider not found");const a=Ea(n.chainNamespace);await e.switchNetwork({chainId:n.caipNetworkId});const s=await e.getUser({chainId:n.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",s)}}getWalletConnectConnector(){const e=this.connectors.find(e=>"walletConnect"===e.id);if(!e)throw new Error("WalletConnectConnector not found");return e}onConnect(e,t){if(e.length>0){const{address:n,chainId:a}=ve.getAccount(e[0]),s=this.getCaipNetworks().filter(e=>e.chainNamespace===this.namespace).find(e=>e.id.toString()===(null==a?void 0:a.toString())),r=this.connectors.find(e=>e.id===t);n&&(this.emit("accountChanged",{address:n,chainId:a,connector:r}),this.addConnection({connectorId:t,accounts:e.map(e=>{const{address:t}=ve.getAccount(e);return{address:t}}),caipNetwork:s}))}}onAccountsChanged(e,t,n=!0){var a,s;if(e.length>0){const{address:n}=ve.getAccount(e[0]),r=this.getConnection({connectorId:t,connections:this.connections,connectors:this.connectors});n&&(null==(a=this.getConnectorId(l.CHAIN.EVM))?void 0:a.toLowerCase())===t.toLowerCase()&&this.emit("accountChanged",{address:n,chainId:null==(s=null==r?void 0:r.caipNetwork)?void 0:s.id,connector:null==r?void 0:r.connector}),this.addConnection({connectorId:t,accounts:e.map(e=>{const{address:t}=ve.getAccount(e);return{address:t}}),caipNetwork:null==r?void 0:r.caipNetwork})}else n&&this.onDisconnect(t)}onDisconnect(e){var t;this.removeProviderListeners(e),this.deleteConnection(e),(null==(t=this.getConnectorId(l.CHAIN.EVM))?void 0:t.toLowerCase())===e.toLowerCase()&&this.emitFirstAvailableConnection(),0===this.connections.length&&this.emit("disconnect")}onChainChanged(e,t){var n;const a="string"==typeof e&&e.startsWith("0x")?parseInt(e,16).toString():e.toString(),s=this.getConnection({connectorId:t,connections:this.connections,connectors:this.connectors}),r=this.getCaipNetworks().filter(e=>e.chainNamespace===this.namespace).find(e=>e.id.toString()===a);s&&this.addConnection({connectorId:t,accounts:s.accounts,caipNetwork:r}),(null==(n=this.getConnectorId(l.CHAIN.EVM))?void 0:n.toLowerCase())===t.toLowerCase()&&this.emit("switchNetwork",{chainId:a})}listenProviderEvents(e,t){if(ds.includes(e))return;const n=t=>this.onAccountsChanged(t,e),a=t=>this.onChainChanged(t,e),s=()=>this.onDisconnect(e);this.providerHandlers[e]||(t.on("disconnect",s),t.on("accountsChanged",n),t.on("chainChanged",a),this.providerHandlers[e]={provider:t,disconnect:s,accountsChanged:n,chainChanged:a})}removeProviderListeners(e){if(this.providerHandlers[e]){const{provider:t,disconnect:n,accountsChanged:a,chainChanged:s}=this.providerHandlers[e];t.removeListener("disconnect",n),t.removeListener("accountsChanged",a),t.removeListener("chainChanged",s),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){var e;const t=this.getConnection({connections:this.connections,connectors:this.connectors});if(t){const[n]=t.accounts;this.emit("accountChanged",{address:null==n?void 0:n.address,chainId:null==(e=t.caipNetwork)?void 0:e.id,connector:t.connector})}}getConnection({address:e,connectorId:t,connections:n,connectors:a}){if(t){const s=n.find(e=>e.connectorId.toLowerCase()===t.toLowerCase());if(!s)return null;const r=a.find(e=>e.id.toLowerCase()===s.connectorId.toLowerCase()),o=e?s.accounts.find(t=>t.address.toLowerCase()===e.toLowerCase()):s.accounts[0];return{...s,account:o,connector:r}}const s=n.find(e=>e.accounts.length>0&&a.some(t=>t.id.toLowerCase()===e.connectorId.toLowerCase()));if(s){const[e]=s.accounts,t=a.find(e=>e.id.toLowerCase()===s.connectorId.toLowerCase());return{...s,account:e,connector:t}}return null}}let ps=null;const hs={getSIWX:()=>_n.state.siwx,async initializeIfEnabled(e=za.getActiveCaipAddress()){var t,n,a;const s=_n.state.siwx;if(!s||!e)return;const[r,o,i]=e.split(":");if(za.checkIfSupportedNetwork(r,`${r}:${o}`))try{if(null==(t=_n.state.remoteFeatures)?void 0:t.emailCapture){const e=null==(n=za.getAccountData(r))?void 0:n.user;return void(await Ya.open({view:"DataCapture",data:{email:(null==e?void 0:e.email)??void 0}}))}ps&&await ps;if((await s.getSessions(`${r}:${o}`,i)).length)return;await Ya.open({view:"SIWXSignMessage"})}catch(c){console.error("SIWXUtil:initializeIfEnabled",c),ea.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(c)}),await(null==(a=Ta._getClient())?void 0:a.disconnect().catch(console.error)),la.reset("Connect"),Rn.showError("A problem occurred while trying initialize authentication")}},async isAuthenticated(e=za.getActiveCaipAddress()){if(!_n.state.siwx)return!0;if(!e)return!0;const{chainNamespace:t,chainId:n,address:a}=R.parseCaipAddress(e),s=`${t}:${n}`;return(await hs.getSessions({address:a,caipNetworkId:s})).length>0},async requestSignMessage(){const e=_n.state.siwx,t=ve.getPlainAddress(za.getActiveCaipAddress()),n=ya();if(!e)throw new Error("SIWX is not enabled");if(!t)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");try{const a=await e.createMessage({chainId:n.caipNetworkId,accountAddress:t}),s=a.toString();let r="";if(e.signMessage)r=await e.signMessage({message:s,chainId:n.caipNetworkId,accountAddress:t});else{fa.getConnectorId(n.chainNamespace)===l.CONNECTOR_ID.AUTH&&la.pushTransactionStack({}),r=await Ta.signMessage(s)||""}await e.addSession({data:a,message:s,signature:r}),za.setLastConnectedSIWECaipNetwork(n),Ya.close(),ea.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(a){Ya.state.open&&"ApproveTransaction"!==la.state.view||await Ya.open({view:"SIWXSignMessage"}),Rn.showError("Error signing message"),ea.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(a)}),console.error("SWIXUtil:requestSignMessage",a)}},async cancelSignMessage(){var e;try{const t=this.getSIWX();if(null==(e=null==t?void 0:t.getRequired)?void 0:e.call(t)){const e=za.getLastConnectedSIWECaipNetwork();if(e){const n=await(null==t?void 0:t.getSessions(null==e?void 0:e.caipNetworkId,ve.getPlainAddress(za.getActiveCaipAddress())||""));n&&n.length>0?await za.switchActiveNetwork(e):await Ta.disconnect()}else await Ta.disconnect()}else Ya.close();Ya.close(),ea.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(t){console.error("SIWXUtil:cancelSignMessage",t)}},async getAllSessions(){const e=this.getSIWX(),t=za.getAllRequestedCaipNetworks(),n=[];return await Promise.all(t.map(async t=>{const a=await(null==e?void 0:e.getSessions(t.caipNetworkId,ve.getPlainAddress(za.getActiveCaipAddress())||""));a&&n.push(...a)})),n},async getSessions(e){const t=_n.state.siwx;let n=null==e?void 0:e.address;if(!n){const e=za.getActiveCaipAddress();n=ve.getPlainAddress(e)}let a=null==e?void 0:e.caipNetworkId;if(!a){const e=za.getActiveCaipNetwork();a=null==e?void 0:e.caipNetworkId}return t&&n&&a?t.getSessions(a,n):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n="ApproveTransaction"===la.state.view,a="SIWXSignMessage"===la.state.view;if(n||a)return(null==(e=t.getRequired)?void 0:e.call(t))&&0===(await this.getSessions()).length}return!1},async authConnectorAuthenticate({authConnector:e,chainId:t,socialUri:n,preferredAccountType:a,chainNamespace:s}){var r;const o=hs.getSIWX(),i=ya();if(!o||!s.includes(l.CHAIN.EVM)||(null==(r=_n.state.remoteFeatures)?void 0:r.emailCapture)){const s=await e.connect({chainId:t,socialUri:n,preferredAccountType:a});return{address:s.address,chainId:s.chainId,accounts:s.accounts}}const c=`${s}:${t}`,d=await o.createMessage({chainId:c,accountAddress:"<<AccountAddress>>"}),u={accountAddress:d.accountAddress,chainId:d.chainId,domain:d.domain,uri:d.uri,version:d.version,nonce:d.nonce,notBefore:d.notBefore,statement:d.statement,resources:d.resources,requestId:d.requestId,issuedAt:d.issuedAt,expirationTime:d.expirationTime,serializedMessage:d.toString()},p=await e.connect({chainId:t,socialUri:n,siwxMessage:u,preferredAccountType:a});if(u.accountAddress=p.address,u.serializedMessage=p.message||"",p.signature&&p.message){const e=hs.addEmbeddedWalletSession(u,p.message,p.signature);await e}return za.setLastConnectedSIWECaipNetwork(i),{address:p.address,chainId:p.chainId,accounts:p.accounts}},async addEmbeddedWalletSession(e,t,n){if(ps)return ps;const a=hs.getSIWX();return a?(ps=a.addSession({data:e,message:t,signature:n}).finally(()=>{ps=null}),ps):Promise.resolve()},async universalProviderAuthenticate({universalProvider:e,chains:t,methods:n}){var a,s,r;const o=hs.getSIWX(),i=ya(),c=new Set(t.map(e=>e.split(":")[0]));if(!o||1!==c.size||!c.has("eip155"))return!1;const l=await o.createMessage({chainId:(null==(a=ya())?void 0:a.caipNetworkId)||"",accountAddress:""}),d=await e.authenticate({nonce:l.nonce,domain:l.domain,uri:l.uri,exp:l.expirationTime,iat:l.issuedAt,nbf:l.notBefore,requestId:l.requestId,version:l.version,resources:l.resources,statement:l.statement,chainId:l.chainId,methods:n,chains:[l.chainId,...t.filter(e=>e!==l.chainId)]});Rn.showLoading("Authenticating...",{autoClose:!1});const u={...d.session.peer.metadata,name:d.session.peer.metadata.name,icon:null==(s=d.session.peer.metadata.icons)?void 0:s[0],type:"WALLET_CONNECT"};if(za.setAccountProp("connectedWalletInfo",u,Array.from(c)[0]),null==(r=null==d?void 0:d.auths)?void 0:r.length){const t=d.auths.map(t=>{const n=e.client.formatAuthMessage({request:t.p,iss:t.p.iss});return{data:{...t.p,accountAddress:t.p.iss.split(":").slice(-1).join(""),chainId:t.p.iss.split(":").slice(2,4).join(":"),uri:t.p.aud??"",version:t.p.version||l.version,expirationTime:t.p.exp,issuedAt:t.p.iat,notBefore:t.p.nbf},message:n,signature:t.s.s,cacao:t}});try{await o.setSessions(t),i&&za.setLastConnectedSIWECaipNetwork(i),ea.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:hs.getSIWXEventProperties()})}catch(p){throw console.error("SIWX:universalProviderAuth - failed to set sessions",p),ea.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:hs.getSIWXEventProperties(p)}),await e.disconnect().catch(console.error),p}finally{Rn.hide()}}return!0},getSIWXEventProperties(e){var t;const n=za.state.activeChain;if(!n)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:(null==(t=za.state.activeCaipNetwork)?void 0:t.caipNetworkId)||"",isSmartAccount:Ea(n)===Ee.ACCOUNT_TYPES.SMART_ACCOUNT,message:e?ve.parseError(e):void 0}},async clearSessions(){const e=this.getSIWX();e&&await e.setSessions([])}};class ms{constructor({provider:e,namespace:t}){this.id=l.CONNECTOR_ID.WALLET_CONNECT,this.name="WalletConnect",this.type="WALLET_CONNECT",this.imageId="ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",this.getCaipNetworks=za.getCaipNetworks.bind(za),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=t}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!(await this.authenticate())){const e=this.getCaipNetworks(),t=_n.state.universalProviderConfigOverride,n=ls.createNamespaces(e,t);await this.provider.connect({optionalNamespaces:n})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(e=>e.caipNetworkId);return hs.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:gs})}}const gs=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],fs=se({message:"",variant:"info",open:!1}),vs=Hn({state:fs,subscribeKey:(e,t)=>ce(fs,e,t),open(e,t){const{debug:n}=_n.state,{code:a,displayMessage:s,debugMessage:r}=e;if(s&&n&&(fs.message=s,fs.variant=t,fs.open=!0),r){if(!l.IS_DEVELOPMENT)return;const e="function"==typeof r?r():r,n=a?{code:a}:void 0;"error"===t?console.error(e,n):"warning"===t?console.warn(e,n):console.info(e,n)}},warn(e,t,n){fs.open=!0,fs.message=e,fs.variant="warning",t&&console.warn(t,n)},close(){fs.open=!1,fs.message="",fs.variant="info"}}),Cs=globalThis,ws=Cs.ShadowRoot&&(void 0===Cs.ShadyCSS||Cs.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Es=Symbol(),ys=new WeakMap;let Ns=class{constructor(e,t,n){if(this._$cssResult$=!0,n!==Es)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(ws&&void 0===e){const n=void 0!==t&&1===t.length;n&&(e=ys.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&ys.set(t,e))}return e}toString(){return this.cssText}};const bs=e=>new Ns("string"==typeof e?e:e+"",void 0,Es),As=(e,...t)=>{const n=1===e.length?e[0]:t.reduce((t,n,a)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[a+1],e[0]);return new Ns(n,e,Es)},Is=ws?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return bs(t)})(e):e,{is:ks,defineProperty:Ss,getOwnPropertyDescriptor:_s,getOwnPropertyNames:Ts,getOwnPropertySymbols:Os,getPrototypeOf:Rs}=Object,Ps=globalThis,Us=Ps.trustedTypes,xs=Us?Us.emptyScript:"",Ds=Ps.reactiveElementPolyfillSupport,Ms=(e,t)=>e,Ls={toAttribute(e,t){switch(t){case Boolean:e=e?xs:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(a){n=null}}return n}},Ws=(e,t)=>!ks(e,t),Fs={attribute:!0,type:String,converter:Ls,reflect:!1,useDefault:!1,hasChanged:Ws};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Ps.litPropertyMetadata??(Ps.litPropertyMetadata=new WeakMap);let $s=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=Fs){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){const n=Symbol(),a=this.getPropertyDescriptor(e,n,t);void 0!==a&&Ss(this.prototype,e,a)}}static getPropertyDescriptor(e,t,n){const{get:a,set:s}=_s(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get:a,set(t){const r=null==a?void 0:a.call(this);null==s||s.call(this,t),this.requestUpdate(e,r,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??Fs}static _$Ei(){if(this.hasOwnProperty(Ms("elementProperties")))return;const e=Rs(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Ms("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Ms("properties"))){const e=this.properties,t=[...Ts(e),...Os(e)];for(const n of t)this.createProperty(n,e[n])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,n]of t)this.elementProperties.set(e,n)}this._$Eh=new Map;for(const[t,n]of this.elementProperties){const e=this._$Eu(t,n);void 0!==e&&this._$Eh.set(e,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const e of n)t.unshift(Is(e))}else void 0!==e&&t.push(Is(e));return t}static _$Eu(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),null==(e=this.constructor.l)||e.forEach(e=>e(this))}addController(e){var t;(this._$EO??(this._$EO=new Set)).add(e),void 0!==this.renderRoot&&this.isConnected&&(null==(t=e.hostConnected)||t.call(e))}removeController(e){var t;null==(t=this._$EO)||t.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const n of t.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{if(ws)e.adoptedStyleSheets=t.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet);else for(const n of t){const t=document.createElement("style"),a=Cs.litNonce;void 0!==a&&t.setAttribute("nonce",a),t.textContent=n.cssText,e.appendChild(t)}})(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null==(e=this._$EO)||e.forEach(e=>{var t;return null==(t=e.hostConnected)?void 0:t.call(e)})}enableUpdating(e){}disconnectedCallback(){var e;null==(e=this._$EO)||e.forEach(e=>{var t;return null==(t=e.hostDisconnected)?void 0:t.call(e)})}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$ET(e,t){var n;const a=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,a);if(void 0!==s&&!0===a.reflect){const r=(void 0!==(null==(n=a.converter)?void 0:n.toAttribute)?a.converter:Ls).toAttribute(t,a.type);this._$Em=e,null==r?this.removeAttribute(s):this.setAttribute(s,r),this._$Em=null}}_$AK(e,t){var n,a;const s=this.constructor,r=s._$Eh.get(e);if(void 0!==r&&this._$Em!==r){const e=s.getPropertyOptions(r),o="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==(null==(n=e.converter)?void 0:n.fromAttribute)?e.converter:Ls;this._$Em=r;const i=o.fromAttribute(t,e.type);this[r]=i??(null==(a=this._$Ej)?void 0:a.get(r))??i,this._$Em=null}}requestUpdate(e,t,n,a=!1,s){var r;if(void 0!==e){const o=this.constructor;if(!1===a&&(s=this[e]),n??(n=o.getPropertyOptions(e)),!((n.hasChanged??Ws)(s,t)||n.useDefault&&n.reflect&&s===(null==(r=this._$Ej)?void 0:r.get(e))&&!this.hasAttribute(o._$Eu(e,n))))return;this.C(e,t,n)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(e,t,{useDefault:n,reflect:a,wrapped:s},r){n&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,r??t??this[e]),!0!==s||void 0!==r)||(this._$AL.has(e)||(this.hasUpdated||n||(t=void 0),this._$AL.set(e,t)),!0===a&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const e=this.constructor.elementProperties;if(e.size>0)for(const[t,n]of e){const{wrapped:e}=n,a=this[t];!0!==e||this._$AL.has(t)||void 0===a||this.C(t,void 0,n,a)}}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),null==(e=this._$EO)||e.forEach(e=>{var t;return null==(t=e.hostUpdate)?void 0:t.call(e)}),this.update(n)):this._$EM()}catch(a){throw t=!1,this._$EM(),a}t&&this._$AE(n)}willUpdate(e){}_$AE(e){var t;null==(t=this._$EO)||t.forEach(e=>{var t;return null==(t=e.hostUpdated)?void 0:t.call(e)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(e=>this._$ET(e,this[e]))),this._$EM()}updated(e){}firstUpdated(e){}};$s.elementStyles=[],$s.shadowRootOptions={mode:"open"},$s[Ms("elementProperties")]=new Map,$s[Ms("finalized")]=new Map,null==Ds||Ds({ReactiveElement:$s}),(Ps.reactiveElementVersions??(Ps.reactiveElementVersions=[])).push("2.1.2");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Bs=globalThis,Hs=e=>e,js=Bs.trustedTypes,Vs=js?js.createPolicy("lit-html",{createHTML:e=>e}):void 0,Ks="$lit$",qs=`lit$${Math.random().toFixed(9).slice(2)}$`,zs="?"+qs,Gs=`<${zs}>`,Js=document,Ys=()=>Js.createComment(""),Xs=e=>null===e||"object"!=typeof e&&"function"!=typeof e,Qs=Array.isArray,Zs="[ \t\n\f\r]",er=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,tr=/-->/g,nr=/>/g,ar=RegExp(`>|${Zs}(?:([^\\s"'>=/]+)(${Zs}*=${Zs}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),sr=/'/g,rr=/"/g,or=/^(?:script|style|textarea|title)$/i,ir=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),cr=ir(1),lr=ir(2),dr=Symbol.for("lit-noChange"),ur=Symbol.for("lit-nothing"),pr=new WeakMap,hr=Js.createTreeWalker(Js,129);function mr(e,t){if(!Qs(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==Vs?Vs.createHTML(t):t}class gr{constructor({strings:e,_$litType$:t},n){let a;this.parts=[];let s=0,r=0;const o=e.length-1,i=this.parts,[c,l]=((e,t)=>{const n=e.length-1,a=[];let s,r=2===t?"<svg>":3===t?"<math>":"",o=er;for(let i=0;i<n;i++){const t=e[i];let n,c,l=-1,d=0;for(;d<t.length&&(o.lastIndex=d,c=o.exec(t),null!==c);)d=o.lastIndex,o===er?"!--"===c[1]?o=tr:void 0!==c[1]?o=nr:void 0!==c[2]?(or.test(c[2])&&(s=RegExp("</"+c[2],"g")),o=ar):void 0!==c[3]&&(o=ar):o===ar?">"===c[0]?(o=s??er,l=-1):void 0===c[1]?l=-2:(l=o.lastIndex-c[2].length,n=c[1],o=void 0===c[3]?ar:'"'===c[3]?rr:sr):o===rr||o===sr?o=ar:o===tr||o===nr?o=er:(o=ar,s=void 0);const u=o===ar&&e[i+1].startsWith("/>")?" ":"";r+=o===er?t+Gs:l>=0?(a.push(n),t.slice(0,l)+Ks+t.slice(l)+qs+u):t+qs+(-2===l?i:u)}return[mr(e,r+(e[n]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),a]})(e,t);if(this.el=gr.createElement(c,n),hr.currentNode=this.el.content,2===t||3===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(a=hr.nextNode())&&i.length<o;){if(1===a.nodeType){if(a.hasAttributes())for(const e of a.getAttributeNames())if(e.endsWith(Ks)){const t=l[r++],n=a.getAttribute(e).split(qs),o=/([.?@])?(.*)/.exec(t);i.push({type:1,index:s,name:o[2],strings:n,ctor:"."===o[1]?Er:"?"===o[1]?yr:"@"===o[1]?Nr:wr}),a.removeAttribute(e)}else e.startsWith(qs)&&(i.push({type:6,index:s}),a.removeAttribute(e));if(or.test(a.tagName)){const e=a.textContent.split(qs),t=e.length-1;if(t>0){a.textContent=js?js.emptyScript:"";for(let n=0;n<t;n++)a.append(e[n],Ys()),hr.nextNode(),i.push({type:2,index:++s});a.append(e[t],Ys())}}}else if(8===a.nodeType)if(a.data===zs)i.push({type:2,index:s});else{let e=-1;for(;-1!==(e=a.data.indexOf(qs,e+1));)i.push({type:7,index:s}),e+=qs.length-1}s++}}static createElement(e,t){const n=Js.createElement("template");return n.innerHTML=e,n}}function fr(e,t,n=e,a){var s,r;if(t===dr)return t;let o=void 0!==a?null==(s=n._$Co)?void 0:s[a]:n._$Cl;const i=Xs(t)?void 0:t._$litDirective$;return(null==o?void 0:o.constructor)!==i&&(null==(r=null==o?void 0:o._$AO)||r.call(o,!1),void 0===i?o=void 0:(o=new i(e),o._$AT(e,n,a)),void 0!==a?(n._$Co??(n._$Co=[]))[a]=o:n._$Cl=o),void 0!==o&&(t=fr(e,o._$AS(e,t.values),o,a)),t}class vr{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:n}=this._$AD,a=((null==e?void 0:e.creationScope)??Js).importNode(t,!0);hr.currentNode=a;let s=hr.nextNode(),r=0,o=0,i=n[0];for(;void 0!==i;){if(r===i.index){let t;2===i.type?t=new Cr(s,s.nextSibling,this,e):1===i.type?t=new i.ctor(s,i.name,i.strings,this,e):6===i.type&&(t=new br(s,this,e)),this._$AV.push(t),i=n[++o]}r!==(null==i?void 0:i.index)&&(s=hr.nextNode(),r++)}return hr.currentNode=Js,a}p(e){let t=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class Cr{get _$AU(){var e;return(null==(e=this._$AM)?void 0:e._$AU)??this._$Cv}constructor(e,t,n,a){this.type=2,this._$AH=ur,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=a,this._$Cv=(null==a?void 0:a.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===(null==e?void 0:e.nodeType)&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=fr(this,e,t),Xs(e)?e===ur||null==e||""===e?(this._$AH!==ur&&this._$AR(),this._$AH=ur):e!==this._$AH&&e!==dr&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):(e=>Qs(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator]))(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==ur&&Xs(this._$AH)?this._$AA.nextSibling.data=e:this.T(Js.createTextNode(e)),this._$AH=e}$(e){var t;const{values:n,_$litType$:a}=e,s="number"==typeof a?this._$AC(e):(void 0===a.el&&(a.el=gr.createElement(mr(a.h,a.h[0]),this.options)),a);if((null==(t=this._$AH)?void 0:t._$AD)===s)this._$AH.p(n);else{const e=new vr(s,this),t=e.u(this.options);e.p(n),this.T(t),this._$AH=e}}_$AC(e){let t=pr.get(e.strings);return void 0===t&&pr.set(e.strings,t=new gr(e)),t}k(e){Qs(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,a=0;for(const s of e)a===t.length?t.push(n=new Cr(this.O(Ys()),this.O(Ys()),this,this.options)):n=t[a],n._$AI(s),a++;a<t.length&&(this._$AR(n&&n._$AB.nextSibling,a),t.length=a)}_$AR(e=this._$AA.nextSibling,t){var n;for(null==(n=this._$AP)||n.call(this,!1,!0,t);e!==this._$AB;){const t=Hs(e).nextSibling;Hs(e).remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$Cv=e,null==(t=this._$AP)||t.call(this,e))}}class wr{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,a,s){this.type=1,this._$AH=ur,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=s,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=ur}_$AI(e,t=this,n,a){const s=this.strings;let r=!1;if(void 0===s)e=fr(this,e,t,0),r=!Xs(e)||e!==this._$AH&&e!==dr,r&&(this._$AH=e);else{const a=e;let o,i;for(e=s[0],o=0;o<s.length-1;o++)i=fr(this,a[n+o],t,o),i===dr&&(i=this._$AH[o]),r||(r=!Xs(i)||i!==this._$AH[o]),i===ur?e=ur:e!==ur&&(e+=(i??"")+s[o+1]),this._$AH[o]=i}r&&!a&&this.j(e)}j(e){e===ur?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Er extends wr{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===ur?void 0:e}}class yr extends wr{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==ur)}}class Nr extends wr{constructor(e,t,n,a,s){super(e,t,n,a,s),this.type=5}_$AI(e,t=this){if((e=fr(this,e,t,0)??ur)===dr)return;const n=this._$AH,a=e===ur&&n!==ur||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==ur&&(n===ur||a);a&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t;"function"==typeof this._$AH?this._$AH.call((null==(t=this.options)?void 0:t.host)??this.element,e):this._$AH.handleEvent(e)}}class br{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){fr(this,e)}}const Ar=Bs.litHtmlPolyfillSupport;null==Ar||Ar(gr,Cr),(Bs.litHtmlVersions??(Bs.litHtmlVersions=[])).push("3.3.2");const Ir=globalThis;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class kr extends $s{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e;const t=super.createRenderRoot();return(e=this.renderOptions).renderBefore??(e.renderBefore=t.firstChild),t}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,t,n)=>{const a=(null==n?void 0:n.renderBefore)??t;let s=a._$litPart$;if(void 0===s){const e=(null==n?void 0:n.renderBefore)??null;a._$litPart$=s=new Cr(t.insertBefore(Ys(),e),e,void 0,n??{})}return s._$AI(e),s})(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null==(e=this._$Do)||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null==(e=this._$Do)||e.setConnected(!1)}render(){return dr}}kr._$litElement$=!0,kr.finalized=!0,null==(e=Ir.litElementHydrateSupport)||e.call(Ir,{LitElement:kr});const Sr=Ir.litElementPolyfillSupport;null==Sr||Sr({LitElement:kr}),(Ir.litElementVersions??(Ir.litElementVersions=[])).push("4.2.2");const _r={core:{backgroundAccentPrimary:"#0988F0",backgroundAccentCertified:"#C7B994",backgroundWalletKit:"#FFB800",backgroundAppKit:"#FF573B",backgroundCloud:"#0988F0",backgroundDocumentation:"#008847",backgroundSuccess:"rgba(48, 164, 107, 0.20)",backgroundError:"rgba(223, 74, 52, 0.20)",backgroundWarning:"rgba(243, 161, 63, 0.20)",textAccentPrimary:"#0988F0",textAccentCertified:"#C7B994",textWalletKit:"#FFB800",textAppKit:"#FF573B",textCloud:"#0988F0",textDocumentation:"#008847",textSuccess:"#30A46B",textError:"#DF4A34",textWarning:"#F3A13F",borderAccentPrimary:"#0988F0",borderSecondary:"#C7B994",borderSuccess:"#30A46B",borderError:"#DF4A34",borderWarning:"#F3A13F",foregroundAccent010:"rgba(9, 136, 240, 0.1)",foregroundAccent020:"rgba(9, 136, 240, 0.2)",foregroundAccent040:"rgba(9, 136, 240, 0.4)",foregroundAccent060:"rgba(9, 136, 240, 0.6)",foregroundSecondary020:"rgba(199, 185, 148, 0.2)",foregroundSecondary040:"rgba(199, 185, 148, 0.4)",foregroundSecondary060:"rgba(199, 185, 148, 0.6)",iconAccentPrimary:"#0988F0",iconAccentCertified:"#C7B994",iconSuccess:"#30A46B",iconError:"#DF4A34",iconWarning:"#F3A13F",glass010:"rgba(255, 255, 255, 0.1)",zIndex:"9999"},dark:{overlay:"rgba(0, 0, 0, 0.50)",backgroundPrimary:"#202020",backgroundInvert:"#FFFFFF",textPrimary:"#FFFFFF",textSecondary:"#9A9A9A",textTertiary:"#BBBBBB",textInvert:"#202020",borderPrimary:"#2A2A2A",borderPrimaryDark:"#363636",borderSecondary:"#4F4F4F",foregroundPrimary:"#252525",foregroundSecondary:"#2A2A2A",foregroundTertiary:"#363636",iconDefault:"#9A9A9A",iconInverse:"#FFFFFF"},light:{overlay:"rgba(230 , 230, 230, 0.5)",backgroundPrimary:"#FFFFFF",borderPrimaryDark:"#E9E9E9",backgroundInvert:"#202020",textPrimary:"#202020",textSecondary:"#9A9A9A",textTertiary:"#6C6C6C",textInvert:"#FFFFFF",borderPrimary:"#E9E9E9",borderSecondary:"#D0D0D0",foregroundPrimary:"#F3F3F3",foregroundSecondary:"#E9E9E9",foregroundTertiary:"#D0D0D0",iconDefault:"#9A9A9A",iconInverse:"#202020"}},Tr={colors:{black:"#202020",white:"#FFFFFF",white010:"rgba(255, 255, 255, 0.1)",accent010:"rgba(9, 136, 240, 0.1)",accent020:"rgba(9, 136, 240, 0.2)",accent030:"rgba(9, 136, 240, 0.3)",accent040:"rgba(9, 136, 240, 0.4)",accent050:"rgba(9, 136, 240, 0.5)",accent060:"rgba(9, 136, 240, 0.6)",accent070:"rgba(9, 136, 240, 0.7)",accent080:"rgba(9, 136, 240, 0.8)",accent090:"rgba(9, 136, 240, 0.9)",accent100:"rgba(9, 136, 240, 1.0)",accentSecondary010:"rgba(199, 185, 148, 0.1)",accentSecondary020:"rgba(199, 185, 148, 0.2)",accentSecondary030:"rgba(199, 185, 148, 0.3)",accentSecondary040:"rgba(199, 185, 148, 0.4)",accentSecondary050:"rgba(199, 185, 148, 0.5)",accentSecondary060:"rgba(199, 185, 148, 0.6)",accentSecondary070:"rgba(199, 185, 148, 0.7)",accentSecondary080:"rgba(199, 185, 148, 0.8)",accentSecondary090:"rgba(199, 185, 148, 0.9)",accentSecondary100:"rgba(199, 185, 148, 1.0)",productWalletKit:"#FFB800",productAppKit:"#FF573B",productCloud:"#0988F0",productDocumentation:"#008847",neutrals050:"#F6F6F6",neutrals100:"#F3F3F3",neutrals200:"#E9E9E9",neutrals300:"#D0D0D0",neutrals400:"#BBB",neutrals500:"#9A9A9A",neutrals600:"#6C6C6C",neutrals700:"#4F4F4F",neutrals800:"#363636",neutrals900:"#2A2A2A",neutrals1000:"#252525",semanticSuccess010:"rgba(48, 164, 107, 0.1)",semanticSuccess020:"rgba(48, 164, 107, 0.2)",semanticSuccess030:"rgba(48, 164, 107, 0.3)",semanticSuccess040:"rgba(48, 164, 107, 0.4)",semanticSuccess050:"rgba(48, 164, 107, 0.5)",semanticSuccess060:"rgba(48, 164, 107, 0.6)",semanticSuccess070:"rgba(48, 164, 107, 0.7)",semanticSuccess080:"rgba(48, 164, 107, 0.8)",semanticSuccess090:"rgba(48, 164, 107, 0.9)",semanticSuccess100:"rgba(48, 164, 107, 1.0)",semanticError010:"rgba(223, 74, 52, 0.1)",semanticError020:"rgba(223, 74, 52, 0.2)",semanticError030:"rgba(223, 74, 52, 0.3)",semanticError040:"rgba(223, 74, 52, 0.4)",semanticError050:"rgba(223, 74, 52, 0.5)",semanticError060:"rgba(223, 74, 52, 0.6)",semanticError070:"rgba(223, 74, 52, 0.7)",semanticError080:"rgba(223, 74, 52, 0.8)",semanticError090:"rgba(223, 74, 52, 0.9)",semanticError100:"rgba(223, 74, 52, 1.0)",semanticWarning010:"rgba(243, 161, 63, 0.1)",semanticWarning020:"rgba(243, 161, 63, 0.2)",semanticWarning030:"rgba(243, 161, 63, 0.3)",semanticWarning040:"rgba(243, 161, 63, 0.4)",semanticWarning050:"rgba(243, 161, 63, 0.5)",semanticWarning060:"rgba(243, 161, 63, 0.6)",semanticWarning070:"rgba(243, 161, 63, 0.7)",semanticWarning080:"rgba(243, 161, 63, 0.8)",semanticWarning090:"rgba(243, 161, 63, 0.9)",semanticWarning100:"rgba(243, 161, 63, 1.0)"},fontFamily:{regular:"KHTeka",mono:"KHTekaMono"},fontWeight:{regular:"400",medium:"500"},textSize:{h1:"50px",h2:"44px",h3:"38px",h4:"32px",h5:"26px",h6:"20px",large:"16px",medium:"14px",small:"12px"},typography:{"h1-regular-mono":{lineHeight:"50px",letterSpacing:"-3px"},"h1-regular":{lineHeight:"50px",letterSpacing:"-1px"},"h1-medium":{lineHeight:"50px",letterSpacing:"-0.84px"},"h2-regular-mono":{lineHeight:"44px",letterSpacing:"-2.64px"},"h2-regular":{lineHeight:"44px",letterSpacing:"-0.88px"},"h2-medium":{lineHeight:"44px",letterSpacing:"-0.88px"},"h3-regular-mono":{lineHeight:"38px",letterSpacing:"-2.28px"},"h3-regular":{lineHeight:"38px",letterSpacing:"-0.76px"},"h3-medium":{lineHeight:"38px",letterSpacing:"-0.76px"},"h4-regular-mono":{lineHeight:"32px",letterSpacing:"-1.92px"},"h4-regular":{lineHeight:"32px",letterSpacing:"-0.32px"},"h4-medium":{lineHeight:"32px",letterSpacing:"-0.32px"},"h5-regular-mono":{lineHeight:"26px",letterSpacing:"-1.56px"},"h5-regular":{lineHeight:"26px",letterSpacing:"-0.26px"},"h5-medium":{lineHeight:"26px",letterSpacing:"-0.26px"},"h6-regular-mono":{lineHeight:"20px",letterSpacing:"-1.2px"},"h6-regular":{lineHeight:"20px",letterSpacing:"-0.6px"},"h6-medium":{lineHeight:"20px",letterSpacing:"-0.6px"},"lg-regular-mono":{lineHeight:"16px",letterSpacing:"-0.96px"},"lg-regular":{lineHeight:"18px",letterSpacing:"-0.16px"},"lg-medium":{lineHeight:"18px",letterSpacing:"-0.16px"},"md-regular-mono":{lineHeight:"14px",letterSpacing:"-0.84px"},"md-regular":{lineHeight:"16px",letterSpacing:"-0.14px"},"md-medium":{lineHeight:"16px",letterSpacing:"-0.14px"},"sm-regular-mono":{lineHeight:"12px",letterSpacing:"-0.72px"},"sm-regular":{lineHeight:"14px",letterSpacing:"-0.12px"},"sm-medium":{lineHeight:"14px",letterSpacing:"-0.12px"}},tokens:{core:_r.core,theme:_r.dark},borderRadius:{1:"4px",2:"8px",10:"10px",3:"12px",4:"16px",6:"24px",5:"20px",8:"32px",16:"64px",20:"80px",32:"128px",64:"256px",128:"512px",round:"9999px"},spacing:{0:"0px","01":"2px",1:"4px",2:"8px",3:"12px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",9:"36px",10:"40px",12:"48px",14:"56px",16:"64px",20:"80px",32:"128px",64:"256px"},durations:{xl:"400ms",lg:"200ms",md:"125ms",sm:"75ms"},easings:{"ease-out-power-2":"cubic-bezier(0.23, 0.09, 0.08, 1.13)","ease-out-power-1":"cubic-bezier(0.12, 0.04, 0.2, 1.06)","ease-in-power-2":"cubic-bezier(0.92, -0.13, 0.77, 0.91)","ease-in-power-1":"cubic-bezier(0.88, -0.06, 0.8, 0.96)","ease-inout-power-2":"cubic-bezier(0.77, 0.09, 0.23, 1.13)","ease-inout-power-1":"cubic-bezier(0.88, 0.04, 0.12, 1.06)"}},Or="--apkt";function Rr(e){if(!e)return{};const t={};return t["font-family"]=e["--apkt-font-family"]??e["--w3m-font-family"]??"KHTeka",t.accent=e["--apkt-accent"]??e["--w3m-accent"]??"#0988F0",t["color-mix"]=e["--apkt-color-mix"]??e["--w3m-color-mix"]??"#000",t["color-mix-strength"]=e["--apkt-color-mix-strength"]??e["--w3m-color-mix-strength"]??0,t["font-size-master"]=e["--apkt-font-size-master"]??e["--w3m-font-size-master"]??"10px",t["border-radius-master"]=e["--apkt-border-radius-master"]??e["--w3m-border-radius-master"]??"4px",void 0!==e["--apkt-z-index"]?t["z-index"]=e["--apkt-z-index"]:void 0!==e["--w3m-z-index"]&&(t["z-index"]=e["--w3m-z-index"]),t}const Pr={createCSSVariables(e){const t={},n={};return function e(t,n,a=""){for(const[s,r]of Object.entries(t)){const t=a?`${a}-${s}`:s;r&&"object"==typeof r&&Object.keys(r).length?(n[s]={},e(r,n[s],t)):"string"==typeof r&&(n[s]=`${Or}-${t}`)}}(e,t),function e(t,n){for(const[a,s]of Object.entries(t))s&&"object"==typeof s?(n[a]={},e(s,n[a])):"string"==typeof s&&(n[a]=`var(${s})`)}(t,n),{cssVariables:t,cssVariablesVarPrefix:n}},assignCSSVariables(e,t){const n={};return function e(t,a,s){for(const[r,o]of Object.entries(t)){const t=s?`${s}-${r}`:r,i=a[r];o&&"object"==typeof o?e(o,i,t):"string"==typeof i&&(n[`${Or}-${t}`]=i)}}(e,t),n},createRootStyles(e,t){const n={...Tr,tokens:{...Tr.tokens,theme:"light"===e?_r.light:_r.dark}},{cssVariables:a}=Pr.createCSSVariables(n),s=Pr.assignCSSVariables(a,n),r=Pr.generateW3MVariables(t),o=Pr.generateW3MOverrides(t),i=Pr.generateScaledVariables(t),c=Pr.generateBaseVariables(s),l={...s,...c,...r,...o,...i},d=Pr.applyColorMixToVariables(t,l),u={...l,...d};return`:root {${Object.entries(u).map(([e,t])=>`${e}:${t.replace("/[:;{}</>]/g","")};`).join("")}}`},generateW3MVariables(e){if(!e)return{};const t=Rr(e),n={};return n["--w3m-font-family"]=t["font-family"],n["--w3m-accent"]=t.accent,n["--w3m-color-mix"]=t["color-mix"],n["--w3m-color-mix-strength"]=`${t["color-mix-strength"]}%`,n["--w3m-font-size-master"]=t["font-size-master"],n["--w3m-border-radius-master"]=t["border-radius-master"],n},generateW3MOverrides(e){if(!e)return{};const t=Rr(e),n={};if(e["--apkt-accent"]||e["--w3m-accent"]){const e=t.accent;n["--apkt-tokens-core-iconAccentPrimary"]=e,n["--apkt-tokens-core-borderAccentPrimary"]=e,n["--apkt-tokens-core-textAccentPrimary"]=e,n["--apkt-tokens-core-backgroundAccentPrimary"]=e}return(e["--apkt-font-family"]||e["--w3m-font-family"])&&(n["--apkt-fontFamily-regular"]=t["font-family"]),void 0!==t["z-index"]&&(n["--apkt-tokens-core-zIndex"]=`${t["z-index"]}`),n},generateScaledVariables(e){if(!e)return{};const t=Rr(e),n={};if(e["--apkt-font-size-master"]||e["--w3m-font-size-master"]){const e=parseFloat(t["font-size-master"].replace("px",""));n["--apkt-textSize-h1"]=5*Number(e)+"px",n["--apkt-textSize-h2"]=4.4*Number(e)+"px",n["--apkt-textSize-h3"]=3.8*Number(e)+"px",n["--apkt-textSize-h4"]=3.2*Number(e)+"px",n["--apkt-textSize-h5"]=2.6*Number(e)+"px",n["--apkt-textSize-h6"]=2*Number(e)+"px",n["--apkt-textSize-large"]=1.6*Number(e)+"px",n["--apkt-textSize-medium"]=1.4*Number(e)+"px",n["--apkt-textSize-small"]=1.2*Number(e)+"px"}if(e["--apkt-border-radius-master"]||e["--w3m-border-radius-master"]){const e=parseFloat(t["border-radius-master"].replace("px",""));n["--apkt-borderRadius-1"]=`${Number(e)}px`,n["--apkt-borderRadius-2"]=2*Number(e)+"px",n["--apkt-borderRadius-3"]=3*Number(e)+"px",n["--apkt-borderRadius-4"]=4*Number(e)+"px",n["--apkt-borderRadius-5"]=5*Number(e)+"px",n["--apkt-borderRadius-6"]=6*Number(e)+"px",n["--apkt-borderRadius-8"]=8*Number(e)+"px",n["--apkt-borderRadius-16"]=16*Number(e)+"px",n["--apkt-borderRadius-20"]=20*Number(e)+"px",n["--apkt-borderRadius-32"]=32*Number(e)+"px",n["--apkt-borderRadius-64"]=64*Number(e)+"px",n["--apkt-borderRadius-128"]=128*Number(e)+"px"}return n},generateColorMixCSS(e,t){if(!(null==e?void 0:e["--w3m-color-mix"])||!e["--w3m-color-mix-strength"])return"";const n=e["--w3m-color-mix"],a=e["--w3m-color-mix-strength"];if(!a||0===a)return"";const s=Object.keys(t||{}).filter(e=>{const t=e.includes("-tokens-core-background")||e.includes("-tokens-core-text")||e.includes("-tokens-core-border")||e.includes("-tokens-core-foreground")||e.includes("-tokens-core-icon")||e.includes("-tokens-theme-background")||e.includes("-tokens-theme-text")||e.includes("-tokens-theme-border")||e.includes("-tokens-theme-foreground")||e.includes("-tokens-theme-icon"),n=e.includes("-borderRadius-")||e.includes("-spacing-")||e.includes("-textSize-")||e.includes("-fontFamily-")||e.includes("-fontWeight-")||e.includes("-typography-")||e.includes("-duration-")||e.includes("-ease-")||e.includes("-path-")||e.includes("-width-")||e.includes("-height-")||e.includes("-visual-size-")||e.includes("-modal-width")||e.includes("-cover");return t&&!n});if(0===s.length)return"";return` @supports (background: color-mix(in srgb, white 50%, black)) {\n      :root {\n        ${s.map(e=>{const s=(null==t?void 0:t[e])||"";return s.includes("color-mix")||s.startsWith("#")||s.startsWith("rgb")?`${e}: color-mix(in srgb, ${n} ${a}%, ${s});`:`${e}: color-mix(in srgb, ${n} ${a}%, var(${e}-base, ${s}));`}).join("")}\n      }\n    }`},generateBaseVariables(e){const t={},n=e["--apkt-tokens-theme-backgroundPrimary"];n&&(t["--apkt-tokens-theme-backgroundPrimary-base"]=n);const a=e["--apkt-tokens-core-backgroundAccentPrimary"];return a&&(t["--apkt-tokens-core-backgroundAccentPrimary-base"]=a),t},applyColorMixToVariables(e,t){const n={};(null==t?void 0:t["--apkt-tokens-theme-backgroundPrimary"])&&(n["--apkt-tokens-theme-backgroundPrimary"]="var(--apkt-tokens-theme-backgroundPrimary-base)"),(null==t?void 0:t["--apkt-tokens-core-backgroundAccentPrimary"])&&(n["--apkt-tokens-core-backgroundAccentPrimary"]="var(--apkt-tokens-core-backgroundAccentPrimary-base)");const a=Rr(e),s=a["color-mix"],r=a["color-mix-strength"];if(!r||0===r)return n;const o=Object.keys(t||{}).filter(e=>{const t=e.includes("-tokens-core-background")||e.includes("-tokens-core-text")||e.includes("-tokens-core-border")||e.includes("-tokens-core-foreground")||e.includes("-tokens-core-icon")||e.includes("-tokens-theme-background")||e.includes("-tokens-theme-text")||e.includes("-tokens-theme-border")||e.includes("-tokens-theme-foreground")||e.includes("-tokens-theme-icon")||e.includes("-tokens-theme-overlay"),n=e.includes("-borderRadius-")||e.includes("-spacing-")||e.includes("-textSize-")||e.includes("-fontFamily-")||e.includes("-fontWeight-")||e.includes("-typography-")||e.includes("-duration-")||e.includes("-ease-")||e.includes("-path-")||e.includes("-width-")||e.includes("-height-")||e.includes("-visual-size-")||e.includes("-modal-width")||e.includes("-cover");return t&&!n});return 0===o.length||o.forEach(e=>{const a=(null==t?void 0:t[e])||"";e.endsWith("-base")||("--apkt-tokens-theme-backgroundPrimary"===e||"--apkt-tokens-core-backgroundAccentPrimary"===e?n[e]=`color-mix(in srgb, ${s} ${r}%, var(${e}-base))`:a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?n[e]=`color-mix(in srgb, ${s} ${r}%, ${a})`:n[e]=`color-mix(in srgb, ${s} ${r}%, var(${e}-base, ${a}))`)}),n}},{cssVariablesVarPrefix:Ur}=Pr.createCSSVariables(Tr);function xr(e,...t){return As(e,...t.map(e=>bs("function"==typeof e?e(Ur):e)))}let Dr,Mr,Lr,Wr,Fr;const $r={"KHTeka-500-woff2":"https://fonts.reown.com/KHTeka-Medium.woff2","KHTeka-400-woff2":"https://fonts.reown.com/KHTeka-Regular.woff2","KHTeka-300-woff2":"https://fonts.reown.com/KHTeka-Light.woff2","KHTekaMono-400-woff2":"https://fonts.reown.com/KHTekaMono-Regular.woff2","KHTeka-500-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTeka-400-woff":"https://fonts.reown.com/KHTeka-Regular.woff","KHTeka-300-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTekaMono-400-woff":"https://fonts.reown.com/KHTekaMono-Regular.woff"};function Br(e,t="dark"){Dr&&document.head.removeChild(Dr),Dr=document.createElement("style"),Dr.textContent=Pr.createRootStyles(t,e),document.head.appendChild(Dr)}function Hr(e,t="dark"){Fr=e,Mr=document.createElement("style"),Lr=document.createElement("style"),Wr=document.createElement("style"),Mr.textContent=Vr(e).core.cssText,Lr.textContent=Vr(e).dark.cssText,Wr.textContent=Vr(e).light.cssText,document.head.appendChild(Mr),document.head.appendChild(Lr),document.head.appendChild(Wr),Br(e,t),jr(t);if(!((null==e?void 0:e["--apkt-font-family"])||(null==e?void 0:e["--w3m-font-family"])))for(const[n,a]of Object.entries($r)){const e=document.createElement("link");e.rel="preload",e.href=a,e.as="font",e.type=n.includes("woff2")?"font/woff2":"font/woff",e.crossOrigin="anonymous",document.head.appendChild(e)}jr(t)}function jr(e="dark"){Lr&&Wr&&Dr&&("light"===e?(Br(Fr,e),Lr.removeAttribute("media"),Wr.media="enabled"):(Br(Fr,e),Wr.removeAttribute("media"),Lr.media="enabled"))}function Vr(e){const t=Boolean((null==e?void 0:e["--apkt-font-family"])||(null==e?void 0:e["--w3m-font-family"]));return{core:As`
      ${t?As``:As`
            @font-face {
              font-family: 'KHTeka';
              src:
                url(${bs($r["KHTeka-400-woff2"])}) format('woff2'),
                url(${bs($r["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
              font-display: swap;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${bs($r["KHTeka-300-woff2"])}) format('woff2'),
                url(${bs($r["KHTeka-300-woff"])}) format('woff');
              font-weight: 300;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTekaMono';
              src:
                url(${bs($r["KHTekaMono-400-woff2"])}) format('woff2'),
                url(${bs($r["KHTekaMono-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${bs($r["KHTeka-400-woff2"])}) format('woff2'),
                url(${bs($r["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }
          `}

      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --apkt-modal-width: 370px;

        --apkt-visual-size-inherit: inherit;
        --apkt-visual-size-sm: 40px;
        --apkt-visual-size-md: 55px;
        --apkt-visual-size-lg: 80px;

        --apkt-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --apkt-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --apkt-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --apkt-width-network-sm: 36px;
        --apkt-width-network-md: 48px;
        --apkt-width-network-lg: 86px;

        --apkt-duration-dynamic: 0ms;
        --apkt-height-network-sm: 40px;
        --apkt-height-network-md: 54px;
        --apkt-height-network-lg: 96px;
      }
    `,dark:As`
      :root {
      }
    `,light:As`
      :root {
      }
    `}}const Kr=As`
  div,
  span,
  iframe,
  a,
  img,
  form,
  button,
  label,
  *::after,
  *::before {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    backface-visibility: hidden;
  }

  :host {
    font-family: var(--apkt-fontFamily-regular);
  }
`,qr=As`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;

    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
    outline: none;
    border: none;
    text-decoration: none;
    transition:
      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
    will-change:
      background-color, color, border, box-shadow, width, height, transform, opacity, scale,
      border-radius;
  }

  a:active:not([disabled]),
  button:active:not([disabled]) {
    scale: 0.975;
    transform-origin: center;
  }

  button:disabled {
    cursor: default;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,zr=l.CHAIN.EVM,Gr="WALLET_CONNECT",Jr="INJECTED",Yr="ANNOUNCED",Xr="AUTH",Qr={NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700","-239":"20f673c0-095e-49b2-07cf-eb5049dcf600","-3":"20f673c0-095e-49b2-07cf-eb5049dcf600"}},Zr={getCaipTokens(e){if(!e)return;const t={};return Object.entries(e).forEach(([e,n])=>{t[`${zr}:${e}`]=n}),t},isLowerCaseMatch:(e,t)=>(null==e?void 0:e.toLowerCase())===(null==t?void 0:t.toLowerCase()),getActiveNamespaceConnectedToAuth(){const e=za.state.activeChain;return l.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(t=>fa.getConnectorId(t)===l.CONNECTOR_ID.AUTH&&t===e)},withRetry({conditionFn:e,intervalMs:t,maxRetries:n}){let a=0;return new Promise(s=>{!async function r(){return a+=1,await e()?s(!0):a>=n?s(!1):(setTimeout(r,t),null)}()})},userChainIdToChainNamespace(e){if("number"==typeof e)return l.CHAIN.EVM;const[t]=e.split(":");return t},getOtherAuthNamespaces(e){if(!e)return[];return l.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(t=>t!==e)},getConnectorStorageInfo(e,t){const n=fe.getConnections()[t]??[];return{hasDisconnected:fe.isConnectorDisconnected(e,t),hasConnected:n.some(t=>Zr.isLowerCaseMatch(t.connectorId,e))}}},eo={EmbeddedWalletAbortController:new AbortController,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${W()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com. [PID: ${_n.state.projectId}]`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your systemâ€™s date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:e=>`Unable to fetch App Configuration. ${e}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:e=>`[Reown Config Notice] ${e}`},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(e,t)=>`An error occurred while connecting an inactive namespace ${e}: "${t}"`},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}},to={TOKEN_ADDRESSES_BY_SYMBOL:{USDC:{8453:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",84532:"0x036CbD53842c5426634e7929541eC2318f3dCF7e"}},getTokenSymbolByAddress(e){if(!e)return;const[t]=Object.entries(to.TOKEN_ADDRESSES_BY_SYMBOL).find(([t,n])=>Object.values(n).includes(e))??[];return t}},no={createLogger(e,t="error"){const n=a({level:t}),{logger:r}=s({opts:n});return r.error=(...t)=>{for(const n of t)if(n instanceof Error)return void e(n,...t);e(void 0,...t)},r}};function ao(e,t){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()}const so=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],ro={extendRpcUrlWithProjectId(e,t){let n=!1;try{n="rpc.walletconnect.org"===new URL(e).host}catch(a){n=!1}if(n){const n=new URL(e);return n.searchParams.has("projectId")||n.searchParams.set("projectId",t),n.toString()}return e},isCaipNetwork:e=>"chainNamespace"in e&&"caipNetworkId"in e,getChainNamespace(e){return this.isCaipNetwork(e)?e.chainNamespace:l.CHAIN.EVM},getCaipNetworkId(e){return this.isCaipNetwork(e)?e.caipNetworkId:`${l.CHAIN.EVM}:${e.id}`},getDefaultRpcUrl(e,t,n){var a,s,r;const o=null==(r=null==(s=null==(a=e.rpcUrls)?void 0:a.default)?void 0:s.http)?void 0:r[0];return so.includes(t)?ao(t,n):o||""},extendCaipNetwork(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:a}){var s,r,o,i,c,l,d;const u=this.getChainNamespace(e),p=this.getCaipNetworkId(e),h=null==(o=null==(r=null==(s=e.rpcUrls)?void 0:s.default)?void 0:r.http)?void 0:o[0],m=this.getDefaultRpcUrl(e,p,n),g=(null==(l=null==(c=null==(i=null==e?void 0:e.rpcUrls)?void 0:i.chainDefault)?void 0:c.http)?void 0:l[0])||h,f=(null==(d=null==a?void 0:a[p])?void 0:d.map(e=>e.url))||[],v=[...f,...m?[m]:[]],C=[...f];return g&&!C.includes(g)&&C.push(g),{...e,chainNamespace:u,caipNetworkId:p,assets:{imageId:Qr.NetworkImageIds[e.id],imageUrl:null==t?void 0:t[e.id]},rpcUrls:{...e.rpcUrls,default:{http:v},chainDefault:{http:C}}}},extendCaipNetworks:(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:a})=>e.map(e=>ro.extendCaipNetwork(e,{customNetworkImageUrls:t,customRpcUrls:a,projectId:n})),getViemTransport(e,t,n){var a,s,r;const o=[];return null==n||n.forEach(e=>{o.push(bn(e.url,e.config))}),so.includes(e.caipNetworkId)&&o.push(bn(ao(e.caipNetworkId,t),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),null==(r=null==(s=null==(a=null==e?void 0:e.rpcUrls)?void 0:a.default)?void 0:s.http)||r.forEach(e=>{o.push(bn(e))}),En(o)},extendWagmiTransports(e,t,n){if(so.includes(e.caipNetworkId)){return En([n,bn(this.getDefaultRpcUrl(e,e.caipNetworkId,t))])}return n},getUnsupportedNetwork:e=>({id:e.split(":")[1],caipNetworkId:e,name:l.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}),getCaipNetworkFromStorage(e){var t;const n=fe.getActiveCaipNetworkId(),a=za.getAllRequestedCaipNetworks(),s=Array.from((null==(t=za.state.chains)?void 0:t.keys())||[]),r=null==n?void 0:n.split(":")[0],o=!!r&&s.includes(r),i=null==a?void 0:a.find(e=>e.caipNetworkId===n);return o&&!i&&n?this.getUnsupportedNetwork(n):i||(e||(null==a?void 0:a[0]))}},oo=4902,io=5e3,co=32603;class lo extends us{async setUniversalProvider(e){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new ms({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{const e=this.getWalletConnectConnector();await e.disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async writeSolanaTransaction(){return Promise.resolve({hash:""})}async getAccounts({namespace:e}){var t,n,a,s;const r=this.provider,o=(null==(s=null==(a=null==(n=null==(t=null==r?void 0:r.session)?void 0:t.namespaces)?void 0:n[e])?void 0:a.accounts)?void 0:s.map(e=>{const[,,t]=e.split(":");return t}).filter((e,t,n)=>n.indexOf(e)===t))||[];return Promise.resolve({accounts:o.map(t=>ve.createAccount(e,t,"bip122"===e?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var t,n,a,s,r;if(!(e.caipNetwork&&ge.BALANCE_SUPPORTED_CHAINS.includes(null==(t=e.caipNetwork)?void 0:t.chainNamespace))||(null==(n=e.caipNetwork)?void 0:n.testnet))return{balance:"0.00",symbol:(null==(a=e.caipNetwork)?void 0:a.nativeCurrency.symbol)||""};const o=za.getAccountData();if((null==o?void 0:o.balanceLoading)&&e.chainId===(null==(s=za.state.activeCaipNetwork)?void 0:s.id))return{balance:(null==o?void 0:o.balance)||"0.00",symbol:(null==o?void 0:o.balanceSymbol)||""};const i=(await za.fetchTokenBalance()).find(t=>{var n,a;return t.chainId===`${null==(n=e.caipNetwork)?void 0:n.chainNamespace}:${e.chainId}`&&t.symbol===(null==(a=e.caipNetwork)?void 0:a.nativeCurrency.symbol)});return{balance:(null==i?void 0:i.quantity.numeric)||"0.00",symbol:(null==i?void 0:i.symbol)||(null==(r=e.caipNetwork)?void 0:r.nativeCurrency.symbol)||""}}async signMessage(e){var t,n,a;const{provider:s,message:o,address:i}=e;if(!s)throw new Error("UniversalAdapter:signMessage - provider is undefined");let c="";if((null==(t=za.state.activeCaipNetwork)?void 0:t.chainNamespace)===l.CHAIN.SOLANA){c=(await s.request({method:"solana_signMessage",params:{message:r.encode((new TextEncoder).encode(o)),pubkey:i}},null==(n=za.state.activeCaipNetwork)?void 0:n.caipNetworkId)).signature}else c=await s.request({method:"personal_sign",params:[o,i]},null==(a=za.state.activeCaipNetwork)?void 0:a.caipNetworkId);return{signature:c}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var t,n,a,s,r,o;const{caipNetwork:i}=e,c=this.getWalletConnectConnector();if(i.chainNamespace===l.CHAIN.EVM)try{await(null==(t=c.provider)?void 0:t.request({method:"wallet_switchEthereumChain",params:[{chainId:Ke(i.id)}]}))}catch(d){if(d.code===oo||d.code===co||d.code===io||(null==(a=null==(n=null==d?void 0:d.data)?void 0:n.originalError)?void 0:a.code)===oo)try{await(null==(o=c.provider)?void 0:o.request({method:"wallet_addEthereumChain",params:[{chainId:Ke(i.id),rpcUrls:[null==(s=null==i?void 0:i.rpcUrls.chainDefault)?void 0:s.http],chainName:i.name,nativeCurrency:i.nativeCurrency,blockExplorerUrls:[null==(r=i.blockExplorers)?void 0:r.default.url]}]}))}catch(u){throw new Error("Chain is not supported")}}c.provider.setDefaultChain(i.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(e=>"WALLET_CONNECT"===e.type);return null==e?void 0:e.provider}}const uo=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication","headless"],po={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!(null==e?void 0:e.config))return!1;const t=e.config;return Boolean(e.isEnabled)&&t.includes("email")},processFallback:e=>void 0===e?ge.DEFAULT_REMOTE_FEATURES.email:Boolean(e)},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!(null==e?void 0:e.config))return!1;const t=e.config;return!!(Boolean(e.isEnabled)&&t.length>0)&&t.filter(e=>"email"!==e)},processFallback:e=>void 0===e?ge.DEFAULT_REMOTE_FEATURES.socials:"boolean"==typeof e?!!e&&ge.DEFAULT_REMOTE_FEATURES.socials:e},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!(null==e?void 0:e.config))return!1;const t=e.config;return!!(Boolean(e.isEnabled)&&t.length>0)&&t},processFallback:e=>void 0===e?ge.DEFAULT_REMOTE_FEATURES.swaps:"boolean"==typeof e?!!e&&ge.DEFAULT_REMOTE_FEATURES.swaps:e},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!(null==e?void 0:e.config))return!1;const t=e.config;return!!(Boolean(e.isEnabled)&&t.length>0)&&t},processFallback:e=>void 0===e?ge.DEFAULT_REMOTE_FEATURES.onramp:"boolean"==typeof e?!!e&&ge.DEFAULT_REMOTE_FEATURES.onramp:e},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:e=>Boolean(e.isEnabled),processFallback:e=>void 0===e?ge.DEFAULT_REMOTE_FEATURES.activity:Boolean(e)},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>Boolean(e.isEnabled),processFallback:e=>void 0===e?ge.DEFAULT_REMOTE_FEATURES.reownBranding:Boolean(e)},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>e.isEnabled&&(e.config??[]),processFallback:e=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>Boolean(e.isEnabled),processFallback:()=>ge.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>Boolean(e.isEnabled),processFallback:()=>ge.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>Boolean(e.isEnabled),processFallback:()=>ge.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>Boolean(e.isEnabled),processFallback:e=>void 0===e?ge.DEFAULT_REMOTE_FEATURES.reownAuthentication:Boolean(e)},headless:{apiFeatureName:"headless",localFeatureName:"headless",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>Boolean(e.isEnabled),processFallback:()=>ge.DEFAULT_REMOTE_FEATURES.headless}},ho={localSettingsOverridden:new Set,getApiConfig:(e,t)=>null==t?void 0:t.find(t=>t.id===e),addWarning(e,t){if(void 0!==e){const e=po[t],n=e.isLegacy?`"features.${e.localFeatureName}" (now "${t}")`:`"features.${t}"`;this.localSettingsOverridden.add(n)}},processFeature(e,t,n,a,s){const r=po[e],o=t[r.localFeatureName];if(s&&!r.isAvailableOnBasic)return!1;if(a){const t=this.getApiConfig(r.apiFeatureName,n);return null===(null==t?void 0:t.config)?this.processFallbackFeature(e,o):!!(null==t?void 0:t.config)&&(void 0!==o&&this.addWarning(o,e),this.processApiFeature(e,t))}return this.processFallbackFeature(e,o)},processApiFeature:(e,t)=>po[e].processApi(t),processFallbackFeature:(e,t)=>po[e].processFallback(t),async fetchRemoteFeatures(e){const t=e.basic??!1,n=e.features||{};this.localSettingsOverridden.clear();let a=null,s=!1;try{a=await sa.fetchProjectConfig(),s=null!=a}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const r=s&&!t?ge.DEFAULT_REMOTE_FEATURES:ge.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const e of uo){const o=this.processFeature(e,n,a,s,t);Object.assign(r,{[e]:o})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),ge.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const e=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;vs.open({debugMessage:eo.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(e)},"warning")}return r}};class mo{constructor(e){this.chainNamespaces=[],this.features={},this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(e,t)=>{var n,a,s;if(e){const r=null==(n=za.getCaipNetworks(e))?void 0:n.find(e=>e.id===t);if(r)return r;const o=null==(a=za.getNetworkData(e))?void 0:a.caipNetwork;if(o)return o;return null==(s=za.getRequestedCaipNetworks(e).filter(t=>t.chainNamespace===e))?void 0:s[0]}return za.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const e=this.getCaipNetwork();if(e)return e.id},this.getCaipNetworks=e=>za.getCaipNetworks(e),this.getActiveChainNamespace=()=>za.state.activeChain,this.setRequestedCaipNetworks=(e,t)=>{za.setRequestedCaipNetworks(e,t)},this.getApprovedCaipNetworkIds=()=>za.getAllApprovedCaipNetworkIds(),this.getCaipAddress=e=>{var t,n;return za.state.activeChain!==e&&e?null==(n=null==(t=za.state.chains.get(e))?void 0:t.accountState)?void 0:n.caipAddress:za.state.activeCaipAddress},this.setClientId=e=>{Dn.setClientId(e)},this.getProvider=e=>Fa.getProvider(e),this.getProviderType=e=>Fa.getProviderId(e),this.getPreferredAccountType=e=>Ea(e),this.setCaipAddress=(e,t,n=!1)=>{za.setAccountProp("caipAddress",e,t,n),za.setAccountProp("address",ve.getPlainAddress(e),t,n)},this.setBalance=(e,t,n)=>{za.setAccountProp("balance",e,n),za.setAccountProp("balanceSymbol",t,n)},this.setProfileName=(e,t)=>{za.setAccountProp("profileName",e,t)},this.setProfileImage=(e,t)=>{za.setAccountProp("profileImage",e,t)},this.setUser=(e,t)=>{za.setAccountProp("user",e,t)},this.resetAccount=e=>{za.resetAccount(e)},this.setCaipNetwork=e=>{za.setActiveCaipNetwork(e)},this.setCaipNetworkOfNamespace=(e,t)=>{za.setChainNetworkData(t,{caipNetwork:e})},this.setStatus=(e,t)=>{za.setAccountProp("status",e,t),fa.isConnected()?fe.setConnectionStatus("connected"):fe.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=e=>{var t;return null==(t=za.getAccountData(e))?void 0:t.address},this.setConnectors=e=>{const t=[...fa.state.allConnectors,...e];fa.setConnectors(t)},this.setConnections=(e,t)=>{fe.setConnections(e,t),Ta.setConnections(e,t)},this.fetchIdentity=e=>Dn.fetchIdentity(e),this.getReownName=e=>ss.getNamesForAddress(e),this.getConnectors=()=>fa.getConnectors(),this.getConnectorImage=e=>zn.getConnectorImage(e),this.getConnections=e=>this.remoteFeatures.multiWallet?Na.getConnectionsData(e).connections:(vs.open(l.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=e=>this.remoteFeatures.multiWallet?Na.getConnectionsData(e).recentConnections:(vs.open(l.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async e=>{this.remoteFeatures.multiWallet?await Ta.switchConnection(e):vs.open(l.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info")},this.deleteConnection=e=>{this.remoteFeatures.multiWallet?(fe.deleteAddressFromConnection(e),Ta.syncStorageConnections()):vs.open(l.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info")},this.setConnectedWalletInfo=(e,t)=>{const n=Fa.getProviderId(t),a=e?{...e,type:n}:void 0;za.setAccountProp("connectedWalletInfo",a,t)},this.getIsConnectedState=()=>Boolean(za.state.activeCaipAddress),this.addAddressLabel=(e,t,n)=>{var a;const s=(null==(a=za.getAccountData(n))?void 0:a.addressLabels)||{};za.setAccountProp("addressLabels",{...s,[e]:t},n)},this.removeAddressLabel=(e,t)=>{var n;const a=(null==(n=za.getAccountData(t))?void 0:n.addressLabels)||{};za.setAccountProp("addressLabels",{...a,[e]:void 0},t)},this.getAddress=e=>{var t;const n=e||za.state.activeChain;return null==(t=za.getAccountData(n))?void 0:t.address},this.resetNetwork=e=>{za.resetNetwork(e)},this.addConnector=e=>{fa.addConnector(e)},this.resetWcConnection=()=>{Ta.resetWcConnection()},this.setAddressExplorerUrl=(e,t)=>{za.setAccountProp("addressExplorerUrl",e,t)},this.setSmartAccountDeployed=(e,t)=>{za.setAccountProp("smartAccountDeployed",e,t)},this.setPreferredAccountType=(e,t)=>{za.setAccountProp("preferredAccountType",e,t)},this.setEIP6963Enabled=e=>{_n.setEIP6963Enabled(e)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,t){const n=null==e?void 0:e.map(e=>e.namespace).filter(e=>Boolean(e));if(null==n?void 0:n.length)return[...new Set(n)];const a=null==t?void 0:t.map(e=>e.chainNamespace);return[...new Set(a)]}async initialize(e){var n,a,s,r,o,i;if(this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),(null==(n=e.features)?void 0:n.headless)&&!oa.hasInjectedConnectors()&&sa.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1,fetchRecommendedWallets:!0}),_n.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),e.basic||e.manualWCControl||(this.remoteFeatures=await ho.fetchRemoteFeatures(e)),await sa.fetchUsage(),_n.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&es.setOnrampProviders(this.remoteFeatures.onramp),((null==(a=_n.state.remoteFeatures)?void 0:a.email)||Array.isArray(null==(s=_n.state.remoteFeatures)?void 0:s.socials)&&(null==(r=_n.state.remoteFeatures)?void 0:r.socials.length)>0)&&await this.checkAllowedOrigins(),(null==(o=_n.state.features)?void 0:o.reownAuthentication)||(null==(i=_n.state.remoteFeatures)?void 0:i.reownAuthentication)){const{ReownAuthentication:e}=await t(async()=>{const{ReownAuthentication:e}=await import("..-node_modules-@reown-appkit-controllers-dist-esm-exports-features.BOsQLaQ5.js");return{ReownAuthentication:e}},__vite__mapDeps([5,3,2,4,1]),import.meta.url),n=_n.state.siwx;n instanceof e||(n&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),_n.setSIWX(new e))}}async openSend(e){var t;const n=e.namespace||za.state.activeChain,a=this.getCaipAddress(n),s=null==(t=this.getCaipNetwork(n))?void 0:t.id;if(!a)throw new Error("openSend: caipAddress not found");if((null==s?void 0:s.toString())!==e.chainId.toString()){const t=za.getCaipNetworkById(e.chainId,n);if(!t)throw new Error(`openSend: caipNetwork with chainId ${e.chainId} not found`);await this.switchNetwork(t,{throwOnFailure:!0})}try{const t=to.getTokenSymbolByAddress(e.assetAddress);t&&await sa.fetchTokenImages([t])}catch{}return await Ya.open({view:"WalletSend",data:{send:e}}),new Promise((e,t)=>{const n=Ha.subscribeKey("hash",t=>{t&&(s(),e({hash:t}))}),a=Ya.subscribe(e=>{e.open||(s(),t(new Error("Modal closed")))}),s=this.createCleanupHandler([n,a])})}toModalOptions(){return{isSwap:function(e){return"Swap"===(null==e?void 0:e.view)},isSend:function(e){return"WalletSend"===(null==e?void 0:e.view)}}}async checkAllowedOrigins(){try{const e=await sa.fetchAllowedOrigins();if(!ve.isClient())return;const t=window.location.origin;ls.isOriginAllowed(t,e,l.DEFAULT_ALLOWED_ANCESTORS)||vs.open(eo.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error))return;switch(e.message){case"RATE_LIMITED":vs.open(eo.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const t=e.cause instanceof Error?e.cause:e;vs.open({displayMessage:eo.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:eo.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(t.message)},"error");break}}}}createCleanupHandler(e){return()=>{e.forEach(e=>{try{e()}catch{}})}}sendInitializeEvent(e){var t;const{...n}=e;delete n.adapters,delete n.universalProvider,ea.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(e=>e.id),siweConfig:{options:(null==(t=e.siweConfig)?void 0:t.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initAdapterController(){Ma.initialize(this.chainAdapters)}initializeThemeController(e){e.themeMode&&pa.setThemeMode(e.themeMode),e.themeVariables&&pa.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient)throw new Error("ConnectionControllerClient must be set");za.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient});const t=this.getDefaultNetwork();t&&za.setActiveCaipNetwork(t)}initializeConnectionController(e){Ta.initialize(e.adapters??[]),Ta.setWcBasic(e.basic??!1)}initializeConnectorController(){fa.initialize(this.chainNamespaces)}initializeProjectSettings(e){_n.setProjectId(e.projectId),_n.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var t;_n.setDebug(!1!==e.debug),_n.setEnableWalletGuide(!1!==e.enableWalletGuide),_n.setEnableWallets(!1!==e.enableWallets),_n.setEIP6963Enabled(!1!==e.enableEIP6963),_n.setEnableNetworkSwitch(!1!==e.enableNetworkSwitch),_n.setEnableReconnect(!1!==e.enableReconnect),_n.setEnableMobileFullScreen(!0===e.enableMobileFullScreen),_n.setCoinbasePreference(e.coinbasePreference),_n.setEnableAuthLogger(!1!==e.enableAuthLogger),_n.setCustomRpcUrls(e.customRpcUrls),_n.setEnableEmbedded(e.enableEmbedded),_n.setAllWallets(e.allWallets),_n.setIncludeWalletIds(e.includeWalletIds),_n.setExcludeWalletIds(e.excludeWalletIds),_n.setFeaturedWalletIds(e.featuredWalletIds),_n.setTokens(e.tokens),_n.setTermsConditionsUrl(e.termsConditionsUrl),_n.setPrivacyPolicyUrl(e.privacyPolicyUrl),_n.setCustomWallets(e.customWallets),_n.setFeatures(e.features),_n.setAllowUnsupportedChain(e.allowUnsupportedChain),_n.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),_n.setPreferUniversalLinks(e.experimental_preferUniversalLinks),_n.setDefaultAccountTypes(e.defaultAccountTypes);const n=this.getDefaultMetaData();if(!e.metadata&&n&&(e.metadata=n),_n.setMetadata(e.metadata),_n.setDisableAppend(e.disableAppend),_n.setEnableEmbedded(e.enableEmbedded),_n.setSIWX(e.siwx),this.features=_n.state.features??{},!e.projectId)return void vs.open(eo.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");if((null==(t=e.adapters)?void 0:t.find(e=>e.namespace===l.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");_n.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,t,n,a;return ve.isClient()?{name:(null==(t=null==(e=document.getElementsByTagName("title"))?void 0:e[0])?void 0:t.textContent)||"",description:(null==(n=document.querySelector('meta[property="og:description"]'))?void 0:n.content)||"",url:window.location.origin,icons:[(null==(a=document.querySelector('link[rel~="icon"]'))?void 0:a.href)||""]}:null}setUnsupportedNetwork(e){const t=this.getActiveChainNamespace();if(t){const n=ro.getUnsupportedNetwork(`${t}:${e}`);za.setActiveCaipNetwork(n)}}getDefaultNetwork(){return ro.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,t){return ro.extendCaipNetwork(e,{customNetworkImageUrls:t.chainImages,projectId:t.projectId})}extendCaipNetworks(e){return ro.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const t=e.networks.find(t=>{var n;return t.id===(null==(n=e.defaultNetwork)?void 0:n.id)});return t?ro.extendCaipNetwork(t,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectConnector(e,t){var n,a;try{this.setLoading(!0,e);let s={connections:[]};const r=this.getAdapter(e);return!(null==(a=null==(n=za.state.chains.get(e))?void 0:n.accountState)?void 0:a.caipAddress)&&_n.state.enableReconnect||!(null==r?void 0:r.disconnect)||(s=await r.disconnect({id:t})),this.setLoading(!1,e),s}catch(s){throw this.setLoading(!1,e),new Error(`Failed to disconnect chains: ${s.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var e;const t=za.state.activeChain,n=this.getAdapter(t),a=null==(e=this.getCaipNetwork(t))?void 0:e.id,s=Ta.getConnections(t),r=this.remoteFeatures.multiWallet,o=s.length>0;if(!n)throw new Error("Adapter not found");const i=await n.connectWalletConnect(a);(!o||!r)&&this.close(),this.setClientId((null==i?void 0:i.clientId)||null),fe.setConnectedNamespaces([...za.state.chains.keys()]),await this.syncWalletConnectAccount(),await hs.initializeIfEnabled()},connectExternal:async e=>{const t=await this.onConnectExternal(e);return await this.connectInactiveNamespaces(e,t),t?{address:t.address}:void 0},reconnectExternal:async({id:e,info:t,type:n,provider:a})=>{var s;const r=za.state.activeChain,o=this.getAdapter(r);if(!r)throw new Error("reconnectExternal: namespace not found");if(!o)throw new Error("reconnectExternal: adapter not found");(null==o?void 0:o.reconnect)&&(await(null==o?void 0:o.reconnect({id:e,info:t,type:n,provider:a,chainId:null==(s=this.getCaipNetwork())?void 0:s.id})),fe.addConnectedNamespace(r),this.syncConnectedWalletInfo(r))},disconnectConnector:async e=>{await this.disconnectConnector(e.namespace,e.id)},disconnect:async e=>{var t;const{id:n,chainNamespace:a,initialDisconnect:s}=e||{},r=a||za.state.activeChain,o=fa.getConnectorId(r),i=n===l.CONNECTOR_ID.AUTH||o===l.CONNECTOR_ID.AUTH,c=n===l.CONNECTOR_ID.WALLET_CONNECT||o===l.CONNECTOR_ID.WALLET_CONNECT;try{const e=Array.from(za.state.chains.keys());let r=a?[a]:e;(c||i)&&(r=e);const o=r.map(async e=>{const t=fa.getConnectorId(e),a=n||t,r=await this.disconnectConnector(e,a);r&&(i&&fe.deleteConnectedSocialProvider(),r.connections.forEach(t=>{fe.addDisconnectedConnectorId(t.connectorId,e)})),s&&this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}),l=await Promise.allSettled(o);Ha.resetSend(),Ta.resetWcConnection(),(null==(t=hs.getSIWX())?void 0:t.signOutOnDisconnect)&&await hs.clearSessions(),fa.setFilterByNamespace(void 0),Ta.syncStorageConnections();const d=l.filter(e=>"rejected"===e.status);if(d.length>0)throw new Error(d.map(e=>e.reason.message).join(", "));ea.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:a||"all"}})}catch(d){throw new Error(`Failed to disconnect chains: ${d.message}`)}},checkInstalled:e=>e?e.some(e=>{var t;return Boolean(null==(t=window.ethereum)?void 0:t[String(e)])}):Boolean(window.ethereum),signMessage:async e=>{const t=za.state.activeChain,n=this.getAdapter(za.state.activeChain);if(!t)throw new Error("signMessage: namespace not found");if(!n)throw new Error("signMessage: adapter not found");const a=this.getAddress(t);if(!a)throw new Error("signMessage: address not found");const s=await(null==n?void 0:n.signMessage({message:e,address:a,provider:Fa.getProvider(t)}));return(null==s?void 0:s.signature)||""},sendTransaction:async e=>{const t=e.chainNamespace;if(!t)throw new Error("sendTransaction: namespace not found");if(ge.SEND_SUPPORTED_NAMESPACES.includes(t)){const n=this.getAdapter(t);if(!n)throw new Error("sendTransaction: adapter not found");const a=Fa.getProvider(t),s=await(null==n?void 0:n.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:a}));return(null==s?void 0:s.hash)||""}return""},estimateGas:async e=>{const t=e.chainNamespace;if(t===l.CHAIN.EVM){const n=this.getAdapter(t);if(!n)throw new Error("estimateGas: adapter is required but got undefined");const a=Fa.getProvider(t),s=this.getCaipNetwork();if(!s)throw new Error("estimateGas: caipNetwork is required but got undefined");const r=await(null==n?void 0:n.estimateGas({...e,provider:a,caipNetwork:s}));return(null==r?void 0:r.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;const t=za.state.activeChain;if(!t)throw new Error("getEnsAvatar: namespace is required but got undefined");const n=this.getAddress(t);if(!n)throw new Error("getEnsAvatar: address not found");await this.syncIdentity({address:n,chainId:Number(null==(e=this.getCaipNetwork())?void 0:e.id),chainNamespace:t});const a=za.getAccountData();return(null==a?void 0:a.profileImage)||!1},getEnsAddress:async e=>await ls.resolveReownName(e),writeContract:async e=>{const t=za.state.activeChain,n=this.getAdapter(t);if(!t)throw new Error("writeContract: namespace is required but got undefined");if(!n)throw new Error("writeContract: adapter is required but got undefined");const a=this.getCaipNetwork(),s=this.getCaipAddress(),r=Fa.getProvider(t);if(!a||!s)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");const o=await(null==n?void 0:n.writeContract({...e,caipNetwork:a,provider:r,caipAddress:s}));return null==o?void 0:o.hash},writeSolanaTransaction:async e=>{const t=za.state.activeChain,n=this.getAdapter(t);if(!t)throw new Error("writeContract: namespace is required but got undefined");if(!n)throw new Error("writeContract: adapter is required but got undefined");const a=this.getCaipNetwork(),s=this.getCaipAddress(),r=Fa.getProvider(t);if(!a||!s)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");const o=await(null==n?void 0:n.writeSolanaTransaction({...e,caipNetwork:a,provider:r,caipAddress:s}));return null==o?void 0:o.hash},parseUnits:(e,t)=>{const n=this.getAdapter(za.state.activeChain);if(!n)throw new Error("parseUnits: adapter is required but got undefined");return(null==n?void 0:n.parseUnits({value:e,decimals:t}))??0n},formatUnits:(e,t)=>{const n=this.getAdapter(za.state.activeChain);if(!n)throw new Error("formatUnits: adapter is required but got undefined");return(null==n?void 0:n.formatUnits({value:e,decimals:t}))??"0"},getCapabilities:async e=>{const t=this.getAdapter(za.state.activeChain);if(!t)throw new Error("getCapabilities: adapter is required but got undefined");return await(null==t?void 0:t.getCapabilities(e))},grantPermissions:async e=>{const t=this.getAdapter(za.state.activeChain);if(!t)throw new Error("grantPermissions: adapter is required but got undefined");return await(null==t?void 0:t.grantPermissions(e))},revokePermissions:async e=>{const t=this.getAdapter(za.state.activeChain);if(!t)throw new Error("revokePermissions: adapter is required but got undefined");return(null==t?void 0:t.revokePermissions)?await t.revokePermissions(e):"0x"},walletGetAssets:async e=>{const t=this.getAdapter(za.state.activeChain);if(!t)throw new Error("walletGetAssets: adapter is required but got undefined");return await(null==t?void 0:t.walletGetAssets(e))??{}},updateBalance:e=>{const t=this.getAddress(e),n=this.getCaipNetwork(e);n&&t&&this.updateNativeBalance(t,null==n?void 0:n.id,e)}},Ta.setClient(this.connectionControllerClient)}async onConnectExternal(e){var t,n,a,s,r,o,i,c;const d=za.state.activeChain,u=e.chain||d,p=this.getAdapter(u);let h=!0;if(e.type===Xr){l.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(e=>fa.getConnectorId(e)===l.CONNECTOR_ID.AUTH)&&e.chain!==d&&(h=!1)}if(e.chain&&e.chain!==d&&!e.caipNetwork){const t=this.getCaipNetworks().find(t=>t.chainNamespace===e.chain);t&&h&&this.setCaipNetwork(t)}if(!u)throw new Error("connectExternal: namespace not found");if(!p)throw new Error("connectExternal: adapter not found");const m=this.getCaipNetwork(u),g=e.caipNetwork||m,f=await p.connect({id:e.id,address:e.address,info:e.info,type:e.type,provider:e.provider,socialUri:e.socialUri,chainId:(null==(t=e.caipNetwork)?void 0:t.id)||(null==m?void 0:m.id),rpcUrl:(null==(r=null==(s=null==(a=null==(n=e.caipNetwork)?void 0:n.rpcUrls)?void 0:a.default)?void 0:s.http)?void 0:r[0])||(null==(c=null==(i=null==(o=null==m?void 0:m.rpcUrls)?void 0:o.default)?void 0:i.http)?void 0:c[0])});if(f)return fe.addConnectedNamespace(u),this.syncProvider({...f,chainNamespace:u}),this.setStatus("connected",u),this.syncConnectedWalletInfo(u),fe.removeDisconnectedConnectorId(e.id,u),{address:f.address,connectedCaipNetwork:g}}async connectInactiveNamespaces(e,t){var n;const a=e.type===Xr,s=Zr.getOtherAuthNamespaces(null==(n=null==t?void 0:t.connectedCaipNetwork)?void 0:n.chainNamespace),r=za.state.activeCaipNetwork,o=this.getAdapter(null==r?void 0:r.chainNamespace);a&&(await Promise.all(s.map(async t=>{var n,a,s;try{const r=Fa.getProvider(t),o=this.getCaipNetwork(t),i=this.getAdapter(t);await(null==i?void 0:i.connect({...e,provider:r,socialUri:void 0,chainId:null==o?void 0:o.id,rpcUrl:null==(s=null==(a=null==(n=null==o?void 0:o.rpcUrls)?void 0:n.default)?void 0:a.http)?void 0:s[0]}))&&(fe.addConnectedNamespace(t),fe.removeDisconnectedConnectorId(e.id,t),this.setStatus("connected",t),this.syncConnectedWalletInfo(t))}catch(r){vs.warn(eo.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage,eo.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(t,r instanceof Error?r.message:void 0),eo.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code)}})),r&&await(null==o?void 0:o.switchNetwork({caipNetwork:r})))}getApprovedCaipNetworksData(){var e,t,n,a,s;if(Fa.getProviderId(za.state.activeChain)===Gr){const r=null==(t=null==(e=this.universalProvider)?void 0:e.session)?void 0:t.namespaces;return{supportsAllNetworks:"MetaMask Wallet"===(null==(s=null==(a=null==(n=this.universalProvider)?void 0:n.session)?void 0:a.peer)?void 0:s.metadata.name),approvedCaipNetworkIds:this.getChainsFromNamespaces(r)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){const t=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const n=Fa.getProviderId(t);if(e.chainNamespace===za.state.activeChain){const n=this.getAdapter(t);await(null==n?void 0:n.switchNetwork({caipNetwork:e}))}else if(this.setCaipNetwork(e),n===Gr)this.syncWalletConnectAccount();else{const n=this.getAddressByChainNamespace(t);n&&this.syncAccount({address:n,chainId:e.id,chainNamespace:t})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(e=>{const t=e.chains||[],n=e.accounts.map(e=>{const{chainId:t,chainNamespace:n}=R.parseCaipAddress(e);return`${n}:${t}`});return Array.from(new Set([...t,...n]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((t,n)=>{var a,s;const r=null==e?void 0:e.find(e=>e.namespace===n);return r?(r.construct({namespace:n,projectId:null==(a=this.options)?void 0:a.projectId,networks:null==(s=this.caipNetworks)?void 0:s.filter(({chainNamespace:e})=>e===n)}),t[n]=r):t[n]=new lo({namespace:n,networks:this.getCaipNetworks()}),t},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e);const t=this.getAdapter(e);if(!t)throw new Error("adapter not found");await t.syncConnectors(),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)})),this.initAdapterController()}onConnectors(e){const t=this.getAdapter(e);null==t||t.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const t=this.getAdapter(e);if(!t)return;const n=fe.getConnectionStatus();!1===_n.state.enableReconnect?this.setStatus("disconnected",e):"connected"===n?this.setStatus("connecting",e):"disconnected"===n?(fe.clearAddressCache(),this.setStatus(n,e)):this.setStatus(n,e),t.on("switchNetwork",({address:t,chainId:n})=>{var a,s;const r=this.getCaipNetworks().find(e=>e.id.toString()===n.toString()||e.caipNetworkId.toString()===n.toString()),o=za.state.activeChain===e,i=null==(s=null==(a=za.state.chains.get(e))?void 0:a.accountState)?void 0:s.address;if(r){const n=o&&t?t:i;n&&this.syncAccount({address:n,chainId:r.id,chainNamespace:e})}else this.setUnsupportedNetwork(n)}),t.on("disconnect",()=>{const t=this.remoteFeatures.multiWallet,n=Array.from(Ta.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:e,closeModal:!t||0===n.length})}),t.on("connections",t=>{this.setConnections(t,e)}),t.on("pendingTransactions",()=>{const t=this.getAddress(e),n=za.state.activeCaipNetwork;t&&(null==n?void 0:n.id)&&this.updateNativeBalance(t,n.id,n.chainNamespace)}),t.on("accountChanged",({address:t,chainId:n,connector:a})=>{var s,r;this.handlePreviousConnectorConnection(a);const o=za.state.activeChain===e;(null==a?void 0:a.provider)&&(this.syncProvider({id:a.id,type:a.type,provider:null==a?void 0:a.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e));const i=null==(r=null==(s=za.getNetworkData(e))?void 0:s.caipNetwork)?void 0:r.id,c=n||i;o&&c?this.syncAccount({address:t,chainId:c,chainNamespace:e}):!o&&c?(this.syncAccountInfo(t,c,e),this.syncBalance({address:t,chainId:c,chainNamespace:e})):this.syncAccountInfo(t,n,e),fe.addConnectedNamespace(e)})}async handlePreviousConnectorConnection(e){var t;const n=null==e?void 0:e.chain,a=null==e?void 0:e.id,s=fa.getConnectorId(n),r=null==(t=_n.state.remoteFeatures)?void 0:t.multiWallet,o=n&&a&&s&&s!==a&&!r;try{o&&await Ta.disconnect({id:s,namespace:n})}catch(i){console.warn("Error disconnecting previous connector",i)}}async createUniversalProviderForAdapter(e){var t,n,a;await this.getUniversalProvider(),this.universalProvider&&await(null==(a=null==(n=null==(t=this.chainAdapters)?void 0:t[e])?void 0:n.setUniversalProvider)?void 0:a.call(n,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(e=>Ta.disconnect({namespace:e,initialDisconnect:!0})))}catch(e){console.error("Error disconnecting existing connections:",e)}}async reconnectWalletConnect(){await this.syncWalletConnectAccount();const e=this.getAddress();this.getCaipAddress()||fe.deleteRecentWallet();const t=fe.getRecentWallet();ea.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:ve.isMobile()?"mobile":"qrcode",name:(null==t?void 0:t.name)||"Unknown",reconnect:!0,view:la.state.view,walletRank:null==t?void 0:t.order}})}async syncNamespaceConnection(e){try{e===l.CHAIN.EVM&&ve.isSafeApp()&&fa.setConnectorId(l.CONNECTOR_ID.SAFE,e);const t=fa.getConnectorId(e);switch(this.setStatus("connecting",e),t){case l.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case l.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(t){console.warn("AppKit couldn't sync existing connection",t),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){const{chainNamespace:t,closeModal:n}=e||{};za.resetAccount(t),za.resetNetwork(t),fe.removeConnectedNamespace(t);const a=Array.from(za.state.chains.keys());(t?[t]:a).forEach(e=>fe.addDisconnectedConnectorId(fa.getConnectorId(e)||"",e)),fa.removeConnectorId(t),Fa.resetChain(t),this.setUser(null,t),this.setStatus("disconnected",t),this.setConnectedWalletInfo(null,t),!1!==n&&Ya.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(e=>{const t=this.getAdapter(e),n=this.getCaipAddress(e),a=this.getCaipNetwork(e);return null==t?void 0:t.syncConnections({connectToFirstConnector:!n,caipNetwork:a})}))}async syncAdapterConnection(e){var t,n,a,s,r;const o=this.getAdapter(e),i=this.getCaipNetwork(e),c=fa.getConnectorId(e),l=fa.getConnectors(e).find(e=>e.id===c);try{if(!o||!l)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(null==i?void 0:i.id))throw new Error("CaipNetwork not found");const c=await(null==o?void 0:o.syncConnection({namespace:e,id:l.id,chainId:i.id,rpcUrl:null==(a=null==(n=null==(t=null==i?void 0:i.rpcUrls)?void 0:t.default)?void 0:n.http)?void 0:a[0]}));c?(this.syncProvider({...c,chainNamespace:e}),await this.syncAccount({...c,chainNamespace:e}),this.setStatus("connected",e),ea.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:c.address,properties:{method:"browser",name:(null==(s=l.info)?void 0:s.name)||l.name||"Unknown",reconnect:!0,view:la.state.view,walletRank:null==(r=null==l?void 0:l.explorerWallet)?void 0:r.order}})):this.setStatus("disconnected",e)}catch(d){this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){var e,t;const n=Object.keys((null==(t=null==(e=this.universalProvider)?void 0:e.session)?void 0:t.namespaces)||{}),a=this.chainNamespaces.map(async e=>{var t,a,s,r,o;const i=this.getAdapter(e);if(!i)return;const c=(null==(r=null==(s=null==(a=null==(t=this.universalProvider)?void 0:t.session)?void 0:a.namespaces)?void 0:s[e])?void 0:r.accounts)||[],d=null==(o=za.state.activeCaipNetwork)?void 0:o.id,u=c.find(e=>{const{chainId:t}=R.parseCaipAddress(e);return t===(null==d?void 0:d.toString())})||c[0];if(u){const t=R.validateCaipAddress(u),{chainId:n,address:a}=R.parseCaipAddress(t);if(Fa.setProviderId(e,Gr),this.caipNetworks&&za.state.activeCaipNetwork&&i.namespace!==l.CHAIN.EVM){const t=i.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:za.state.activeCaipNetwork});Fa.setProvider(e,t)}else Fa.setProvider(e,this.universalProvider);fa.setConnectorId(l.CONNECTOR_ID.WALLET_CONNECT,e),fe.addConnectedNamespace(e),await this.syncAccount({address:a,chainId:n,chainNamespace:e})}else n.includes(e)&&this.setStatus("disconnected",e);const p=this.getApprovedCaipNetworksData();this.syncConnectedWalletInfo(e),za.setApprovedCaipNetworksData(e,{approvedCaipNetworkIds:p.approvedCaipNetworkIds,supportsAllNetworks:p.supportsAllNetworks})});await Promise.all(a)}syncProvider({type:e,provider:t,id:n,chainNamespace:a}){Fa.setProviderId(a,e),Fa.setProvider(a,t),fa.setConnectorId(n,a)}async syncAccount(e){var t,n;const a=e.chainNamespace===za.state.activeChain,s=za.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:r,chainId:o,chainNamespace:i}=e,{chainId:c}=fe.getActiveNetworkProps(),d=(null==s?void 0:s.id)||c,u=(null==(t=za.state.activeCaipNetwork)?void 0:t.name)===l.UNSUPPORTED_NETWORK_NAME,p=za.getNetworkProp("supportsAllNetworks",i);if(this.setStatus("connected",i),(!u||p)&&d){let e=this.getCaipNetworks().find(e=>e.id.toString()===d.toString()),t=this.getCaipNetworks().find(e=>e.chainNamespace===i);if(!p&&!e&&!t){const n=this.getApprovedCaipNetworkIds()||[],a=n.find(e=>{var t;return(null==(t=R.parseCaipNetworkId(e))?void 0:t.chainId)===d.toString()}),s=n.find(e=>{var t;return(null==(t=R.parseCaipNetworkId(e))?void 0:t.chainNamespace)===i});e=this.getCaipNetworks().find(e=>e.caipNetworkId===a),t=this.getCaipNetworks().find(e=>e.caipNetworkId===s||"deprecatedCaipNetworkId"in e&&e.deprecatedCaipNetworkId===s)}const c=e||t;(null==c?void 0:c.chainNamespace)===za.state.activeChain?_n.state.enableNetworkSwitch&&!_n.state.allowUnsupportedChain&&(null==(n=za.state.activeCaipNetwork)?void 0:n.name)===l.UNSUPPORTED_NETWORK_NAME?za.showUnsupportedChainUI():this.setCaipNetwork(c):a||s&&this.setCaipNetworkOfNamespace(s,i),this.syncConnectedWalletInfo(i);const u=this.getAddress(i);Zr.isLowerCaseMatch(r,u)||this.syncAccountInfo(r,null==c?void 0:c.id,i),a?await this.syncBalance({address:r,chainId:null==c?void 0:c.id,chainNamespace:i}):await this.syncBalance({address:r,chainId:null==s?void 0:s.id,chainNamespace:i}),this.syncIdentity({address:r,chainId:o,chainNamespace:i})}}async syncAccountInfo(e,t,n){const a=this.getCaipAddress(n),s=t||(null==a?void 0:a.split(":")[1]);if(!s)return;const r=`${n}:${s}:${e}`;this.setCaipAddress(r,n,!0),await this.syncIdentity({address:e,chainId:s,chainNamespace:n})}async syncReownName(e,t){try{const n=await this.getReownName(e);if(n[0]){const e=n[0];this.setProfileName(e.name,t)}else this.setProfileName(null,t)}catch{this.setProfileName(null,t)}}syncConnectedWalletInfo(e){var t;const n=fa.getConnectorId(e),a=Fa.getProviderId(e);if(a===Yr||a===Jr){if(n){const t=this.getConnectors().find(e=>{var t,a;const s=e.id===n,r=(null==(t=e.info)?void 0:t.rdns)===n,o=null==(a=e.connectors)?void 0:a.some(e=>{var t;return e.id===n||(null==(t=e.info)?void 0:t.rdns)===n});return s||r||Boolean(o)});if(t){const{info:n,name:a,imageUrl:s}=t,r=s||this.getConnectorImage(t);this.setConnectedWalletInfo({name:a,icon:r,...n},e)}}}else if(a===Gr){const n=Fa.getProvider(e);(null==n?void 0:n.session)&&this.setConnectedWalletInfo({...n.session.peer.metadata,name:n.session.peer.metadata.name,icon:null==(t=n.session.peer.metadata.icons)?void 0:t[0]},e)}else if(n&&(n===l.CONNECTOR_ID.COINBASE_SDK||n===l.CONNECTOR_ID.COINBASE)){const t=this.getConnectors().find(e=>e.id===n),a=(null==t?void 0:t.name)||"Coinbase Wallet",s=(null==t?void 0:t.imageUrl)||this.getConnectorImage(t),r=null==t?void 0:t.info;this.setConnectedWalletInfo({...r,name:a,icon:s},e)}}async syncBalance(e){d.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(t=>{var n;return t.id.toString()===(null==(n=e.chainId)?void 0:n.toString())})&&e.chainId&&await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,t,n){const a=this.getAdapter(n),s=za.getCaipNetworkByNamespace(n,t);if(a){const r=await a.getBalance({address:e,chainId:t,caipNetwork:s,tokens:this.options.tokens});return this.setBalance(r.balance,r.symbol,n),r}}async initializeUniversalAdapter(){var e,t,n,a,s,r,i,c,l,d;const u=no.createLogger((e,...t)=>{e&&this.handleAlertError(e),console.error(...t)}),p={projectId:null==(e=this.options)?void 0:e.projectId,metadata:{name:(null==(t=this.options)?void 0:t.metadata)?null==(n=this.options)?void 0:n.metadata.name:"",description:(null==(a=this.options)?void 0:a.metadata)?null==(s=this.options)?void 0:s.metadata.description:"",url:(null==(r=this.options)?void 0:r.metadata)?null==(i=this.options)?void 0:i.metadata.url:"",icons:(null==(c=this.options)?void 0:c.metadata)?null==(l=this.options)?void 0:l.metadata.icons:[""]},logger:u};_n.setManualWCControl(Boolean(null==(d=this.options)?void 0:d.manualWCControl)),this.universalProvider=this.options.universalProvider??await o.init(p);const h=this.universalProvider.disconnect.bind(this.universalProvider);this.universalProvider.disconnect=async()=>{try{return await h()}catch(e){if(e instanceof Error){if(e.message.includes("Missing or invalid. Record was recently deleted"))return}throw e}},!1===_n.state.enableReconnect&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(e=>{ls.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:e=>{Ta.setUri(e)},onConnect:e=>{const{address:t}=ve.getAccount(e[0]);for(const n of this.chainNamespaces)fe.removeDisconnectedConnectorId(l.CONNECTOR_ID.WALLET_CONNECT,n);Ta.finalizeWcConnection(t)},onDisconnect:()=>{za.state.noAdapters&&this.resetAccount(e),Ta.resetWcConnection()},onChainChanged:t=>{const n=za.state.activeChain,a=n&&fa.state.activeConnectorIds[n]===l.CONNECTOR_ID.WALLET_CONNECT;if(n===e&&(za.state.noAdapters||a)){const e=this.getCaipNetworks().find(e=>e.id.toString()===t.toString()||e.caipNetworkId.toString()===t.toString()),n=this.getCaipNetwork();if(!e)return void this.setUnsupportedNetwork(t);(null==n?void 0:n.id.toString())!==(null==e?void 0:e.id.toString())&&(null==n?void 0:n.chainNamespace)===(null==e?void 0:e.chainNamespace)&&this.setCaipNetwork(e)}},onAccountsChanged:t=>{const n=za.state.activeChain,a=n&&fa.state.activeConnectorIds[n]===l.CONNECTOR_ID.WALLET_CONNECT;if(n===e&&(za.state.noAdapters||a)){const e=null==t?void 0:t[0];e&&this.syncAccount({address:e.address,chainId:e.chainId,chainNamespace:e.chainNamespace})}}})})}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&ve.isClient()&&(null==(e=this.options)?void 0:e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){ea.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}getDisabledCaipNetworks(){const e=za.getAllApprovedCaipNetworkIds(),t=za.getAllRequestedCaipNetworks();return ve.sortRequestedNetworks(e,t).filter(e=>za.isCaipNetworkDisabled(e))}handleAlertError(e){const t=Object.entries(eo.UniversalProviderErrors).find(([,{message:t}])=>e.message.includes(t)),[n,a]=t??[],{message:s,alertErrorKey:r}=a??{};if(n&&s&&!this.reportedAlertErrors[n]){const e=eo.ALERT_ERRORS[r];e&&(vs.open(e,"error"),this.reportedAlertErrors[n]=!0)}}getAdapter(e){var t;if(e)return null==(t=this.chainAdapters)?void 0:t[e]}createAdapter(e){var t,n;if(!e)return;const a=e.namespace;if(!a)return;this.createClients();const s=e;s.namespace=a,s.construct({namespace:a,projectId:null==(t=this.options)?void 0:t.projectId,networks:null==(n=this.caipNetworks)?void 0:n.filter(({chainNamespace:e})=>e===a)}),this.chainNamespaces.includes(a)||this.chainNamespaces.push(a),this.chainAdapters&&(this.chainAdapters[a]=s)}async open(e){await this.injectModalUi(),(null==e?void 0:e.uri)&&Ta.setUri(e.uri);const{isSwap:t,isSend:n}=this.toModalOptions();return t(e)?Ya.open({...e,data:{swap:e.arguments}}):n(e)&&e.arguments?this.openSend(e.arguments):Ya.open(e)}async close(){await this.injectModalUi(),Ya.close()}setLoading(e,t){Ya.setLoading(e,t)}async disconnect(e){await Ta.disconnect({namespace:e})}getSIWX(){return _n.state.siwx}getError(){return""}getChainId(){var e;return null==(e=za.state.activeCaipNetwork)?void 0:e.id}async switchNetwork(e,{throwOnFailure:t=!1}={}){const n=this.getCaipNetworks().find(t=>t.id===e.id);n?await za.switchActiveNetwork(n,{throwOnFailure:t}):vs.open(eo.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error")}getWalletProvider(){return za.state.activeChain?Fa.state.providers[za.state.activeChain]:null}getWalletProviderType(){return Fa.getProviderId(za.state.activeChain)}subscribeProviders(e){return Fa.subscribeProviders(e)}getThemeMode(){return pa.state.themeMode}getThemeVariables(){return pa.state.themeVariables}setThemeMode(e){pa.setThemeMode(e),jr(pa.state.themeMode)}setTermsConditionsUrl(e){_n.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){_n.setPrivacyPolicyUrl(e)}setThemeVariables(e){pa.setThemeVariables(e),function(e){var t,n,a;if(Fr=e,Mr&&Lr&&Wr){Mr.textContent=Vr(e).core.cssText,Lr.textContent=Vr(e).dark.cssText,Wr.textContent=Vr(e).light.cssText;const s=(null==e?void 0:e["--apkt-font-family"])||(null==e?void 0:e["--w3m-font-family"]);s&&(Mr.textContent=null==(t=Mr.textContent)?void 0:t.replace("font-family: KHTeka",`font-family: ${s}`),Lr.textContent=null==(n=Lr.textContent)?void 0:n.replace("font-family: KHTeka",`font-family: ${s}`),Wr.textContent=null==(a=Wr.textContent)?void 0:a.replace("font-family: KHTeka",`font-family: ${s}`))}Dr&&Br(e,"enabled"===(null==Wr?void 0:Wr.media)?"light":"dark")}(pa.state.themeVariables)}subscribeTheme(e){return pa.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?Ta.subscribe(e):(vs.open(l.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(e){var t,n;if(e)return null==(n=null==(t=za.state.chains.get(e))?void 0:t.accountState)?void 0:n.connectedWalletInfo;const a=za.getAccountData();return null==a?void 0:a.connectedWalletInfo}getAccount(e){const t=e||za.state.activeChain,n=fa.getAuthConnector(t),a=za.getAccountData(t),s=fe.getConnectedConnectorId(za.state.activeChain),r=Ta.getConnections(t);if(!t)throw new Error("AppKit:getAccount - namespace is required");const o=r.flatMap(e=>e.accounts.map(({address:e,type:n,publicKey:a})=>ve.createAccount(t,e,n||"eoa",a)));if(a)return{allAccounts:o,caipAddress:a.caipAddress,address:ve.getPlainAddress(a.caipAddress),isConnected:Boolean(a.caipAddress),status:a.status,embeddedWalletInfo:n&&s===l.CONNECTOR_ID.AUTH?{user:a.user?{...a.user,username:fe.getConnectedSocialUsername()}:void 0,authProvider:a.socialProvider||"email",accountType:Ea(t),isSmartAccountDeployed:Boolean(a.smartAccountDeployed)}:void 0}}subscribeAccount(e,t){const n=[],a=()=>{const n=this.getAccount(t);n&&e(n)};if(t){const e=za.subscribeChainProp("accountState",a,t);n.push(e)}else{const e=za.subscribe(a);n.push(e)}const s=fa.subscribe(a);return n.push(s),()=>{n.forEach(e=>e())}}subscribeNetwork(e){return za.subscribe(({activeCaipNetwork:t})=>{e({caipNetwork:t,chainId:null==t?void 0:t.id,caipNetworkId:null==t?void 0:t.caipNetworkId})})}subscribeWalletInfo(e,t){return t?za.subscribeChainProp("accountState",t=>e(null==t?void 0:t.connectedWalletInfo),t):za.subscribeChainProp("accountState",t=>e(null==t?void 0:t.connectedWalletInfo))}subscribeShouldUpdateToAddress(e){return za.subscribeChainProp("accountState",t=>e(null==t?void 0:t.shouldUpdateToAddress))}subscribeCaipNetworkChange(e){return za.subscribeKey("activeCaipNetwork",e)}getState(){return Aa.state}getRemoteFeatures(){return _n.state.remoteFeatures}subscribeState(e){return Aa.subscribe(e)}subscribeRemoteFeatures(e){return _n.subscribeKey("remoteFeatures",e)}showErrorMessage(e){Rn.showError(e)}showSuccessMessage(e){Rn.showSuccess(e)}getEvent(){return{...ea.state}}subscribeEvents(e){return ea.subscribe(e)}replace(e){la.replace(e)}redirect(e){la.push(e)}popTransactionStack(e){la.popTransactionStack(e)}isOpen(){return Ya.state.open}isTransactionStackEmpty(){return 0===la.state.transactionStack.length}static getInstance(){return this.instance}updateFeatures(e){_n.setFeatures(e)}updateRemoteFeatures(e){_n.setRemoteFeatures(e)}updateOptions(e){const t={..._n.state||{},...e};_n.setOptions(t)}setConnectMethodsOrder(e){_n.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){_n.setWalletFeaturesOrder(e)}setCollapseWallets(e){_n.setCollapseWallets(e)}setSocialsOrder(e){_n.setSocialsOrder(e)}getConnectMethodsOrder(){return ra.getConnectOrderMethod(_n.state.features,fa.getConnectors())}addNetwork(e,t){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const n=this.extendCaipNetwork(t,this.options);this.getCaipNetworks().find(e=>e.id===n.id)||za.addNetwork(n)}removeNetwork(e,t){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(e=>e.id===t)&&za.removeNetwork(e,t)}}let go=!1;class fo extends mo{async open(e){fa.isConnected()||await super.open(e)}async close(){var e;if(await super.close(),this.options.manualWCControl){const t=null==(e=za.getAccountData(this.activeChainNamespace))?void 0:e.address;Ta.finalizeWcConnection(t)}}async syncIdentity(e){return Promise.resolve()}async syncBalance(e){return Promise.resolve()}async injectModalUi(){if(!go&&ve.isClient()){await t(()=>import("..-node_modules-@reown-appkit-scaffold-ui-dist-esm-exports-basic.C3yVkBtw.js"),__vite__mapDeps([6,7,3,2,4,1]),import.meta.url),await t(()=>import("..-node_modules-@reown-appkit-scaffold-ui-dist-esm-exports-w3m-modal.DJTjGNBa.js"),__vite__mapDeps([8,7,3,2,4,1]),import.meta.url);if(!document.querySelector("w3m-modal")){const e=document.createElement("w3m-modal");_n.state.disableAppend||_n.state.enableEmbedded||document.body.insertAdjacentElement("beforeend",e)}go=!0}}}const vo=Object.freeze(Object.defineProperty({__proto__:null,AppKit:fo,createAppKit:function(e){return new fo({...e,basic:!0,sdkVersion:"html-core-1.8.17"})}},Symbol.toStringTag,{value:"Module"}));export{Ls as $,sa as A,Dn as B,fa as C,vs as D,ea as E,xa as F,Ca as G,Zr as H,ce as I,re as J,hs as K,T as L,Ya as M,I as N,_n as O,Fa as P,R as Q,la as R,Rn as S,pa as T,In as U,wa as V,ra as W,Ur as X,Hr as Y,Ma as Z,Ws as _,ve as a,bn as a$,dr as a0,d as a1,D as a2,ya as a3,L as a4,Se as a5,Ae as a6,$e as a7,Pe as a8,be as a9,Bt as aA,Ht as aB,jt as aC,Vt as aD,Kt as aE,qt as aF,zt as aG,Re as aH,on as aI,Gt as aJ,cn as aK,pn as aL,Jt as aM,en as aN,Xt as aO,Zt as aP,Qt as aQ,st as aR,rt as aS,He as aT,tn as aU,nn as aV,sn as aW,ln as aX,wn as aY,En as aZ,yn as a_,Ge as aa,Ke as ab,Xe as ac,Te as ad,Ue as ae,qe as af,De as ag,Ye as ah,ze as ai,je as aj,Fe as ak,Me as al,Be as am,Qe as an,tt as ao,Ze as ap,nt as aq,at as ar,mt as as,gt as at,ot as au,Mt as av,Lt as aw,Wt as ax,Ft as ay,$t as az,Ta as b,an as b0,et as b1,Oe as b2,Le as b3,We as b4,it as b5,xt as b6,Ut as b7,Pt as b8,kt as b9,Ot as ba,ht as bb,ut as bc,yt as bd,Et as be,pt as bf,wt as bg,dt as bh,It as bi,lt as bj,ft as bk,vt as bl,ct as bm,St as bn,Ct as bo,bt as bp,Rt as bq,Dt as br,Tt as bs,_t as bt,At as bu,Nt as bv,Nn as bw,xe as bx,gn as by,vo as bz,l as c,cr as d,xr as e,Vn as f,oa as g,zn as h,kr as i,za as j,qr as k,$n as l,P as m,Na as n,ge as o,ro as p,fe as q,Kr as r,ur as s,As as t,Hn as u,se as v,lr as w,Ea as x,Ee as y,$a as z};
