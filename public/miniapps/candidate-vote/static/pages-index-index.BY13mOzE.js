import{l as t,m as e,e as n,f as r,b as o,n as i,c as a,o as s,p as l,q as c,w as u,t as d,v as f,F as h,x as p,a as g,y as v,z as y,A as w,B as b,C as m,D as k,E as _,G as B,H as x,I as C,J as I,K as A}from"./vue-vendor.BKzmM1oz.js";import{_ as E,u as M,N as S}from"./NeoDoc.BfrNnfD1.js";import"./index-Bw3ny6CU.js";const T=5e3,L=1e4,U=100,R=["https://neomini.app","https://miniapp.neo.org","https://testnet.miniapp.neo.org"];const O=new class{constructor(){this.dynamicOrigins=new Set,this.baseOrigins=new Set([...R])}getSelfOrigin(){if("undefined"==typeof window)return null;try{const t=new URL(window.location.href);if("null"===t.origin)return null;if("http:"===t.protocol||"https:"===t.protocol)return t.origin}catch{}return null}getReferrerOrigin(){if("undefined"==typeof document||!document.referrer)return null;try{return new URL(document.referrer).origin}catch{return null}}getAllowedOrigins(){const t=new Set(this.baseOrigins);this.dynamicOrigins.forEach(e=>t.add(e));const e=this.getReferrerOrigin();e&&this.baseOrigins.has(e)&&t.add(e);const n=this.getSelfOrigin();if(n&&t.add(n),"undefined"!=typeof window){const e=window.location.hostname;"localhost"!==e&&"127.0.0.1"!==e||t.add(window.location.origin)}return t}isValid(t){return!(!t||"null"===t)&&this.getAllowedOrigins().has(t)}getTargetOrigin(){var t;const e=this.getReferrerOrigin();if(e&&this.baseOrigins.has(e))return e;try{if("undefined"!=typeof window&&window.parent!==window&&(null==(t=window.location.ancestorOrigins)?void 0:t.length)>0){const t=window.location.ancestorOrigins[0];if(this.baseOrigins.has(t))return t}}catch{}const n=this.getSelfOrigin();if(n)return n;if("undefined"!=typeof window){const t=window.location.hostname;if("localhost"===t||"127.0.0.1"===t)return window.location.origin}throw new Error("Cannot determine safe target origin - no valid origin found")}getSafeTargetOrigin(){try{const t=this.getTargetOrigin();if(t&&"null"!==t)return t}catch{}if("undefined"!=typeof window&&window.parent!==window){const t=window.__MINIAPP_PARENT_ORIGIN__;if("string"==typeof t&&t&&this.baseOrigins.has(t))return t;throw new Error("Cannot communicate securely with parent - origin unknown. Ensure host app sets __MINIAPP_PARENT_ORIGIN__ or uses a supported browser.")}throw new Error("Cannot determine safe target origin - origin is null or undefined")}addDynamicOrigin(t){t&&"null"!==t&&this.dynamicOrigins.add(t)}};let N=null;function $(t){if(!t||"object"!=typeof t)return!1;const e="function"==typeof t.invoke&&"function"==typeof t.getConfig,n="object"==typeof t.wallet||"object"==typeof t.payments;return e||n}function V(t=T){return new Promise((e,n)=>{if("undefined"==typeof window)return void n(new Error("SDK not available in SSR"));if(window.MiniAppSDK)return $(window.MiniAppSDK)?void e(window.MiniAppSDK):void n(new Error("SDK validation failed"));const r=setTimeout(()=>{if(window.removeEventListener("miniapp-sdk-ready",o),window.parent!==window){const t=function(){const t=O.getSafeTargetOrigin();let e=0;const n=(n,...r)=>new Promise((o,i)=>{const a=`sdk-${++e}-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,s=setTimeout(()=>{window.removeEventListener("message",l),i(new Error("SDK invoke timeout"))},L),l=t=>{var e,n;O.isValid(t.origin)&&t.source===window.parent&&"miniapp_sdk_response"===(null==(e=t.data)?void 0:e.type)&&(null==(n=t.data)?void 0:n.id)===a&&(clearTimeout(s),window.removeEventListener("message",l),t.data.ok?o(t.data.result):i(new Error(t.data.error||"SDK call failed")))};window.addEventListener("message",l),window.parent.postMessage({type:"miniapp_sdk_request",id:a,method:n,params:r},t)});return{invoke:n,getConfig:()=>N||("undefined"!=typeof window&&window.__MINIAPP_CONFIG__?(N=window.__MINIAPP_CONFIG__,N):{appId:"",contractAddress:null,chainId:null,chainType:void 0,supportedChains:[],debug:!1}),getAddress:()=>n("getAddress"),wallet:{getAddress:()=>n("wallet.getAddress"),switchChain:t=>n("wallet.switchChain",t),invokeIntent:t=>n("wallet.invokeIntent",t),signMessage:t=>n("wallet.signMessage",t)},payments:{payGAS:(t,e,r)=>n("payments.payGAS",t,e,r),payGASAndInvoke:(t,e,r)=>n("payments.payGASAndInvoke",t,e,r)},governance:{vote:(t,e,r,o)=>n("governance.vote",t,e,r,o),voteAndInvoke:(t,e,r,o)=>n("governance.voteAndInvoke",t,e,r,o),getCandidates:()=>n("governance.getCandidates")},rng:{requestRandom:t=>n("rng.requestRandom",t)},datafeed:{getPrice:t=>n("datafeed.getPrice",t),getPrices:()=>n("datafeed.getPrices"),getNetworkStats:()=>n("datafeed.getNetworkStats"),getRecentTransactions:t=>n("datafeed.getRecentTransactions",t)},stats:{getMyUsage:(t,e)=>n("stats.getMyUsage",t,e)},events:{list:t=>n("events.list",t),emit:(t,e)=>n("events.emit",t,e)},transactions:{list:t=>n("transactions.list",t)},automation:{register:(t,e,r,o)=>n("automation.register",t,e,r,o),unregister:t=>n("automation.unregister",t),status:t=>n("automation.status",t),list:()=>n("automation.list"),update:(t,e,r)=>n("automation.update",t,e,r),enable:t=>n("automation.enable",t),disable:t=>n("automation.disable",t),logs:(t,e)=>n("automation.logs",t,e)},share:{openModal:t=>n("share.openModal",t),getUrl:t=>n("share.getUrl",t),copy:t=>n("share.copy",t)}}}();window.MiniAppSDK=t,t.invoke("getConfig").then(t=>{t&&"object"==typeof t&&(N=t)}).catch(()=>{}),e(t)}else n(new Error("SDK timeout"))},t),o=()=>{if(clearTimeout(r),window.removeEventListener("miniapp-sdk-ready",o),window.MiniAppSDK){if(!$(window.MiniAppSDK))return void n(new Error("SDK validation failed"));e(window.MiniAppSDK)}else n(new Error("SDK not found"))};window.addEventListener("miniapp-sdk-ready",o)})}function z(){return"undefined"==typeof window?null:window.MiniAppSDK??null}const P=new Set;let F={connected:!1,address:null,balance:null},D=null,H=!1;async function j(e,n={}){var r;const o=e.startsWith("http")?e:`https://api.neo-service-layer.io${e}`;if("undefined"!=typeof uni&&"function"==typeof t)return new Promise((e,r)=>{const i=(t=>{if(t){if(t instanceof Headers){const e={};return t.forEach((t,n)=>{e[n]=t}),e}return Array.isArray(t)?Object.fromEntries(t):t}})(n.headers),a=String((null==i?void 0:i["Content-Type"])||(null==i?void 0:i["content-type"])||"");let s=n.body;if("string"==typeof s&&a.includes("application/json"))try{s=JSON.parse(s)}catch{}t({url:o,method:n.method||"GET",data:s,header:i,success:t=>{var n,o;if(t.statusCode>=200&&t.statusCode<300)e(t.data);else{const e=(null==(o=null==(n=t.data)?void 0:n.error)?void 0:o.message)||`Request failed: ${t.statusCode}`;r(new Error(e))}},fail:t=>{r(new Error(t.errMsg||"Network error"))}})});const i=await fetch(o,{credentials:"include",...n});if(!i.ok){const t=await i.json().catch(()=>({}));throw new Error((null==(r=t.error)?void 0:r.message)||`Request failed: ${e}`)}return i.json()}async function K(t){return j(t,{method:"GET"})}function G(){const t=e(null),o=e({}),i=e(null),a=e(null),s=e(null),l=e([]),c=e(!1),u=e(!1),d=e(null),f=e(!1),h=e(null),p=e=>{e.connected&&e.address?(t.value=e.address,c.value=!0):(t.value=null,c.value=!1),i.value=e.chainId??null,a.value=e.chainType??null,o.value=(t=>{if(!t)return{};if(t.balances&&Object.keys(t.balances).length>0)return{...t.balances};if(t.balance){const e={};return e[t.balance.nativeSymbol||("neo-n3"===t.chainType?"GAS":"NATIVE")]=t.balance.native||"0",(t.balance.governance||t.balance.governanceSymbol)&&(e[t.balance.governanceSymbol||("neo-n3"===t.chainType?"NEO":"GOV")]=t.balance.governance||"0"),e}return{}})(e)},g=t=>{t&&(s.value=t.chainId??null,l.value=Array.isArray(t.supportedChains)?t.supportedChains:[])},v=async()=>{var t;const e=await V(),n=null==(t=e.getConfig)?void 0:t.call(e);return g(n),n},y=async t=>{const e=await V();if(!e.wallet.switchChain)throw new Error("switchChain not supported by SDK");await e.wallet.switchChain(t),i.value=t};let w=null;return n(()=>{var e;p(F),e=t=>{p(t)},P.add(e),e(F),w=()=>P.delete(e);const n=z();if((null==n?void 0:n.getConfig)&&g(n.getConfig()),n&&!c.value){const e=c.value;n.wallet.getAddress().then(r=>{var o;if(!e&&!c.value){t.value=r,c.value=!0;const e=null==(o=n.getConfig)?void 0:o.call(n);i.value=(null==e?void 0:e.chainId)??null,a.value=(null==e?void 0:e.chainType)??null,g(e)}}).catch(t=>{console.debug("[MiniApp SDK] Fallback wallet connection failed:",(null==t?void 0:t.message)||t)})}V().then(t=>{var e;return g(null==(e=t.getConfig)?void 0:e.call(t))}).catch(()=>{})}),r(()=>{w&&w()}),{address:t,chainId:i,chainType:a,appChainId:s,supportedChains:l,balances:o,isConnected:c,isLoading:u,error:d,showConnectionPrompt:f,connectionPromptMessage:h,connect:async()=>{var e;u.value=!0,d.value=null;try{const n=await V();t.value=await n.wallet.getAddress(),c.value=!0;const r=null==(e=n.getConfig)?void 0:e.call(n);i.value=(null==r?void 0:r.chainId)??null,a.value=(null==r?void 0:r.chainType)??null,g(r)}catch(n){d.value=n}finally{u.value=!1}},invokeIntent:async t=>{var e;const n=z();if(!(null==(e=null==n?void 0:n.wallet)?void 0:e.invokeIntent))throw new Error("invokeIntent not available");return n.wallet.invokeIntent(t)},invokeContract:async t=>{var e;const n=await V(),r=null==(e=n.getConfig)?void 0:e.call(n),o=t.contractAddress||t.scriptHash||t.contractHash,i=t.method||t.operation;if(!o||!i)throw new Error("contract address and method required");return n.invoke("invokeFunction",{contract:o,method:i,args:t.args,chainId:null==r?void 0:r.chainId,chainType:null==r?void 0:r.chainType})},invokeRead:async t=>{var e;const n=await V(),r=null==(e=n.getConfig)?void 0:e.call(n),o=t.contractAddress||t.scriptHash||t.contractHash||(null==r?void 0:r.contractAddress),i=t.method||t.operation;if(!o)throw new Error("contract address not configured");if(!i)throw new Error("method required");return n.invoke("invokeRead",{contract:o,method:i,args:t.args||[],chainId:t.chainId||(null==r?void 0:r.chainId),chainType:t.chainType||(null==r?void 0:r.chainType)})},getContractAddress:async()=>{var t,e,n,r,o;const i=await V(),a=null==(t=i.getConfig)?void 0:t.call(i);if(null==a?void 0:a.contractAddress)return a.contractAddress;if((null==a?void 0:a.chainId)&&(null==(n=null==(e=null==a?void 0:a.chainContracts)?void 0:e[a.chainId])?void 0:n.address))return a.chainContracts[a.chainId].address||null;if(i.invoke)try{const t=await i.invoke("getConfig");if(null==t?void 0:t.contractAddress)return t.contractAddress;if((null==t?void 0:t.chainId)&&(null==(o=null==(r=null==t?void 0:t.chainContracts)?void 0:r[t.chainId])?void 0:o.address))return t.chainContracts[t.chainId].address||null}catch{}return null},getAppConfig:v,getAddress:async()=>(await V()).wallet.getAddress(),signMessage:async t=>{var e;const n=await V();if(!(null==(e=n.wallet)?void 0:e.signMessage))throw new Error("signMessage not available");return n.wallet.signMessage(t)},switchChain:y,switchToAppChain:async t=>{const e=await v(),n=(null==e?void 0:e.chainId)||(Array.isArray(null==e?void 0:e.supportedChains)&&e.supportedChains.length>0?e.supportedChains[0]:null)||t||null;if(!n)throw new Error("app chain not configured");await y(n)},getBalance:async t=>{var e;u.value=!0,d.value=null;try{const n=await V(),r=null==(e=n.getConfig)?void 0:e.call(n),a=(null==r?void 0:r.chainId)||i.value,s=a?`?chain_id=${encodeURIComponent(a)}`:"",l=await K(`/wallet-balance${s}`),c=(null==l?void 0:l.balances)??{};return o.value=c,t?c[t]||"0":c}catch(n){throw d.value=n,n}finally{u.value=!1}},getTransactions:async(t=20)=>{var e;u.value=!0,d.value=null;try{const n=Number.isNaN(t)||t<1?20:Math.min(t,100),r=await V(),o=null==(e=r.getConfig)?void 0:e.call(r),a=(null==o?void 0:o.chainId)||i.value,s=new URLSearchParams({limit:String(n)});a&&s.set("chain_id",a);return(await K(`/wallet-transactions?${s.toString()}`)).transactions}catch(n){throw d.value=n,n}finally{u.value=!1}},invoke:async(t,e)=>(await V()).invoke(t,e),requireConnection:(t={})=>{const{showPrompt:e=!0,errorMessage:n}=t;return!!c.value||(e&&(h.value=n||null,f.value=!0),!1)},closeConnectionPrompt:()=>{f.value=!1,h.value=null},clearError:()=>{d.value=null}}}"undefined"!=typeof window&&("undefined"!=typeof window&&(H&&D||(D=t=>{if(t.source!==window.parent)return;if(!O.isValid(t.origin))return;const e=t.data;e&&"object"==typeof e&&("miniapp_config"!==e.type?"miniapp_wallet_state_change"===e.type&&(F={connected:Boolean(e.connected),address:e.address||null,chainId:e.chainId??null,chainType:e.chainType??null,balance:e.balance||e.multiChainBalance||null,balances:e.balances||void 0},P.forEach(t=>{try{t(F)}catch(e){console.error("[MiniApp SDK] Wallet state listener error:",e)}})):e.config&&"object"==typeof e.config&&(N=e.config))},window.addEventListener("message",D),H=!0)),setTimeout(function(){if("undefined"==typeof window)return;const t=O.getSafeTargetOrigin();try{window.parent.postMessage({type:"miniapp_ready"},t)}catch{}},U)),e("en");for(var q={},W={byteLength:function(t){var e=tt(t),n=e[0],r=e[1];return 3*(n+r)/4-r},toByteArray:function(t){var e,n,r=tt(t),o=r[0],i=r[1],a=new Z(function(t,e,n){return 3*(e+n)/4-n}(0,o,i)),s=0,l=i>0?o-4:o;for(n=0;n<l;n+=4)e=J[t.charCodeAt(n)]<<18|J[t.charCodeAt(n+1)]<<12|J[t.charCodeAt(n+2)]<<6|J[t.charCodeAt(n+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=255&e;2===i&&(e=J[t.charCodeAt(n)]<<2|J[t.charCodeAt(n+1)]>>4,a[s++]=255&e);1===i&&(e=J[t.charCodeAt(n)]<<10|J[t.charCodeAt(n+1)]<<4|J[t.charCodeAt(n+2)]>>2,a[s++]=e>>8&255,a[s++]=255&e);return a},fromByteArray:function(t){for(var e,n=t.length,r=n%3,o=[],i=16383,a=0,s=n-r;a<s;a+=i)o.push(nt(t,a,a+i>s?s:a+i));1===r?(e=t[n-1],o.push(Y[e>>2]+Y[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(Y[e>>10]+Y[e>>4&63]+Y[e<<2&63]+"="));return o.join("")}},Y=[],J=[],Z="undefined"!=typeof Uint8Array?Uint8Array:Array,X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q=0;Q<64;++Q)Y[Q]=X[Q],J[X.charCodeAt(Q)]=Q;function tt(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function et(t){return Y[t>>18&63]+Y[t>>12&63]+Y[t>>6&63]+Y[63&t]}function nt(t,e,n){for(var r,o=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),o.push(et(r));return o.join("")}J["-".charCodeAt(0)]=62,J["_".charCodeAt(0)]=63;var rt={
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
read:function(t,e,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?o-1:0,f=n?-1:1,h=t[e+d];for(d+=f,i=h&(1<<-u)-1,h>>=-u,u+=s;u>0;i=256*i+t[e+d],d+=f,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+t[e+d],d+=f,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},write:function(t,e,n,r,o,i){var a,s,l,c=8*i-o-1,u=(1<<c)-1,d=u>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(e*l-1)*Math.pow(2,o),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;t[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[n+h]=255&a,h+=p,a/=256,c-=8);t[n+h-p]|=128*g}};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
!function(t){const e=W,n=rt,r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o;const{Uint8Array:i,ArrayBuffer:a,SharedArrayBuffer:s}=globalThis;function l(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new i(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return u(t,e,n)}function u(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|v(t,e);let r=l(n);const o=r.write(t,e);o!==n&&(r=r.slice(0,o));return r}(t,e);if(a.isView(t))return function(t){if(Z(t,i)){const e=new i(t);return p(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Z(t,a)||t&&Z(t.buffer,a))return p(t,e,n);if(void 0!==s&&(Z(t,s)||t&&Z(t.buffer,s)))return p(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return c.from(r,e,n);const o=function(t){if(c.isBuffer(t)){const e=0|g(t.length),n=l(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||X(t.length)?l(0):h(t);if("Buffer"===t.type&&Array.isArray(t.data))return h(t.data)}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function d(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return d(t),l(t<0?0:0|g(t))}function h(t){const e=t.length<0?0:0|g(t.length),n=l(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function p(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new i(t):void 0===n?new i(t,e):new i(t,e,n),Object.setPrototypeOf(r,c.prototype),r}function g(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function v(t,e){if(c.isBuffer(t))return t.length;if(a.isView(t)||Z(t,a))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(t).length;default:if(o)return r?-1:q(t).length;e=(""+e).toLowerCase(),o=!0}}function y(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return A(this,e,n);case"ascii":return M(this,e,n);case"latin1":case"binary":return S(this,e,n);case"base64":return I(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function w(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),X(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,o);if("number"==typeof e)return e&=255,"function"==typeof i.prototype.indexOf?o?i.prototype.indexOf.call(t,e,n):i.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,o){let i,a=1,s=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){let r=-1;for(i=n;i<s;i++)if(c(t,i)===c(e,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===l)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){let n=!0;for(let r=0;r<l;r++)if(c(t,i+r)!==c(e,r)){n=!1;break}if(n)return i}return-1}function k(t,e,n,r){n=Number(n)||0;const o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=e.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(e.substr(2*a,2),16);if(X(r))return a;t[n+a]=r}return a}function _(t,e,n,r){return J(q(e,t.length-n),t,n,r)}function B(t,e,n,r){return J(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return J(Y(e),t,n,r)}function C(t,e,n,r){return J(function(t,e){let n,r,o;const i=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function I(t,n,r){return 0===n&&r===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(n,r))}function A(t,e,n){n=Math.min(t.length,n);const r=[];let o=e;for(;o<n;){const e=t[o];let i=null,a=e>239?4:e>223?3:e>191?2:1;if(o+a<=n){let n,r,s,l;switch(a){case 1:e<128&&(i=e);break;case 2:n=t[o+1],128==(192&n)&&(l=(31&e)<<6|63&n,l>127&&(i=l));break;case 3:n=t[o+1],r=t[o+2],128==(192&n)&&128==(192&r)&&(l=(15&e)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:n=t[o+1],r=t[o+2],s=t[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(l=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&s,l>65535&&l<1114112&&(i=l))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(t){const e=t.length;if(e<=E)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=E));return n}(r)}c.TYPED_ARRAY_SUPPORT=function(){try{const t=new i(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,i.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,n){return u(t,e,n)},Object.setPrototypeOf(c.prototype,i.prototype),Object.setPrototypeOf(c,i),c.alloc=function(t,e,n){return function(t,e,n){return d(t),t<=0?l(t):void 0!==e?"string"==typeof n?l(t).fill(e,n):l(t).fill(e):l(t)}(t,e,n)},c.allocUnsafe=function(t){return f(t)},c.allocUnsafeSlow=function(t){return f(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(Z(t,i)&&(t=c.from(t,t.offset,t.byteLength)),Z(e,i)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=c.allocUnsafe(e);let o=0;for(n=0;n<t.length;++n){let e=t[n];if(Z(e,i))o+e.length>r.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(r,o)):i.prototype.set.call(r,e,o);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,o)}o+=e.length}return r},c.byteLength=v,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)w(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)w(this,e,e+3),w(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)w(this,e,e+7),w(this,e+1,e+6),w(this,e+2,e+5),w(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?A(this,0,t):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(t,e,n,r,o){if(Z(t,i)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;let a=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0);const l=Math.min(a,s),u=this.slice(r,o),d=t.slice(e,n);for(let i=0;i<l;++i)if(u[i]!==d[i]){a=u[i],s=d[i];break}return a<s?-1:s<a?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return k(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":case"latin1":case"binary":return B(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const E=4096;function M(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function S(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function T(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let o="";for(let i=e;i<n;++i)o+=Q[t[i]];return o}function L(t,e,n){const r=t.slice(e,n);let o="";for(let i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function U(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,n,r,o,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function O(t,e,n,r,o){H(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,n}function N(t,e,n,r,o){H(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n+7]=i,i>>=8,t[n+6]=i,i>>=8,t[n+5]=i,i>>=8,t[n+4]=i;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=a,a>>=8,t[n+2]=a,a>>=8,t[n+1]=a,a>>=8,t[n]=a,n+8}function $(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function V(t,e,r,o,i){return e=+e,r>>>=0,i||$(t,0,r,4),n.write(t,e,r,o,23,4),r+4}function z(t,e,r,o,i){return e=+e,r>>>=0,i||$(t,0,r,8),n.write(t,e,r,o,52,8),r+8}c.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||U(t,e,this.length);let r=this[t],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[t+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||U(t,e,this.length);let r=this[t+--e],o=1;for(;e>0&&(o*=256);)r+=this[t+--e]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||U(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||U(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||U(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||U(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||U(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=tt(function(t){j(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||K(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,o=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))}),c.prototype.readBigUInt64BE=tt(function(t){j(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||K(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],o=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)}),c.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||U(t,e,this.length);let r=this[t],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||U(t,e,this.length);let r=e,o=1,i=this[t+--r];for(;r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return t>>>=0,e||U(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||U(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){t>>>=0,e||U(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||U(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||U(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=tt(function(t){j(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||K(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)}),c.prototype.readBigInt64BE=tt(function(t){j(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||K(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)}),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||U(t,4,this.length),n.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||U(t,4,this.length),n.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||U(t,8,this.length),n.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||U(t,8,this.length),n.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){R(this,t,e,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){R(this,t,e,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=tt(function(t,e=0){return O(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=tt(function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}let o=0,i=1,a=0;for(this[e]=255&t;++o<n&&(i*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/i|0)-a&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[e+o]=255&t;--o>=0&&(i*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/i|0)-a&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=tt(function(t,e=0){return O(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=tt(function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(t,e,n){return V(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return V(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return z(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return z(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const o=r-n;return this===t&&"function"==typeof i.prototype.copyWithin?this.copyWithin(e,n,r):i.prototype.set.call(t,this.subarray(n,r),e),o},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{const i=c.isBuffer(t)?t:c.from(t,r),a=i.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=i[o%a]}return this};const P={};function F(t,e,n){P[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function D(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function H(t,e,n,r,o,i){if(t>n||t<e){const n="bigint"==typeof e?"n":"";let r;throw r=0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(i+1)}${n}`:`>= -(2${n} ** ${8*(i+1)-1}${n}) and < 2 ** ${8*(i+1)-1}${n}`,new P.ERR_OUT_OF_RANGE("value",r,t)}!function(t,e,n){j(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||K(e,t.length-(n+1))}(r,o,i)}function j(t,e){if("number"!=typeof t)throw new P.ERR_INVALID_ARG_TYPE(e,"number",t)}function K(t,e,n){if(Math.floor(t)!==t)throw j(t,n),new P.ERR_OUT_OF_RANGE("offset","an integer",t);if(e<0)throw new P.ERR_BUFFER_OUT_OF_BOUNDS;throw new P.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,t)}F("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),F("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),F("ERR_OUT_OF_RANGE",function(t,e,n){let r=`The value of "${t}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=D(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=D(o)),o+="n"),r+=` It must be ${e}. Received ${o}`,r},RangeError);const G=/[^+/0-9A-Za-z-_]/g;function q(t,e){let n;e=e||1/0;const r=t.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Y(t){return e.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function J(t,e,n,r){let o;for(o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function Z(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function X(t){return t!=t}const Q=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)e[r+o]=t[n]+t[o]}return e}();function tt(t){return"undefined"==typeof BigInt?et:t}function et(){throw new Error("BigInt not supported")}}(q);const ot=q.Buffer;function it(t,e=6,n=4){const r=(t??"").trim();return r?r.length<=e+n+3?r:`${r.slice(0,e)}...${r.slice(-n)}`:"--"}function at(t){const e=t.replace(/^0x/i,"").trim();if(!e)return new Uint8Array;const n=e.length%2==0?e:`0${e}`,r=new Uint8Array(n.length/2);for(let o=0;o<r.length;o+=1)r[o]=Number.parseInt(n.slice(2*o,2*o+2),16);return r}function st(t){return Array.from(t,t=>t.toString(16).padStart(2,"0")).join("")}function lt(t){if(!t||"object"!=typeof t)return t;const e=t,n=String(e.type||e.Type||""),r=e.value??e.Value;switch(n){case"Integer":return r??"0";case"Boolean":return!0===r||"true"===r||1===r||"1"===r;case"ByteArray":case"ByteString":{const t=String(r??"").replace(/^0x/i,""),e=function(t){try{const e=at(t);if(!e.length)return"";const n=new TextDecoder("utf-8",{fatal:!1}).decode(e);return n.includes("ï¿½")?null:n}catch{return null}}(t);return null!==e?e:t}case"String":return String(r??"");case"Hash160":case"Hash256":return function(t){const e=String(t||"").trim();return e?e.replace(/^0x/i,"").toLowerCase():""}(String(r??""));case"Array":case"Struct":return Array.isArray(r)?r.map(lt):[];case"Map":if(Array.isArray(r)){const t={};for(const e of r){const n=lt(null==e?void 0:e.key),r=lt(null==e?void 0:e.value);t[String(n)]=r}return t}return{};default:return r}}function ct(t,e,n,r){if(!function(t){return"evm"===function(t){if("string"==typeof t)return t;const e=null==t?void 0:t.value;return"string"==typeof e?e:""}(t)}(t))return!0;let o="";if(!o&&"function"==typeof e){const t=e("wrongChainMessage");o=t&&"wrongChainMessage"!==t?t:e("wrongChain")}o||(o="Wrong network");const i=globalThis.uni;return(null==i?void 0:i.showToast)&&i.showToast({title:o,icon:"none"}),!1}const ut={coin:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v12M8 10h8M8 14h8"/></svg>',trophy:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 22V8a6 6 0 0 1 12 0v14"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/></svg>',dice:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8" cy="8" r="1" fill="currentColor"/><circle cx="16" cy="16" r="1" fill="currentColor"/><circle cx="12" cy="12" r="1" fill="currentColor"/></svg>',ticket:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 9a3 3 0 0 1 0 6v4h20v-4a3 3 0 0 1 0-6V5H2z"/><path d="M9 5v14"/></svg>',chart:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 3v18h18"/><path d="M7 16l4-4 4 4 5-6"/></svg>',money:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v12"/><path d="M15 9.5c0-1.5-1.5-2.5-3-2.5s-3 1-3 2.5 1.5 2.5 3 2.5 3 1 3 2.5-1.5 2.5-3 2.5"/></svg>',x:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"/></svg>',check:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg>',flash:'<svg viewBox="0 0 24 24" fill="currentColor"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>',shield:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2l8 4v6c0 5.5-3.8 10.7-8 12-4.2-1.3-8-6.5-8-12V6l8-4z"/></svg>',swap:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M7 16V4M7 4L3 8M7 4l4 4M17 8v12M17 20l4-4M17 20l-4-4"/></svg>',gift:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="8" width="18" height="13" rx="2"/><path d="M12 8v13M3 12h18"/></svg>',heart:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>',clock:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>',search:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>',lock:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>',heads:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 8v2M8 14h8M10 17h4"/></svg>',tails:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="4"/></svg>',vote:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M9 11l2 2 4-4"/></svg>',boost:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/><circle cx="12" cy="12" r="2" fill="currentColor"/></svg>',mask:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2z"/><circle cx="8" cy="10" r="1.5" fill="currentColor"/><circle cx="16" cy="10" r="1.5" fill="currentColor"/><path d="M8 15c1 1.5 3 2 4 2s3-.5 4-2"/></svg>',merc:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 7v6c0 5.5 3.8 10.7 10 12 6.2-1.3 10-6.5 10-12V7L12 2z"/><path d="M12 8v8M8 12h8"/></svg>',home:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>',news:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2"/><line x1="10" y1="6" x2="18" y2="6"/><line x1="10" y1="10" x2="18" y2="10"/><line x1="10" y1="14" x2="14" y2="14"/></svg>',stats:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>',user:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>',settings:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>',history:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>',play:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"/></svg>',info:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>',file:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>',crown:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 4l3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14"/></svg>',star:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>',gem:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 2 9 12 22 22 9 12 2"/><line x1="2" y1="9" x2="22" y2="9"/><line x1="12" y1="2" x2="12" y2="22"/></svg>',wallet:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12V7H5a2 2 0 0 1 0-4h14v4"/><path d="M3 5v14a2 2 0 0 0 2 2h16v-5"/><path d="M18 12a2 2 0 0 0 0 4h4v-4z"/></svg>',neo:'<svg viewBox="0 0 24 24" fill="none"><path d="M12 2L3 7v10l9 5 9-5V7l-9-5z" fill="#00E599"/><path d="M12 4.5L5.5 8v8L12 19.5l6.5-3.5V8L12 4.5z" fill="#00E599" stroke="#fff" stroke-width="0.5"/><path d="M12 7l-4 2.2v5.6l4 2.2 4-2.2V9.2L12 7z" fill="#fff"/></svg>',gas:'<svg viewBox="0 0 24 24" fill="none"><path d="M12 2L3 7v10l9 5 9-5V7l-9-5z" fill="#FFD700"/><path d="M12 4.5L5.5 8v8L12 19.5l6.5-3.5V8L12 4.5z" fill="#FFD700" stroke="#fff" stroke-width="0.5"/><path d="M12 7l-4 2.2v5.6l4 2.2 4-2.2V9.2L12 7z" fill="#fff"/></svg>',"neo-outline":'<svg viewBox="0 0 24 24" fill="none" stroke="#00E599" stroke-width="1.5"><path d="M12 2L3 7v10l9 5 9-5V7l-9-5z"/><path d="M12 7l-4 2.2v5.6l4 2.2 4-2.2V9.2L12 7z"/></svg>',"gas-outline":'<svg viewBox="0 0 24 24" fill="none" stroke="#FFD700" stroke-width="1.5"><path d="M12 2L3 7v10l9 5 9-5V7l-9-5z"/><path d="M12 7l-4 2.2v5.6l4 2.2 4-2.2V9.2L12 7z"/></svg>',checkbox:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 11 12 14 22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>',droplet:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"/></svg>',burger:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 15h18"/><path d="M3 12h18"/><path d="M3 9h18"/><path d="M12 3a9 9 0 0 1 9 9h-3a6 6 0 0 0-12 0H3a9 9 0 0 1 9-9z"/><path d="M12 21a9 9 0 0 0 9-9h-3a6 6 0 0 1-12 0H3a9 9 0 0 0 9 9z"/></svg>',rocket:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/><path d="M12 15l-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/><path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"/><path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/></svg>',book:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>',unlock:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 9.9-1"/></svg>',envelope:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>',sparkle:'<svg viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M12 2L14.4 9.6L22 12L14.4 14.4L12 22L9.6 14.4L2 12L9.6 9.6L12 2Z"/></svg>',game:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="6" y1="12" x2="10" y2="12"/><line x1="8" y1="10" x2="8" y2="14"/><line x1="15" y1="13" x2="15.01" y2="13"/><line x1="18" y1="11" x2="18.01" y2="11"/><rect x="2" y="6" width="20" height="12" rx="2"/></svg>',target:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>',archive:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="21 8 21 21 3 21 3 8"/><rect x="1" y="3" width="22" height="5"/><line x1="10" y1="12" x2="14" y2="12"/></svg>',plus:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>',refresh:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6"/><path d="M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg>',flm:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 22h20L12 2zm0 4l6 14H6l6-14z" fill="currentColor"/></svg>',"arrow-left":'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>',"chevron-right":'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>',"check-circle":'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>',"alert-circle":'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>',copy:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>',eye:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>',"eye-off":'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/></svg>',download:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>',tools:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>',sync:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"/></svg>',flame:'<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 23c-3.65 0-8-2.35-8-8.5 0-3.36 2.13-6.05 4.5-8.5 1.05-1.08 2.02-2.38 2.5-3.5.48 1.12 1.45 2.42 2.5 3.5 2.37 2.45 4.5 5.14 4.5 8.5 0 6.15-4.35 8.5-8 8.5zm0-18c-.67 1.15-1.47 2.15-2.27 3.05C7.83 10.05 6 12.35 6 14.5 6 19.24 9.24 21 12 21s6-1.76 6-6.5c0-2.15-1.83-4.45-3.73-6.45C13.47 7.15 12.67 6.15 12 5z"/><path d="M12 21c-1.93 0-4-1.35-4-4.5S10 12 12 9c2 3 4 4.5 4 7.5s-2.07 4.5-4 4.5z"/></svg>',"heart-broken":'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 6l-1.5-3L9 6l1.5 3.5L12 6z"/><path d="M12 6l1.5 3.5L15 6l-1.5-3L12 6z"/><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/><path d="M12 5.67L10.5 9.5 12 13l1.5-3.5L12 5.67z"/></svg>',clipboard:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/></svg>'},dt=E(o({__name:"AppIcon",props:{name:{},size:{},color:{}},setup(t){const e=t,n=i(()=>ut[e.name]||ut.coin),r=i(()=>({width:`${e.size||24}px`,height:`${e.size||24}px`,color:e.color||"currentColor",display:"inline-flex",alignItems:"center",justifyContent:"center"}));return(t,e)=>{const o=l;return s(),a(o,{class:"icon",style:c(r.value),innerHTML:n.value},null,8,["style","innerHTML"])}}}),[["__scopeId","data-v-157cf48b"]]),ft=E(o({__name:"NavBar",props:{tabs:{},activeTab:{}},emits:["change"],setup:t=>(t,e)=>{const n=l,r=v;return s(),a(n,{class:"navbar"},{default:u(()=>[(s(!0),d(h,null,f(t.tabs,e=>(s(),a(n,{key:e.id,class:p(["nav-item",t.activeTab===e.id&&"active"]),onClick:n=>t.$emit("change",e.id)},{default:u(()=>[g(n,{class:"nav-icon"},{default:u(()=>[g(dt,{name:e.icon,size:22},null,8,["name"])]),_:2},1024),g(r,{class:"nav-label"},{default:u(()=>[y(w(e.label),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})}}),[["__scopeId","data-v-0075c068"]]),ht=E(o({__name:"TopNavBar",props:{title:{},showBack:{type:Boolean}},emits:["back"],setup:t=>(t,e)=>{const n=l,r=v;return s(),a(n,{class:"top-navbar"},{default:u(()=>[g(n,{class:"nav-left"},{default:u(()=>[t.showBack?(s(),a(n,{key:0,class:"nav-btn",onClick:e[0]||(e[0]=e=>t.$emit("back"))},{default:u(()=>[g(dt,{name:"arrow-left",size:20})]),_:1})):b("",!0)]),_:1}),g(n,{class:"nav-center"},{default:u(()=>[g(r,{class:"nav-title"},{default:u(()=>[y(w(t.title),1)]),_:1})]),_:1}),g(n,{class:"nav-right"},{default:u(()=>[m(t.$slots,"right",{},void 0,!0)]),_:3})]),_:3})}}),[["__scopeId","data-v-abcae6c7"]]),pt=E(o({__name:"AppLayout",props:{title:{default:""},showTopNav:{type:Boolean,default:!1},showBack:{type:Boolean,default:!1},tabs:{default:()=>[]},activeTab:{default:""},allowScroll:{type:Boolean,default:!0}},emits:["back","tab-change"],setup(t,{emit:e}){const n="undefined"!=typeof window&&"1"===new URLSearchParams(window.location.search).get("embedded"),r=t,o=e,c=i(()=>r.activeTab||""),d=()=>{o("back");const t=_();t&&t.length>1&&B({delta:1})};return(t,e)=>{const r=l;return s(),a(r,{class:p(["mobile-container",k(n)&&"embedded"])},{default:u(()=>[g(r,{class:"aspect-wrapper"},{default:u(()=>[g(r,{class:"app-layout"},{default:u(()=>[t.showTopNav?(s(),a(ht,{key:0,title:t.title??"","show-back":t.showBack,onBack:d},null,8,["title","show-back"])):b("",!0),g(r,{class:"app-content"},{default:u(()=>[m(t.$slots,"default",{},void 0,!0)]),_:3}),t.tabs&&t.tabs.length>0?(s(),a(ft,{key:1,tabs:t.tabs,"active-tab":c.value,onChange:e[0]||(e[0]=e=>t.$emit("tab-change",e))},null,8,["tabs","active-tab"])):b("",!0)]),_:3})]),_:3})]),_:3},8,["class"])}}}),[["__scopeId","data-v-203546fb"]]),gt=E(o({__name:"NeoButton",props:{variant:{default:"primary"},size:{default:"md"},block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["click"],setup:t=>(t,e)=>{const n=l,r=x;return s(),a(r,{class:p(["neo-btn",`neo-btn--${t.variant}`,`neo-btn--${t.size}`,{"neo-btn--block":t.block,"neo-btn--loading":t.loading}]),disabled:t.disabled||t.loading,"aria-busy":t.loading,"aria-disabled":t.disabled||t.loading,onClick:e[0]||(e[0]=e=>t.$emit("click",e))},{default:u(()=>[t.loading?(s(),a(n,{key:0,class:"neo-btn__spinner"})):m(t.$slots,"default",{key:1},void 0,!0)]),_:3},8,["class","disabled","aria-busy","aria-disabled"])}}),[["__scopeId","data-v-554bd0de"]]),vt=E(o({__name:"NeoCard",props:{title:{default:void 0},variant:{default:"default"},hoverable:{type:Boolean,default:!1},flat:{type:Boolean,default:!1}},emits:["click"],setup:t=>(t,e)=>{const n=v,r=l;return s(),a(r,{class:p(["neo-card",`neo-card--${t.variant}`,{"neo-card--hoverable":t.hoverable,"neo-card--flat":t.flat}]),onClick:e[0]||(e[0]=e=>t.hoverable&&t.$emit("click",e))},{default:u(()=>[t.title||t.$slots.header?(s(),a(r,{key:0,class:"neo-card__header"},{default:u(()=>[t.title?(s(),a(n,{key:0,class:"neo-card__title"},{default:u(()=>[y(w(t.title),1)]),_:1})):b("",!0),m(t.$slots,"header",{},void 0,!0)]),_:3})):b("",!0),g(r,{class:"neo-card__body"},{default:u(()=>[m(t.$slots,"default",{},void 0,!0)]),_:3}),t.$slots.footer?(s(),a(r,{key:1,class:"neo-card__footer"},{default:u(()=>[m(t.$slots,"footer",{},void 0,!0)]),_:3})):b("",!0)]),_:3},8,["class"])}}),[["__scopeId","data-v-1379b0b6"]]),yt=E(o({__name:"NeoStats",props:{stats:{}},setup:t=>(t,e)=>{const n=v,r=l;return s(),a(r,{class:"neo-stats"},{default:u(()=>[(s(!0),d(h,null,f(t.stats,t=>(s(),a(r,{key:t.label,class:p(["neo-stats__item",`neo-stats__item--${t.variant||"default"}`])},{default:u(()=>[g(n,{class:"neo-stats__value"},{default:u(()=>[y(w(t.value),1)]),_:2},1024),g(n,{class:"neo-stats__label"},{default:u(()=>[y(w(t.label),1)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})}}),[["__scopeId","data-v-f7ec6641"]]),wt=E(o({__name:"CandidateList",props:{candidates:{},selectedCandidate:{},userVotedPublicKey:{},totalVotes:{},isLoading:{type:Boolean}},emits:["select","view-details"],setup(t,{emit:e}){const{t:n}=M(),r=t,o=e,c=i(()=>[...r.candidates].sort((t,e)=>{const n=_(t.votes),r=_(e.votes);return n===r?0:r>n?1:-1})),m=t=>!t||t.length<12?t:`${t.slice(0,6)}...${t.slice(-4)}`,_=t=>{try{return BigInt(t||"0")}catch{return BigInt(0)}},B=t=>String(t||"").replace(/^0x/i,""),x=t=>!!r.userVotedPublicKey&&B(t.publicKey)===B(r.userVotedPublicKey),I=t=>{const e=_(t);return e>=BigInt(1e12)?(Number(e/BigInt(1e10))/100).toFixed(2)+"T":e>=BigInt(1e9)?(Number(e/BigInt(1e7))/100).toFixed(2)+"B":e>=BigInt(1e6)?(Number(e/BigInt(1e4))/100).toFixed(2)+"M":e>=BigInt(1e3)?(Number(e/BigInt(10))/100).toFixed(2)+"K":t},A=t=>0===t?"rank-gold":1===t?"rank-silver":2===t?"rank-bronze":"";return(t,e)=>{const r=v,i=l;return s(),a(k(vt),{variant:"erobo-neo",class:"candidate-list-card"},{default:u(()=>[t.isLoading?(s(),a(i,{key:0,class:"loading-state"},{default:u(()=>[g(r,{class:"loading-text"},{default:u(()=>[y(w(k(n)("loadingCandidates")),1)]),_:1})]),_:1})):0===t.candidates.length?(s(),a(i,{key:1,class:"empty-state"},{default:u(()=>[g(r,{class:"empty-icon"},{default:u(()=>[y("ð³ï¸")]),_:1}),g(r,{class:"empty-text"},{default:u(()=>[y(w(k(n)("noCandidates")),1)]),_:1})]),_:1})):(s(),a(i,{key:2,class:"candidate-list"},{default:u(()=>[(s(!0),d(h,null,f(c.value,(e,l)=>{var c;return s(),a(i,{key:e.publicKey,class:p(["candidate-item",{selected:(null==(c=t.selectedCandidate)?void 0:c.publicKey)===e.publicKey,"user-voted":x(e)}]),onClick:t=>(t=>{o("select",t)})(e)},{default:u(()=>[g(i,{class:p(["rank-badge",A(l)])},{default:u(()=>[g(r,{class:"rank-number"},{default:u(()=>[y("#"+w(l+1),1)]),_:2},1024)]),_:2},1032,["class"]),g(i,{class:"candidate-info"},{default:u(()=>[g(i,{class:"name-row"},{default:u(()=>[g(r,{class:"candidate-name"},{default:u(()=>[y(w(e.name||m(e.address)),1)]),_:2},1024),x(e)?(s(),a(i,{key:0,class:"your-vote-badge"},{default:u(()=>[g(r,{class:"your-vote-text"},{default:u(()=>[y(w(k(n)("yourVote")),1)]),_:1})]),_:1})):b("",!0)]),_:2},1024),g(r,{class:"candidate-address"},{default:u(()=>[y(w(m(e.publicKey)),1)]),_:2},1024)]),_:2},1024),g(i,{class:"candidate-votes"},{default:u(()=>[g(r,{class:"votes-value"},{default:u(()=>[y(w(I(e.votes)),1)]),_:2},1024),g(r,{class:"votes-label"},{default:u(()=>[y(w(k(n)("votes")),1)]),_:1})]),_:2},1024),g(i,{class:"action-buttons"},{default:u(()=>{var n;return[(null==(n=t.selectedCandidate)?void 0:n.publicKey)===e.publicKey?(s(),a(i,{key:0,class:"selected-indicator"},{default:u(()=>[g(r,{class:"check-icon"},{default:u(()=>[y("â")]),_:1})]),_:1})):b("",!0),g(i,{class:"info-btn",onClick:C(t=>((t,e)=>{o("view-details",t,e+1)})(e,l),["stop"])},{default:u(()=>[g(r,{class:"info-icon"},{default:u(()=>[y("â¹")]),_:1})]),_:2},1032,["onClick"])]}),_:2},1024)]),_:2},1032,["class","onClick"])}),128))]),_:1})),t.totalVotes?(s(),a(i,{key:3,class:"total-votes-footer"},{default:u(()=>[g(r,{class:"total-label"},{default:u(()=>[y(w(k(n)("totalNetworkVotes"))+":",1)]),_:1}),g(r,{class:"total-value"},{default:u(()=>[y(w(I(t.totalVotes)),1)]),_:1})]),_:1})):b("",!0)]),_:1})}}}),[["__scopeId","data-v-98dc6286"]]),bt=E(o({__name:"CandidateDetailModal",props:{candidate:{},rank:{},totalVotes:{},isUserVoted:{type:Boolean},canVote:{type:Boolean},governancePortalUrl:{}},emits:["close","vote"],setup(t){const{t:e}=M(),n=t,r=i(()=>{if(!n.candidate||!n.totalVotes)return"0.00";const t=o(n.totalVotes||"1"),e=o(n.candidate.votes||"0");return t===BigInt(0)?"0.00":(Number(e)/Number(t)*100).toFixed(2)}),o=t=>{try{return BigInt(t||"0")}catch{return BigInt(0)}},c=t=>{const e=o(t||"0");return e>=BigInt(1e12)?(Number(e/BigInt(1e10))/100).toFixed(2)+"T":e>=BigInt(1e9)?(Number(e/BigInt(1e7))/100).toFixed(2)+"B":e>=BigInt(1e6)?(Number(e/BigInt(1e4))/100).toFixed(2)+"M":e>=BigInt(1e3)?(Number(e/BigInt(10))/100).toFixed(2)+"K":t||"0"},d=i(()=>{const t=n.candidate;return!!t&&Boolean(t.website||t.twitter||t.github||t.telegram||t.discord||t.email)});function f(t){var e;if(!t)return;const n=/^https?:\/\//i.test(t)||t.startsWith("mailto:")?t:`https://${t}`,r=null==globalThis?void 0:globalThis.uni;if(null==r?void 0:r.openURL)return void r.openURL({url:n});const o=null==globalThis?void 0:globalThis.plus;(null==(e=null==o?void 0:o.runtime)?void 0:e.openURL)?o.runtime.openURL(n):"undefined"!=typeof window&&window.open?window.open(n,"_blank","noopener,noreferrer"):"undefined"!=typeof window&&(window.location.href=n)}return(t,n)=>{const o=v,i=l,h=I;return t.candidate?(s(),a(i,{key:0,class:"modal-overlay",onClick:n[9]||(n[9]=C(e=>t.$emit("close"),["self"]))},{default:u(()=>[g(i,{class:"modal-content"},{default:u(()=>[g(i,{class:"modal-header"},{default:u(()=>[g(o,{class:"modal-title"},{default:u(()=>[y(w(k(e)("candidateDetails")),1)]),_:1}),g(i,{class:"close-btn",onClick:n[0]||(n[0]=e=>t.$emit("close"))},{default:u(()=>[g(o,{class:"close-icon"},{default:u(()=>[y("Ã")]),_:1})]),_:1})]),_:1}),g(i,{class:"modal-body"},{default:u(()=>[g(i,{class:"rank-section"},{default:u(()=>{return[g(i,{class:p(["rank-badge-large",(n=t.rank,1===n?"rank-gold":2===n?"rank-silver":3===n?"rank-bronze":"")])},{default:u(()=>[g(o,{class:"rank-text"},{default:u(()=>[y("#"+w(t.rank),1)]),_:1})]),_:1},8,["class"]),t.isUserVoted?(s(),a(i,{key:0,class:"voted-badge"},{default:u(()=>[g(o,{class:"voted-text"},{default:u(()=>[y(w(k(e)("yourVote")),1)]),_:1})]),_:1})):b("",!0)];var n}),_:1}),t.candidate.logo?(s(),a(i,{key:0,class:"logo-wrap"},{default:u(()=>[g(h,{class:"candidate-logo",src:t.candidate.logo,mode:"widthFix",alt:t.candidate.name||k(e)("candidateLogo")},null,8,["src","alt"])]),_:1})):b("",!0),g(i,{class:"info-section"},{default:u(()=>[g(o,{class:"info-label"},{default:u(()=>[y(w(k(e)("name")),1)]),_:1}),g(o,{class:"info-value name-value"},{default:u(()=>[y(w(t.candidate.name||k(e)("anonymous")),1)]),_:1})]),_:1}),g(i,{class:"info-section"},{default:u(()=>[g(o,{class:"info-label"},{default:u(()=>[y(w(k(e)("address")),1)]),_:1}),g(o,{class:"info-value mono"},{default:u(()=>[y(w(t.candidate.address||k(e)("notAvailable")),1)]),_:1})]),_:1}),g(i,{class:"info-section"},{default:u(()=>[g(o,{class:"info-label"},{default:u(()=>[y(w(k(e)("publicKey")),1)]),_:1}),g(o,{class:"info-value mono small"},{default:u(()=>[y(w(t.candidate.publicKey||k(e)("notAvailable")),1)]),_:1})]),_:1}),t.candidate.location?(s(),a(i,{key:1,class:"info-section"},{default:u(()=>[g(o,{class:"info-label"},{default:u(()=>[y(w(k(e)("location")),1)]),_:1}),g(o,{class:"info-value"},{default:u(()=>[y(w(t.candidate.location),1)]),_:1})]),_:1})):b("",!0),t.candidate.description?(s(),a(i,{key:2,class:"info-section"},{default:u(()=>[g(o,{class:"info-label"},{default:u(()=>[y(w(k(e)("description")),1)]),_:1}),g(o,{class:"info-value description"},{default:u(()=>[y(w(t.candidate.description),1)]),_:1})]),_:1})):b("",!0),d.value?(s(),a(i,{key:3,class:"info-section"},{default:u(()=>[g(o,{class:"info-label"},{default:u(()=>[y(w(k(e)("links")),1)]),_:1}),g(i,{class:"link-grid"},{default:u(()=>[t.candidate.website?(s(),a(o,{key:0,class:"link-item",onClick:n[1]||(n[1]=e=>f(t.candidate.website))},{default:u(()=>[y(w(k(e)("website")),1)]),_:1})):b("",!0),t.candidate.twitter?(s(),a(o,{key:1,class:"link-item",onClick:n[2]||(n[2]=e=>f(t.candidate.twitter))},{default:u(()=>[y(w(k(e)("twitter")),1)]),_:1})):b("",!0),t.candidate.github?(s(),a(o,{key:2,class:"link-item",onClick:n[3]||(n[3]=e=>f(t.candidate.github))},{default:u(()=>[y(w(k(e)("github")),1)]),_:1})):b("",!0),t.candidate.telegram?(s(),a(o,{key:3,class:"link-item",onClick:n[4]||(n[4]=e=>f(t.candidate.telegram))},{default:u(()=>[y(w(k(e)("telegram")),1)]),_:1})):b("",!0),t.candidate.discord?(s(),a(o,{key:4,class:"link-item",onClick:n[5]||(n[5]=e=>f(t.candidate.discord))},{default:u(()=>[y(w(k(e)("discord")),1)]),_:1})):b("",!0),t.candidate.email?(s(),a(o,{key:5,class:"link-item",onClick:n[6]||(n[6]=e=>f(`mailto:${t.candidate.email}`))},{default:u(()=>[y(w(k(e)("email")),1)]),_:1})):b("",!0)]),_:1})]),_:1})):b("",!0),g(i,{class:"info-section"},{default:u(()=>[g(o,{class:"info-label"},{default:u(()=>[y(w(k(e)("totalVotes")),1)]),_:1}),g(i,{class:"votes-display"},{default:u(()=>[g(o,{class:"votes-value"},{default:u(()=>[y(w(c(t.candidate.votes)),1)]),_:1}),g(o,{class:"votes-percentage"},{default:u(()=>[y("("+w(r.value)+"%)",1)]),_:1})]),_:1})]),_:1}),g(i,{class:"info-section"},{default:u(()=>[g(o,{class:"info-label"},{default:u(()=>[y(w(k(e)("status")),1)]),_:1}),g(i,{class:p(["status-badge",t.candidate.active?"active":"inactive"])},{default:u(()=>[g(o,{class:"status-text"},{default:u(()=>[y(w(t.candidate.active?k(e)("activeValidator"):k(e)("standby")),1)]),_:1})]),_:1},8,["class"])]),_:1})]),_:1}),g(i,{class:"modal-footer"},{default:u(()=>[t.governancePortalUrl?(s(),a(i,{key:0,class:"portal-link",onClick:n[7]||(n[7]=e=>f(t.governancePortalUrl))},{default:u(()=>[y(w(k(e)("openGovernance")),1)]),_:1})):b("",!0),t.isUserVoted?(s(),a(k(vt),{key:2,variant:"erobo-neo",flat:"",class:"text-center"},{default:u(()=>[g(o,{class:"notice-text"},{default:u(()=>[y(w(k(e)("alreadyVotedFor")),1)]),_:1})]),_:1})):(s(),a(k(gt),{key:1,variant:"primary",size:"lg",block:"",disabled:!t.canVote,onClick:n[8]||(n[8]=e=>t.$emit("vote",t.candidate))},{default:u(()=>[y(w(k(e)("voteForCandidate")),1)]),_:1},8,["disabled"]))]),_:1})]),_:1})]),_:1})):b("",!0)}}}),[["__scopeId","data-v-46cf0467"]]),mt=E(o({__name:"InfoTab",props:{address:{}},setup(t){const{t:e}=M(),n=t,r=i(()=>[{label:e("wallet"),value:n.address?it(n.address):e("notConnected")},{label:e("votingPower"),value:n.address?e("basedOnNeo"):"--"}]);return(t,n)=>{const o=v,i=l;return s(),a(i,{class:"tab-content scrollable"},{default:u(()=>[g(k(vt),{title:k(e)("aboutVoting"),variant:"erobo-neo",class:"mb-4"},{default:u(()=>[g(i,{class:"info-section"},{default:u(()=>[g(o,{class:"info-text"},{default:u(()=>[y(w(k(e)("votingDescription")),1)]),_:1})]),_:1})]),_:1},8,["title"]),g(k(vt),{title:k(e)("howItWorks"),variant:"erobo-neo",class:"mb-4"},{default:u(()=>[g(i,{class:"steps-list"},{default:u(()=>[g(i,{class:"step-item"},{default:u(()=>[g(i,{class:"step-number"},{default:u(()=>[y("1")]),_:1}),g(o,{class:"step-text"},{default:u(()=>[y(w(k(e)("step1")),1)]),_:1})]),_:1}),g(i,{class:"step-item"},{default:u(()=>[g(i,{class:"step-number"},{default:u(()=>[y("2")]),_:1}),g(o,{class:"step-text"},{default:u(()=>[y(w(k(e)("step2")),1)]),_:1})]),_:1}),g(i,{class:"step-item"},{default:u(()=>[g(i,{class:"step-number"},{default:u(()=>[y("3")]),_:1}),g(o,{class:"step-text"},{default:u(()=>[y(w(k(e)("step3")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["title"]),g(k(vt),{title:k(e)("yourWallet"),variant:"erobo-neo"},{default:u(()=>[g(k(yt),{stats:r.value},null,8,["stats"])]),_:1},8,["title"])]),_:1})}}}),[["__scopeId","data-v-b1fd9427"]]),kt={},_t=t=>new Uint8Array(kt.createHash("sha256").update(ot.from(t)).digest()),Bt={"0248a37e04c7a5fb9fdc9f0323b2955a94cbb2296d2ad1feacea24ec774a87c4a4":"Neo News Today","035d574cc6a904e82dfd82d7f6fc9c2ca042d4410a4910ecc8c07a07db49dc6513":"Everstake","023e9b32ea892944b2bd6dc757b3bf93781e6b8a8b13996f2648fb166c3c552099":"Binance Staking","020f2887f41474cfeb11fd23a5990269774b375d685526cd5825bb8d479153592b":"Neo SPCC","021033e0811e56994cf41777271891d17d50d0327f2f114c023d53ba50c37077e5":"COZ"},xt={mainnet:{rpcUrl:"https://n3seed2.ngd.network:10332",committeeInfoContract:"0xb776afb6ad0c11565e70f8ee1dd898da43e51be1"},testnet:{rpcUrl:"https://n3seed2.ngd.network:40332",committeeInfoContract:"0x6177bfcef0f51b5dd21b183ff89e301b9c66d71c"}},Ct=/^((http|https|ftp):\/\/)/i,It=async(e,n,r=[])=>{const o={jsonrpc:"2.0",method:n,params:r,id:1},i=await(async(e,n)=>{if("undefined"!=typeof uni&&"function"==typeof t)return new Promise((r,o)=>{t({url:e,method:"POST",data:n,timeout:12e3,header:{"content-type":"application/json"},success:t=>{t.statusCode&&t.statusCode>=200&&t.statusCode<300?r(t.data):o(new Error(`Request failed: ${t.statusCode??"unknown"}`))},fail:t=>{o(t)}})});const r=await fetch(e,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)});if(!r.ok)throw new Error(`Request failed: ${r.status}`);return r.json()})(e,o);if(null==i?void 0:i.error)throw new Error(i.error.message||"RPC error");return null==i?void 0:i.result},At=t=>{const e=String(t??"").trim();return e?e.replace(/^0x/i,""):""},Et=t=>{const e=String(t??"").trim();return e?e.replace(/^0x/i,"").toLowerCase():""},Mt=t=>{if(!t)return;const e=String(t).trim();return e?/^https?:\/\//i.test(e)?e:e.startsWith("www.")?`https://${e}`:e:void 0},St=(t,e)=>{if(!t)return;const n=String(t).trim();return n?/^https?:\/\//i.test(n)?n:n.startsWith("@")?`${e}${n.slice(1)}`:`${e}${n}`:void 0},Tt=t=>{const e=String(t??"").trim();if(!e)return new Uint8Array;const n=e.replace(/[\r\n\s]/g,""),r=null==globalThis?void 0:globalThis.Buffer;if(null==r?void 0:r.from)return Uint8Array.from(r.from(n,"base64"));const o=null==globalThis?void 0:globalThis.atob;if("function"==typeof o){const t=o(n),e=new Uint8Array(t.length);for(let n=0;n<t.length;n+=1)e[n]=t.charCodeAt(n);return e}return new Uint8Array},Lt=t=>(t=>{if(!t.length)return"";if("undefined"!=typeof TextDecoder)return new TextDecoder("utf-8",{fatal:!1}).decode(t);let e="";for(const n of t)e+=String.fromCharCode(n);return e})(Tt(t)),Ut=t=>{if(!t)return"";const e=at(t);return st(Uint8Array.from(e).reverse())},Rt=t=>{const e=_t(_t(t)).slice(0,4),n=new Uint8Array(t.length+4);return n.set(t,0),n.set(e,t.length),(t=>{if(!t.length)return"";const e=[0];for(const n of t){let t=n;for(let n=0;n<e.length;n+=1){const r=256*e[n]+t;e[n]=r%58,t=Math.floor(r/58)}for(;t;)e.push(t%58),t=Math.floor(t/58)}for(const n of t){if(0!==n)break;e.push(0)}return e.reverse().map(t=>"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"[t]).join("")})(n)},Ot=t=>{const e=Et(t);if(!e)return"";const n=at(e);if(!n.length)return"";const r=new Uint8Array(1+n.length);return r[0]=53,r.set(Uint8Array.from(n).reverse(),1),Rt(r)},Nt=t=>{const e=At(t);if(!/^[0-9a-fA-F]{66}$/.test(e))return"";const n=at(`0c21${e}4156e7b327`),r=_t(n),o=(i=r,new Uint8Array(kt.createHash("ripemd160").update(ot.from(i)).digest()));var i;return Ut(st(o))},$t=t=>{const e=Array.isArray(null==t?void 0:t.value)?t.value:Array.isArray(t)?t:null;if(!e||0===e.length)return null;const n=t=>{var n,r;return(null==(n=e[t])?void 0:n.value)??(null==(r=e[t])?void 0:r.Value)??""},r=(o=n(0),st(Tt(o)));var o;const i=Et(Ut(r));if(!i)return null;const a=Lt(n(1)).trim(),s=Lt(n(2)).trim(),l=Lt(n(3)).trim(),c=Lt(n(4)).trim(),u=Lt(n(5)).trim(),d=Lt(n(6)).trim(),f=Lt(n(7)).trim(),h=Lt(n(8)).trim(),p=Lt(n(9)).trim();let g;return p&&(g=Ct.test(p)?p:`https://filesend.ngd.network/gate/get/CeeroywT8ppGE4HGjhpzocJkdb2yu3wD5qCGFTjkw1Cc/${p}`),{scriptHash:i,address:Ot(i),entity:a||void 0,location:s||void 0,website:Mt(l),email:c||void 0,github:St(u,"https://github.com/"),telegram:St(d,"https://t.me/"),twitter:St(f,"https://twitter.com/"),description:h||void 0,logo:g}},Vt=async t=>{const e=xt["neo-n3-testnet"===t?"testnet":"mainnet"],[n,r,o,i]=await Promise.allSettled([It(e.rpcUrl,"getstateheight"),It(e.rpcUrl,"getcandidates"),It(e.rpcUrl,"getcommittee"),It(e.rpcUrl,"invokefunction",[e.committeeInfoContract,"getAllInfo",[],[]])]);if("fulfilled"!==r.status)throw r.reason||new Error("Failed to fetch candidates from governance RPC");const a=Array.isArray(r.value)?r.value:[],s="fulfilled"===o.status?(l=o.value,Array.isArray(l)?l:l&&"object"==typeof l&&Array.isArray(l.committee)?l.committee:[]):[];var l;const c=new Set(s.map(t=>At(t)).filter(Boolean)),u="fulfilled"===i.status?(t=>{var e,n;if(!t||"object"!=typeof t)return[];const r=t,o=r.stack||(null==(e=r.result)?void 0:e.stack)||[];if(!Array.isArray(o)||0===o.length)return[];const i=(null==(n=o[0])?void 0:n.value)??[];if(!Array.isArray(i))return[];const a=[];for(const s of i){const t=$t(s);t&&a.push(t)}return a})(i.value):[],d=new Map(u.map(t=>[t.scriptHash,t])),f=a.map(t=>{const e=At(t.publickey??t.publicKey??t.key??"");if(!e)return null;const n=(t=>{if(null==t)return"0";if("bigint"==typeof t)return t.toString();if("number"==typeof t)return Math.floor(t).toString();const e=String(t).replace(/,/g,"").trim();if(!e)return"0";if(/^\d+$/.test(e))return e;if(/^\d+\.\d+$/.test(e))return e.split(".")[0];const n=Number(e);return Number.isFinite(n)?Math.floor(n).toString():e})(t.votes??t.vote??t.totalVotes),r=(o=t.active??t.isActive,i=c.has(e),"boolean"==typeof o?o:"number"==typeof o?o>0:"string"==typeof o?"true"===o.toLowerCase()||"1"===o:i);var o,i;const a=Nt(e),s=a?d.get(a):void 0;return{publicKey:e,address:(null==s?void 0:s.address)||(a?Ot(a):e),name:(null==s?void 0:s.entity)||zt(e)||void 0,votes:n,active:r,logo:null==s?void 0:s.logo,website:null==s?void 0:s.website,email:null==s?void 0:s.email,location:null==s?void 0:s.location,description:null==s?void 0:s.description,twitter:null==s?void 0:s.twitter,telegram:null==s?void 0:s.telegram,github:null==s?void 0:s.github}}).filter(t=>Boolean(t)),h=f.reduce((t,e)=>t+BigInt(e.votes||"0"),BigInt(0)).toString(),p="fulfilled"===n.status?(t=>{if(!t||"object"!=typeof t)return 0;const e=t,n=e.blockheight??e.blockHeight??e.localrootindex??e.validatedrootindex,r=Number(n);return Number.isFinite(r)?r:0})(n.value):0;return{candidates:f,totalVotes:h,blockHeight:p}},zt=t=>Bt[At(t)],Pt="0xef4073a0f2b305a38ec4050e4d3d28bc40ea63f5",Ft=E(o({__name:"index",setup(t){const{t:r}=M(),o=i(()=>[r("step1"),r("step2"),r("step3"),r("step4")]),c=i(()=>[{name:r("feature1Name"),desc:r("feature1Desc")},{name:r("feature2Name"),desc:r("feature2Desc")}]),{address:d,connect:f,invokeContract:h,invokeRead:p,chainType:m,chainId:_,appChainId:B,switchToAppChain:x}=G(),C=i(()=>[{id:"vote",icon:"checkbox",label:r("vote")},{id:"info",icon:"info",label:r("info")},{id:"docs",icon:"book",label:r("docs")}]),E=e("vote"),T=e(!1),L=e(null),U=e([]),R=e(null),O=e("0"),N=e(0),$=e(!1),V=e(!1),z=e(null),P=e(1),F=e(null),D=i(()=>B.value||_.value||"neo-n3-testnet"),H=i(()=>"neo-n3-testnet"===D.value?"https://governance.neo.org/testnet#/":"https://governance.neo.org/#/"),j=(t,e)=>{L.value={msg:t,type:e},setTimeout(()=>L.value=null,5e3)},K=t=>String(t||"").replace(/^0x/i,""),q=i(()=>K(F.value)||null),W=t=>{R.value=t},Y=(t,e)=>{z.value=t,P.value=e,V.value=!0},J=()=>{V.value=!1,z.value=null},Z=async t=>{R.value=t,J(),await tt()},X=async()=>{if(ct(m,r))if(d.value)try{const t=function(t){var e,n;if(!t)return null;if(Array.isArray(t))return t.map(lt);const r=t,o=r.stack||(null==(e=r.result)?void 0:e.stack)||r.state||(null==(n=r.result)?void 0:n.state)||r.value||null;if(Array.isArray(o)){const t=o.map(lt);return 1===t.length?t[0]:t}return r.type?lt(t):t}(await p({scriptHash:Pt,operation:"getAccountState",args:[{type:"Hash160",value:d.value}]}));let e=null;if(Array.isArray(t))e=t[2];else if(t&&"object"==typeof t){const n=t;e=n.voteTo??n.VoteTo??n.vote_to}const n=K(e);F.value=n||null}catch(t){F.value=null}else F.value=null},Q=async(t=!1)=>{const e=(t=>`candidate_vote_candidates_cache_${t}`)("neo-n3-testnet"===D.value?"testnet":"mainnet");try{const n=(t=>{const e=null==globalThis?void 0:globalThis.uni;return(null==e?void 0:e.getStorageSync)?e.getStorageSync(t):"undefined"!=typeof localStorage?localStorage.getItem(t):null})(e);if(n){const e=JSON.parse(n);U.value=e.candidates||[],O.value=e.totalVotes||"0";const r=e.timestamp||0,o=Date.now();if(!t&&o-r<3e5&&U.value.length>0)return}}catch{}$.value=!0;try{const t="neo-n3-testnet"===D.value?"neo-n3-testnet":"neo-n3-mainnet",n=await Vt(t);if(U.value=n.candidates,O.value=n.totalVotes||"0",N.value=n.blockHeight||0,R.value){const t=U.value.find(t=>{var e;return K(t.publicKey)===K(null==(e=R.value)?void 0:e.publicKey)});R.value=t||null}((t,e)=>{const n=null==globalThis?void 0:globalThis.uni;(null==n?void 0:n.setStorageSync)?n.setStorageSync(t,e):"undefined"!=typeof localStorage&&localStorage.setItem(t,e)})(e,JSON.stringify({candidates:U.value,totalVotes:O.value,blockHeight:N.value,timestamp:Date.now()}))}catch(n){0===U.value.length&&j(r("failedToLoad")||"Failed to load candidates","error")}finally{$.value=!1}},tt=async()=>{if(!T.value&&R.value&&ct(m,r))if(d.value||await f(),d.value){T.value=!0;try{await h({scriptHash:Pt,operation:"vote",args:[{type:"Hash160",value:d.value},{type:"PublicKey",value:R.value.publicKey}]}),j(r("voteSuccess"),"success"),await Promise.all([Q(!0),X()])}catch(t){j(t.message||r("voteFailed"),"error")}finally{T.value=!1}}else j(r("connectWallet"),"error")};return n(async()=>{await Promise.all([Q(),X()])}),A(d,()=>{X()}),A(D,()=>{Q(),X()}),(t,e)=>{const n=v,i=l,f=I;return s(),a(k(pt),{class:"theme-candidate-vote",tabs:C.value,"active-tab":E.value,onTabChange:e[1]||(e[1]=t=>E.value=t)},{default:u(()=>["evm"===k(m)?(s(),a(i,{key:0,class:"px-5 mb-4"},{default:u(()=>[g(k(vt),{variant:"danger"},{default:u(()=>[g(i,{class:"flex flex-col items-center gap-2 py-1"},{default:u(()=>[g(n,{class:"text-center font-bold text-red-400"},{default:u(()=>[y(w(k(r)("wrongChain")),1)]),_:1}),g(n,{class:"text-xs text-center opacity-80 text-white"},{default:u(()=>[y(w(k(r)("wrongChainMessage")),1)]),_:1}),g(k(gt),{size:"sm",variant:"secondary",class:"mt-2",onClick:e[0]||(e[0]=()=>k(x)())},{default:u(()=>[y(w(k(r)("switchToNeo")),1)]),_:1})]),_:1})]),_:1})]),_:1})):b("",!0),"vote"===E.value&&"evm"!==k(m)?(s(),a(i,{key:1,class:"tab-content scrollable"},{default:u(()=>[L.value?(s(),a(k(vt),{key:0,variant:"error"===L.value.type?"danger":"success",class:"mb-4 text-center font-bold"},{default:u(()=>[g(n,null,{default:u(()=>[y(w(L.value.msg),1)]),_:1})]),_:1},8,["variant"])):b("",!0),g(wt,{candidates:U.value,"selected-candidate":R.value,"user-voted-public-key":q.value,"total-votes":O.value,"is-loading":$.value,onSelect:W,onViewDetails:Y},null,8,["candidates","selected-candidate","user-voted-public-key","total-votes","is-loading"]),g(k(vt),{variant:"erobo-neo"},{default:u(()=>[g(i,{class:"vote-form"},{default:u(()=>[R.value?(s(),a(k(vt),{key:0,variant:"erobo-neo",flat:"",class:"selected-candidate-card glass-panel"},{default:u(()=>[g(n,{class:"selected-label"},{default:u(()=>[y(w(k(r)("votingFor")),1)]),_:1}),g(i,{class:"candidate-badge"},{default:u(()=>[g(i,{class:"logo-name-row"},{default:u(()=>[R.value.logo?(s(),a(f,{key:0,class:"candidate-logo-sm",src:R.value.logo,mode:"aspectFit"},null,8,["src"])):b("",!0),g(n,{class:"candidate-name"},{default:u(()=>[y(w(R.value.name||R.value.address),1)]),_:1})]),_:1}),R.value.description?(s(),a(n,{key:0,class:"candidate-desc"},{default:u(()=>[y(w(R.value.description),1)]),_:1})):b("",!0),g(i,{class:"details-grid"},{default:u(()=>[g(i,{class:"detail-item"},{default:u(()=>[g(n,{class:"detail-label"},{default:u(()=>[y(w(k(r)("publicKey")),1)]),_:1}),g(n,{class:"detail-value mono"},{default:u(()=>[y(w(R.value.publicKey),1)]),_:1})]),_:1}),g(i,{class:"detail-item"},{default:u(()=>[g(n,{class:"detail-label"},{default:u(()=>[y(w(k(r)("address")),1)]),_:1}),g(n,{class:"detail-value mono"},{default:u(()=>[y(w(R.value.address),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):(s(),a(k(vt),{key:1,variant:"warning",flat:"",class:"no-candidate-card"},{default:u(()=>[g(n,{class:"warning-text text-center"},{default:u(()=>[y(w(k(r)("selectCandidateFirst")),1)]),_:1})]),_:1})),g(k(gt),{variant:"primary",size:"lg",block:"",disabled:!R.value||!k(d)||T.value,loading:T.value,onClick:tt},{default:u(()=>[y(w(k(r)("voteNow")),1)]),_:1},8,["disabled","loading"]),k(d)?b("",!0):(s(),a(i,{key:2,class:"connect-hint"},{default:u(()=>[g(n,{class:"hint-text"},{default:u(()=>[y(w(k(r)("connectWallet")),1)]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})):b("",!0),"info"===E.value?(s(),a(mt,{key:2,address:k(d)},null,8,["address"])):b("",!0),"docs"===E.value?(s(),a(i,{key:3,class:"tab-content scrollable"},{default:u(()=>[g(k(S),{title:k(r)("title"),subtitle:k(r)("docSubtitle"),description:k(r)("docDescription"),steps:o.value,features:c.value},null,8,["title","subtitle","description","steps","features"])]),_:1})):b("",!0),V.value?(s(),a(bt,{key:4,candidate:z.value,rank:P.value,"total-votes":O.value,"is-user-voted":!!z.value&&K(z.value.publicKey)===q.value,"can-vote":!!k(d)&&!T.value,"governance-portal-url":H.value,onClose:J,onVote:Z},null,8,["candidate","rank","total-votes","is-user-voted","can-vote","governance-portal-url"])):b("",!0)]),_:1},8,["tabs","active-tab"])}}}),[["__scopeId","data-v-b900b4ba"]]);export{Ft as default};
