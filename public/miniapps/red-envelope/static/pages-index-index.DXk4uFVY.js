import{n as e,p as t,j as n,q as a,b as o,t as l,c as r,o as i,v as s,x as c,w as d,y as u,z as v,F as p,A as h,a as f,B as g,C as w,D as y,E as m,G as k,H as b,I as _,J as x,K as C,L as M,M as A,N as z,O as S,P as E,Q as B,R as L,S as I,T as N}from"./vue-vendor.Tti1y2AU.js";const T=5e3,P=1e4,V=100,H=["https://neomini.app","https://miniapp.neo.org","https://testnet.miniapp.neo.org"];const $=new class{constructor(){this.dynamicOrigins=new Set,this.baseOrigins=new Set([...H])}getSelfOrigin(){if("undefined"==typeof window)return null;try{const e=new URL(window.location.href);if("null"===e.origin)return null;if("http:"===e.protocol||"https:"===e.protocol)return e.origin}catch{}return null}getReferrerOrigin(){if("undefined"==typeof document||!document.referrer)return null;try{return new URL(document.referrer).origin}catch{return null}}getAllowedOrigins(){const e=new Set(this.baseOrigins);this.dynamicOrigins.forEach(t=>e.add(t));const t=this.getReferrerOrigin();t&&this.baseOrigins.has(t)&&e.add(t);const n=this.getSelfOrigin();if(n&&e.add(n),"undefined"!=typeof window){const t=window.location.hostname;"localhost"!==t&&"127.0.0.1"!==t||e.add(window.location.origin)}return e}isValid(e){return!(!e||"null"===e)&&this.getAllowedOrigins().has(e)}getTargetOrigin(){var e;const t=this.getReferrerOrigin();if(t&&this.baseOrigins.has(t))return t;try{if("undefined"!=typeof window&&window.parent!==window&&(null==(e=window.location.ancestorOrigins)?void 0:e.length)>0){const e=window.location.ancestorOrigins[0];if(this.baseOrigins.has(e))return e}}catch{}const n=this.getSelfOrigin();if(n)return n;if("undefined"!=typeof window){const e=window.location.hostname;if("localhost"===e||"127.0.0.1"===e)return window.location.origin}throw new Error("Cannot determine safe target origin - no valid origin found")}getSafeTargetOrigin(){try{const e=this.getTargetOrigin();if(e&&"null"!==e)return e}catch{}if("undefined"!=typeof window&&window.parent!==window){const e=window.__MINIAPP_PARENT_ORIGIN__;if("string"==typeof e&&e&&this.baseOrigins.has(e))return e;throw new Error("Cannot communicate securely with parent - origin unknown. Ensure host app sets __MINIAPP_PARENT_ORIGIN__ or uses a supported browser.")}throw new Error("Cannot determine safe target origin - origin is null or undefined")}addDynamicOrigin(e){e&&"null"!==e&&this.dynamicOrigins.add(e)}};let O=null;function F(e){if(!e||"object"!=typeof e)return!1;const t="function"==typeof e.invoke&&"function"==typeof e.getConfig,n="object"==typeof e.wallet||"object"==typeof e.payments;return t||n}function D(e=T){return new Promise((t,n)=>{if("undefined"==typeof window)return void n(new Error("SDK not available in SSR"));if(window.MiniAppSDK)return F(window.MiniAppSDK)?void t(window.MiniAppSDK):void n(new Error("SDK validation failed"));const a=setTimeout(()=>{if(window.removeEventListener("miniapp-sdk-ready",o),window.parent!==window){const e=function(){const e=$.getSafeTargetOrigin();let t=0;const n=(n,...a)=>new Promise((o,l)=>{const r=`sdk-${++t}-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,i=setTimeout(()=>{window.removeEventListener("message",s),l(new Error("SDK invoke timeout"))},P),s=e=>{var t,n;$.isValid(e.origin)&&e.source===window.parent&&"miniapp_sdk_response"===(null==(t=e.data)?void 0:t.type)&&(null==(n=e.data)?void 0:n.id)===r&&(clearTimeout(i),window.removeEventListener("message",s),e.data.ok?o(e.data.result):l(new Error(e.data.error||"SDK call failed")))};window.addEventListener("message",s),window.parent.postMessage({type:"miniapp_sdk_request",id:r,method:n,params:a},e)});return{invoke:n,getConfig:()=>O||("undefined"!=typeof window&&window.__MINIAPP_CONFIG__?(O=window.__MINIAPP_CONFIG__,O):{appId:"",contractAddress:null,chainId:null,chainType:void 0,supportedChains:[],debug:!1}),getAddress:()=>n("getAddress"),wallet:{getAddress:()=>n("wallet.getAddress"),switchChain:e=>n("wallet.switchChain",e),invokeIntent:e=>n("wallet.invokeIntent",e),signMessage:e=>n("wallet.signMessage",e)},payments:{payGAS:(e,t,a)=>n("payments.payGAS",e,t,a),payGASAndInvoke:(e,t,a)=>n("payments.payGASAndInvoke",e,t,a)},governance:{vote:(e,t,a,o)=>n("governance.vote",e,t,a,o),voteAndInvoke:(e,t,a,o)=>n("governance.voteAndInvoke",e,t,a,o),getCandidates:()=>n("governance.getCandidates")},rng:{requestRandom:e=>n("rng.requestRandom",e)},datafeed:{getPrice:e=>n("datafeed.getPrice",e),getPrices:()=>n("datafeed.getPrices"),getNetworkStats:()=>n("datafeed.getNetworkStats"),getRecentTransactions:e=>n("datafeed.getRecentTransactions",e)},stats:{getMyUsage:(e,t)=>n("stats.getMyUsage",e,t)},events:{list:e=>n("events.list",e),emit:(e,t)=>n("events.emit",e,t)},transactions:{list:e=>n("transactions.list",e)},automation:{register:(e,t,a,o)=>n("automation.register",e,t,a,o),unregister:e=>n("automation.unregister",e),status:e=>n("automation.status",e),list:()=>n("automation.list"),update:(e,t,a)=>n("automation.update",e,t,a),enable:e=>n("automation.enable",e),disable:e=>n("automation.disable",e),logs:(e,t)=>n("automation.logs",e,t)},share:{openModal:e=>n("share.openModal",e),getUrl:e=>n("share.getUrl",e),copy:e=>n("share.copy",e)}}}();window.MiniAppSDK=e,e.invoke("getConfig").then(e=>{e&&"object"==typeof e&&(O=e)}).catch(()=>{}),t(e)}else n(new Error("SDK timeout"))},e),o=()=>{if(clearTimeout(a),window.removeEventListener("miniapp-sdk-ready",o),window.MiniAppSDK){if(!F(window.MiniAppSDK))return void n(new Error("SDK validation failed"));t(window.MiniAppSDK)}else n(new Error("SDK not found"))};window.addEventListener("miniapp-sdk-ready",o)})}function R(){return"undefined"==typeof window?null:window.MiniAppSDK??null}const G=new Set;let U={connected:!1,address:null,balance:null},K=null,j=!1;function W(t){const n=e(!1),a=e(null);return{isLoading:n,error:a,execute:async(...e)=>{n.value=!0,a.value=null;try{return await t(...e)}catch(o){throw a.value=o,o}finally{n.value=!1}}}}async function q(e,n={}){var a;const o=e.startsWith("http")?e:`https://api.neo-service-layer.io${e}`;if("undefined"!=typeof uni&&"function"==typeof t)return new Promise((e,a)=>{const l=(e=>{if(e){if(e instanceof Headers){const t={};return e.forEach((e,n)=>{t[n]=e}),t}return Array.isArray(e)?Object.fromEntries(e):e}})(n.headers),r=String((null==l?void 0:l["Content-Type"])||(null==l?void 0:l["content-type"])||"");let i=n.body;if("string"==typeof i&&r.includes("application/json"))try{i=JSON.parse(i)}catch{}t({url:o,method:n.method||"GET",data:i,header:l,success:t=>{var n,o;if(t.statusCode>=200&&t.statusCode<300)e(t.data);else{const e=(null==(o=null==(n=t.data)?void 0:n.error)?void 0:o.message)||`Request failed: ${t.statusCode}`;a(new Error(e))}},fail:e=>{a(new Error(e.errMsg||"Network error"))}})});const l=await fetch(o,{credentials:"include",...n});if(!l.ok){const t=await l.json().catch(()=>({}));throw new Error((null==(a=t.error)?void 0:a.message)||`Request failed: ${e}`)}return l.json()}async function J(e){return q(e,{method:"GET"})}function Q(){const t=e(null),o=e({}),l=e(null),r=e(null),i=e(null),s=e([]),c=e(!1),d=e(!1),u=e(null),v=e(!1),p=e(null),h=e=>{e.connected&&e.address?(t.value=e.address,c.value=!0):(t.value=null,c.value=!1),l.value=e.chainId??null,r.value=e.chainType??null,o.value=(e=>{if(!e)return{};if(e.balances&&Object.keys(e.balances).length>0)return{...e.balances};if(e.balance){const t={};return t[e.balance.nativeSymbol||("neo-n3"===e.chainType?"GAS":"NATIVE")]=e.balance.native||"0",(e.balance.governance||e.balance.governanceSymbol)&&(t[e.balance.governanceSymbol||("neo-n3"===e.chainType?"NEO":"GOV")]=e.balance.governance||"0"),t}return{}})(e)},f=e=>{e&&(i.value=e.chainId??null,s.value=Array.isArray(e.supportedChains)?e.supportedChains:[])},g=async()=>{var e;const t=await D(),n=null==(e=t.getConfig)?void 0:e.call(t);return f(n),n},w=async e=>{const t=await D();if(!t.wallet.switchChain)throw new Error("switchChain not supported by SDK");await t.wallet.switchChain(e),l.value=e};let y=null;return n(()=>{var e;h(U),e=e=>{h(e)},G.add(e),e(U),y=()=>G.delete(e);const n=R();if((null==n?void 0:n.getConfig)&&f(n.getConfig()),n&&!c.value){const e=c.value;n.wallet.getAddress().then(a=>{var o;if(!e&&!c.value){t.value=a,c.value=!0;const e=null==(o=n.getConfig)?void 0:o.call(n);l.value=(null==e?void 0:e.chainId)??null,r.value=(null==e?void 0:e.chainType)??null,f(e)}}).catch(e=>{console.debug("[MiniApp SDK] Fallback wallet connection failed:",(null==e?void 0:e.message)||e)})}D().then(e=>{var t;return f(null==(t=e.getConfig)?void 0:t.call(e))}).catch(()=>{})}),a(()=>{y&&y()}),{address:t,chainId:l,chainType:r,appChainId:i,supportedChains:s,balances:o,isConnected:c,isLoading:d,error:u,showConnectionPrompt:v,connectionPromptMessage:p,connect:async()=>{var e;d.value=!0,u.value=null;try{const n=await D();t.value=await n.wallet.getAddress(),c.value=!0;const a=null==(e=n.getConfig)?void 0:e.call(n);l.value=(null==a?void 0:a.chainId)??null,r.value=(null==a?void 0:a.chainType)??null,f(a)}catch(n){u.value=n}finally{d.value=!1}},invokeIntent:async e=>{var t;const n=R();if(!(null==(t=null==n?void 0:n.wallet)?void 0:t.invokeIntent))throw new Error("invokeIntent not available");return n.wallet.invokeIntent(e)},invokeContract:async e=>{var t;const n=await D(),a=null==(t=n.getConfig)?void 0:t.call(n),o=e.contractAddress||e.scriptHash||e.contractHash,l=e.method||e.operation;if(!o||!l)throw new Error("contract address and method required");return n.invoke("invokeFunction",{contract:o,method:l,args:e.args,chainId:null==a?void 0:a.chainId,chainType:null==a?void 0:a.chainType})},invokeRead:async e=>{var t;const n=await D(),a=null==(t=n.getConfig)?void 0:t.call(n),o=e.contractAddress||e.scriptHash||e.contractHash||(null==a?void 0:a.contractAddress),l=e.method||e.operation;if(!o)throw new Error("contract address not configured");if(!l)throw new Error("method required");return n.invoke("invokeRead",{contract:o,method:l,args:e.args||[],chainId:e.chainId||(null==a?void 0:a.chainId),chainType:e.chainType||(null==a?void 0:a.chainType)})},getContractAddress:async()=>{var e,t,n,a,o;const l=await D(),r=null==(e=l.getConfig)?void 0:e.call(l);if(null==r?void 0:r.contractAddress)return r.contractAddress;if((null==r?void 0:r.chainId)&&(null==(n=null==(t=null==r?void 0:r.chainContracts)?void 0:t[r.chainId])?void 0:n.address))return r.chainContracts[r.chainId].address||null;if(l.invoke)try{const e=await l.invoke("getConfig");if(null==e?void 0:e.contractAddress)return e.contractAddress;if((null==e?void 0:e.chainId)&&(null==(o=null==(a=null==e?void 0:e.chainContracts)?void 0:a[e.chainId])?void 0:o.address))return e.chainContracts[e.chainId].address||null}catch{}return null},getAppConfig:g,getAddress:async()=>(await D()).wallet.getAddress(),signMessage:async e=>{var t;const n=await D();if(!(null==(t=n.wallet)?void 0:t.signMessage))throw new Error("signMessage not available");return n.wallet.signMessage(e)},switchChain:w,switchToAppChain:async e=>{const t=await g(),n=(null==t?void 0:t.chainId)||(Array.isArray(null==t?void 0:t.supportedChains)&&t.supportedChains.length>0?t.supportedChains[0]:null)||e||null;if(!n)throw new Error("app chain not configured");await w(n)},getBalance:async e=>{var t;d.value=!0,u.value=null;try{const n=await D(),a=null==(t=n.getConfig)?void 0:t.call(n),r=(null==a?void 0:a.chainId)||l.value,i=r?`?chain_id=${encodeURIComponent(r)}`:"",s=await J(`/wallet-balance${i}`),c=(null==s?void 0:s.balances)??{};return o.value=c,e?c[e]||"0":c}catch(n){throw u.value=n,n}finally{d.value=!1}},getTransactions:async(e=20)=>{var t;d.value=!0,u.value=null;try{const n=Number.isNaN(e)||e<1?20:Math.min(e,100),a=await D(),o=null==(t=a.getConfig)?void 0:t.call(a),r=(null==o?void 0:o.chainId)||l.value,i=new URLSearchParams({limit:String(n)});r&&i.set("chain_id",r);return(await J(`/wallet-transactions?${i.toString()}`)).transactions}catch(n){throw u.value=n,n}finally{d.value=!1}},invoke:async(e,t)=>(await D()).invoke(e,t),requireConnection:(e={})=>{const{showPrompt:t=!0,errorMessage:n}=e;return!!c.value||(t&&(p.value=n||null,v.value=!0),!1)},closeConnectionPrompt:()=>{v.value=!1,p.value=null},clearError:()=>{u.value=null}}}"undefined"!=typeof window&&("undefined"!=typeof window&&(j&&K||(K=e=>{if(e.source!==window.parent)return;if(!$.isValid(e.origin))return;const t=e.data;t&&"object"==typeof t&&("miniapp_config"!==t.type?"miniapp_wallet_state_change"===t.type&&(U={connected:Boolean(t.connected),address:t.address||null,chainId:t.chainId??null,chainType:t.chainType??null,balance:t.balance||t.multiChainBalance||null,balances:t.balances||void 0},G.forEach(e=>{try{e(U)}catch(t){console.error("[MiniApp SDK] Wallet state listener error:",t)}})):t.config&&"object"==typeof t.config&&(O=t.config))},window.addEventListener("message",K),j=!0)),setTimeout(function(){if("undefined"==typeof window)return;const e=$.getSafeTargetOrigin();try{window.parent.postMessage({type:"miniapp_ready"},e)}catch{}},V)),e("en");const Y=(e,t)=>{const n=e.__vccOpts||e;for(const[a,o]of t)n[a]=o;return n};function Z(e){if("undefined"==typeof window)return null;const t=window.location.search||"",n=new URLSearchParams(t).get(e);if(n)return n;const a=window.location.hash||"";if(a.includes("?")){const[,t]=a.split("?");return new URLSearchParams(t).get(e)}return null}function X(e){return(e||"").toLowerCase().startsWith("zh")?"zh":"en"}const ee={docBadge:{en:"Documentation",zh:"æ–‡æ¡£"},docFooter:{en:"NeoHub MiniApp Protocol v2.4.0",zh:"NeoHub MiniApp Protocol v2.4.0"}};const te=function(t){const n={...ee,...t},a=e(function(){var e;const t=Z("lang")||Z("locale");return t?X(t):"undefined"!=typeof navigator?X(navigator.language||(null==(e=navigator.languages)?void 0:e[0])):"en"}()),o=(e,t)=>{const o=n[e];if(!o)return String(e);let l="";return l="string"==typeof o?o:o[a.value]||o.en||o.zh||String(e),t?((e,t)=>e.replace(/\{(\w+)\}/g,(e,n)=>String(t[n]??`{${n}}`)))(l,t):l},l=e=>{a.value=(e=>e&&e.toLowerCase().startsWith("zh")?"zh":"en")(e)};if("undefined"!=typeof window){window.addEventListener("languageChange",e=>{var t;const n=null==(t=e.detail)?void 0:t.language;n&&l(n)});const e=(()=>{try{if(window.parent!==window&&document.referrer)return new URL(document.referrer).origin}catch{}return window.location.origin})();window.addEventListener("message",t=>{const n=t.source===window.parent;if(!(t.origin===e||t.origin===window.location.origin||n&&("null"===t.origin||"null"===e)))return;const a=t.data;if(!a||"object"!=typeof a)return;if("language-change"!==a.type)return;const o=String(a.language||a.locale||a.lang||"").trim();o&&l(o)})}return()=>({locale:a,t:o,setLocale:l})}({title:{en:"Red Envelope",zh:"çº¢åŒ…"},subtitle:{en:"Lucky red packets",zh:"å¹¸è¿çº¢åŒ…"},createTab:{en:"Create",zh:"åˆ›å»º"},claimTab:{en:"Claim",zh:"é¢†å–"},createEnvelope:{en:"Create Envelope",zh:"åˆ›å»ºçº¢åŒ…"},namePlaceholder:{en:"Envelope name (optional)",zh:"çº¢åŒ…åç§°ï¼ˆå¯é€‰ï¼‰"},descriptionPlaceholder:{en:"Blessing message",zh:"ç¥ç¦è¯­"},totalGasPlaceholder:{en:"Total GAS",zh:"æ€» GAS"},packetsPlaceholder:{en:"Number of packets",zh:"çº¢åŒ…æ•°é‡"},expiryPlaceholder:{en:"Expiry (hours)",zh:"è¿‡æœŸæ—¶é•¿ (å°æ—¶)"},creating:{en:"Creating...",zh:"åˆ›å»ºä¸­..."},sendRedEnvelope:{en:"Send Red Envelope",zh:"å‘é€çº¢åŒ…"},availableEnvelopes:{en:"Available Envelopes",zh:"å¯ç”¨çº¢åŒ…"},from:{en:"From {0}",zh:"æ¥è‡ª {0}"},fromPrefix:{en:"From",zh:"æ¥è‡ª"},remaining:{en:"{0}/{1} left",zh:"å‰©ä½™ {0}/{1}"},envelopeSent:{en:"Envelope sent!",zh:"çº¢åŒ…å·²å‘é€ï¼"},claimedFrom:{en:"Claimed from {0}!",zh:"å·²é¢†å–æ¥è‡ª {0} çš„çº¢åŒ…ï¼"},congratulations:{en:"Congratulations",zh:"æ­å–œå‘è´¢"},error:{en:"Error",zh:"é”™è¯¯"},docs:{en:"Docs",zh:"æ–‡æ¡£"},connectWallet:{en:"Connect wallet",zh:"è¯·è¿æ¥é’±åŒ…"},contractUnavailable:{en:"Contract unavailable",zh:"åˆçº¦ä¸å¯ç”¨"},receiptMissing:{en:"Payment receipt missing",zh:"æ”¯ä»˜å‡­è¯ç¼ºå¤±"},envelopePending:{en:"Envelope pending on-chain",zh:"çº¢åŒ…åˆ›å»ºç¡®è®¤ä¸­"},claimPending:{en:"Claim pending",zh:"é¢†å–ç¡®è®¤ä¸­"},envelopeNotReady:{en:"Envelope not ready yet",zh:"çº¢åŒ…å°šæœªå‡†å¤‡å¥½"},envelopeExpired:{en:"Envelope expired",zh:"çº¢åŒ…å·²è¿‡æœŸ"},envelopeEmpty:{en:"Envelope is empty",zh:"çº¢åŒ…å·²é¢†å®Œ"},alreadyClaimed:{en:"You already claimed this envelope",zh:"ä½ å·²é¢†å–è¿‡è¯¥çº¢åŒ…"},invalidAmount:{en:"Enter at least 0.1 GAS",zh:"è‡³å°‘ 0.1 GAS"},invalidPackets:{en:"Enter 1-100 packets",zh:"è¯·è¾“å…¥ 1-100 ä¸ªçº¢åŒ…"},invalidPerPacket:{en:"Each packet must be at least 0.01 GAS",zh:"æ¯ä¸ªçº¢åŒ…è‡³å°‘ 0.01 GAS"},invalidExpiry:{en:"Enter a valid expiry in hours",zh:"è¯·è¾“å…¥æœ‰æ•ˆçš„è¿‡æœŸå°æ—¶æ•°"},ready:{en:"Ready",zh:"å¯é¢†å–"},notReady:{en:"Preparing",zh:"å‡†å¤‡ä¸­"},expired:{en:"Expired",zh:"å·²è¿‡æœŸ"},confirm:{en:"Confirm",zh:"ç¡®è®¤"},loadingEnvelopes:{en:"Loading envelopes...",zh:"åŠ è½½çº¢åŒ…ä¸­..."},noEnvelopes:{en:"No envelopes available yet",zh:"æš‚æ— å¯é¢†å–çº¢åŒ…"},bestLuck:{en:"Best Luck",zh:"æ‰‹æ°”æœ€ä½³"},copied:{en:"Link copied!",zh:"é“¾æ¥å·²å¤åˆ¶ï¼"},docSubtitle:{en:"Randomized GAS envelopes for social gifting",zh:"ç¤¾äº¤éšæœº GAS çº¢åŒ…"},docDescription:{en:"Red Envelope lets you send GAS as lucky packets with random distribution. NeoHub RNG ensures fair splits, and recipients claim directly to their wallets until the envelope is empty or expires.",zh:"çº¢åŒ…æ”¯æŒå°† GAS ä»¥éšæœºä»½é¢åˆ†å‘ã€‚NeoHub éšæœºæ•°ä¿è¯å…¬å¹³åˆ†é…ï¼Œæ¥æ”¶è€…å¯ç›´æ¥é¢†å–åˆ°é’±åŒ…ï¼Œç›´åˆ°çº¢åŒ…é¢†å®Œæˆ–è¿‡æœŸã€‚"},step1:{en:"Enter the total GAS and number of packets to create.",zh:"è¾“å…¥è¦åˆ›å»ºçš„æ€» GAS å’Œçº¢åŒ…æ•°é‡ã€‚"},step2:{en:"Click 'Send Red Envelope' to authorize the payment.",zh:"ç‚¹å‡»ã€Œå‘é€çº¢åŒ…ã€æˆæƒæ”¯ä»˜ã€‚"},step3:{en:"Recipients can claim their portion randomly until empty!",zh:"æ¥æ”¶è€…å¯ä»¥éšæœºé¢†å–ä»–ä»¬çš„ä»½é¢ï¼Œç›´åˆ°é¢†å®Œä¸ºæ­¢ï¼"},step4:{en:"Share the envelope ID with friends to let them claim.",zh:"ä¸æœ‹å‹åˆ†äº«çº¢åŒ… ID è®©ä»–ä»¬é¢†å–ã€‚"},feature1Name:{en:"Secure Distribution",zh:"å®‰å…¨åˆ†é…"},feature1Desc:{en:"Random amounts are calculated on-chain/TEE for fairness.",zh:"éšæœºé‡‘é¢åœ¨é“¾ä¸Š/TEE ä¸­è®¡ç®—ä»¥ç¡®ä¿å…¬å¹³ã€‚"},feature2Name:{en:"Instant Claim",zh:"å³æ—¶é¢†å–"},feature2Desc:{en:"GAS is transferred directly to your Neo wallet.",zh:"GAS ç›´æ¥è½¬ç§»åˆ°ä½ çš„ Neo é’±åŒ…ã€‚"},feature3Name:{en:"Shareable Links",zh:"å¯åˆ†äº«é“¾æ¥"},feature3Desc:{en:"Share an envelope ID for friends to claim.",zh:"åˆ†äº«çº¢åŒ… ID è®©å¥½å‹é¢†å–ã€‚"},wrongChain:{en:"Wrong Chain",zh:"é“¾é”™è¯¯"},wrongChainMessage:{en:"This app requires Neo N3. Please switch networks.",zh:"æ­¤åº”ç”¨éœ€è¦ Neo N3 ç½‘ç»œï¼Œè¯·åˆ‡æ¢ç½‘ç»œã€‚"},switchToNeo:{en:"Switch to Neo N3",zh:"åˆ‡æ¢åˆ° Neo N3"},defaultBlessing:{en:"Best Wishes",zh:"å¤§å‰å¤§åˆ©"},open:{en:"Open",zh:"æ‰“å¼€"},fromLabel:{en:"From {name}",zh:"æ¥è‡ª {name}"},luckyPacket:{en:"Lucky Packet",zh:"å¹¸è¿çº¢åŒ…"},connectAndOpen:{en:"Connect Wallet & Open",zh:"è¿æ¥é’±åŒ…å¹¶æ‰“å¼€"},opening:{en:"Opening...",zh:"å¼€å¯ä¸­..."},openNow:{en:"Open Now",zh:"ç«‹å³æ‰“å¼€"},wpTitle:{en:"Wallet Required",zh:"éœ€è¦é’±åŒ…"},wpDescription:{en:"Please connect your wallet to continue.",zh:"è¯·è¿æ¥é’±åŒ…ä»¥ç»§ç»­ã€‚"},wpConnect:{en:"Connect Wallet",zh:"è¿æ¥é’±åŒ…"},wpCancel:{en:"Cancel",zh:"å–æ¶ˆ"},docWhatItIs:{en:"What is it?",zh:"è¿™æ˜¯ä»€ä¹ˆï¼Ÿ"},docHowToUse:{en:"How to use",zh:"å¦‚ä½•ä½¿ç”¨"},docOnChainFeatures:{en:"On-Chain Features",zh:"é“¾ä¸Šç‰¹æ€§"}});function ne(e){return function(e){const t=Number("bigint"==typeof e?e:e??0);return Number.isFinite(t)?t/1e8:0}(e)}function ae(e){return function(e,t){if(!Number.isFinite(t)||t<0)return"0";const n=String(e).trim();if(!n||n.startsWith("-"))return"0";const a=n.split(".");if(a.length>2)return"0";const o=a[0]||"0",l=a[1]||"";return!/^\d+$/.test(o)||l&&!/^\d+$/.test(l)?"0":`${o}${(l+"0".repeat(t)).slice(0,t)}`.replace(/^0+/,"")||"0"}(e,8)}function oe(e,t=6,n=4){const a=String(e||"").trim();return a?a.length<=t+n+3?a:`${a.slice(0,t)}...${a.slice(-n)}`:""}function le(e){return new Promise(t=>setTimeout(t,e))}function re(e){try{const t=function(e){const t=e.replace(/^0x/i,"").trim();if(!t)return new Uint8Array;const n=t.length%2==0?t:`0${t}`,a=new Uint8Array(n.length/2);for(let o=0;o<a.length;o+=1)a[o]=Number.parseInt(n.slice(2*o,2*o+2),16);return a}(e);if(!t.length)return"";const n=new TextDecoder("utf-8",{fatal:!1}).decode(t);return n.includes("ï¿½")?null:n}catch{return null}}function ie(e){if(!e||"object"!=typeof e)return e;const t=e,n=String(t.type||t.Type||""),a=t.value??t.Value;switch(n){case"Integer":return a??"0";case"Boolean":return!0===a||"true"===a||1===a||"1"===a;case"ByteArray":case"ByteString":{const e=String(a??"").replace(/^0x/i,""),t=re(e);return null!==t?t:e}case"String":return String(a??"");case"Hash160":case"Hash256":return function(e){const t=String(e||"").trim();return t?t.replace(/^0x/i,"").toLowerCase():""}(String(a??""));case"Array":case"Struct":return Array.isArray(a)?a.map(ie):[];case"Map":if(Array.isArray(a)){const e={};for(const t of a){const n=ie(null==t?void 0:t.key),a=ie(null==t?void 0:t.value);e[String(n)]=a}return e}return{};default:return a}}function se(e){var t,n;if(!e)return null;if(Array.isArray(e))return e.map(ie);const a=e,o=a.stack||(null==(t=a.result)?void 0:t.stack)||a.state||(null==(n=a.result)?void 0:n.state)||a.value||null;if(Array.isArray(o)){const e=o.map(ie);return 1===e.length?e[0]:e}return a.type?ie(e):e}const ce={coin:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v12M8 10h8M8 14h8"/></svg>',trophy:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 22V8a6 6 0 0 1 12 0v14"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/></svg>',dice:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8" cy="8" r="1" fill="currentColor"/><circle cx="16" cy="16" r="1" fill="currentColor"/><circle cx="12" cy="12" r="1" fill="currentColor"/></svg>',ticket:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 9a3 3 0 0 1 0 6v4h20v-4a3 3 0 0 1 0-6V5H2z"/><path d="M9 5v14"/></svg>',chart:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 3v18h18"/><path d="M7 16l4-4 4 4 5-6"/></svg>',money:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v12"/><path d="M15 9.5c0-1.5-1.5-2.5-3-2.5s-3 1-3 2.5 1.5 2.5 3 2.5 3 1 3 2.5-1.5 2.5-3 2.5"/></svg>',x:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"/></svg>',check:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg>',flash:'<svg viewBox="0 0 24 24" fill="currentColor"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>',shield:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2l8 4v6c0 5.5-3.8 10.7-8 12-4.2-1.3-8-6.5-8-12V6l8-4z"/></svg>',swap:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M7 16V4M7 4L3 8M7 4l4 4M17 8v12M17 20l4-4M17 20l-4-4"/></svg>',gift:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="8" width="18" height="13" rx="2"/><path d="M12 8v13M3 12h18"/></svg>',heart:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>',clock:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>',search:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>',lock:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>',heads:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 8v2M8 14h8M10 17h4"/></svg>',tails:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="4"/></svg>',vote:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M9 11l2 2 4-4"/></svg>',boost:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/><circle cx="12" cy="12" r="2" fill="currentColor"/></svg>',mask:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2z"/><circle cx="8" cy="10" r="1.5" fill="currentColor"/><circle cx="16" cy="10" r="1.5" fill="currentColor"/><path d="M8 15c1 1.5 3 2 4 2s3-.5 4-2"/></svg>',merc:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 7v6c0 5.5 3.8 10.7 10 12 6.2-1.3 10-6.5 10-12V7L12 2z"/><path d="M12 8v8M8 12h8"/></svg>',home:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>',news:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2"/><line x1="10" y1="6" x2="18" y2="6"/><line x1="10" y1="10" x2="18" y2="10"/><line x1="10" y1="14" x2="14" y2="14"/></svg>',stats:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>',user:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>',settings:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>',history:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>',play:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"/></svg>',info:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>',file:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>',crown:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 4l3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14"/></svg>',star:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>',gem:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 2 9 12 22 22 9 12 2"/><line x1="2" y1="9" x2="22" y2="9"/><line x1="12" y1="2" x2="12" y2="22"/></svg>',wallet:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12V7H5a2 2 0 0 1 0-4h14v4"/><path d="M3 5v14a2 2 0 0 0 2 2h16v-5"/><path d="M18 12a2 2 0 0 0 0 4h4v-4z"/></svg>',neo:'<svg viewBox="0 0 24 24" fill="none"><path d="M12 2L3 7v10l9 5 9-5V7l-9-5z" fill="#00E599"/><path d="M12 4.5L5.5 8v8L12 19.5l6.5-3.5V8L12 4.5z" fill="#00E599" stroke="#fff" stroke-width="0.5"/><path d="M12 7l-4 2.2v5.6l4 2.2 4-2.2V9.2L12 7z" fill="#fff"/></svg>',gas:'<svg viewBox="0 0 24 24" fill="none"><path d="M12 2L3 7v10l9 5 9-5V7l-9-5z" fill="#FFD700"/><path d="M12 4.5L5.5 8v8L12 19.5l6.5-3.5V8L12 4.5z" fill="#FFD700" stroke="#fff" stroke-width="0.5"/><path d="M12 7l-4 2.2v5.6l4 2.2 4-2.2V9.2L12 7z" fill="#fff"/></svg>',"neo-outline":'<svg viewBox="0 0 24 24" fill="none" stroke="#00E599" stroke-width="1.5"><path d="M12 2L3 7v10l9 5 9-5V7l-9-5z"/><path d="M12 7l-4 2.2v5.6l4 2.2 4-2.2V9.2L12 7z"/></svg>',"gas-outline":'<svg viewBox="0 0 24 24" fill="none" stroke="#FFD700" stroke-width="1.5"><path d="M12 2L3 7v10l9 5 9-5V7l-9-5z"/><path d="M12 7l-4 2.2v5.6l4 2.2 4-2.2V9.2L12 7z"/></svg>',checkbox:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 11 12 14 22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>',droplet:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"/></svg>',burger:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 15h18"/><path d="M3 12h18"/><path d="M3 9h18"/><path d="M12 3a9 9 0 0 1 9 9h-3a6 6 0 0 0-12 0H3a9 9 0 0 1 9-9z"/><path d="M12 21a9 9 0 0 0 9-9h-3a6 6 0 0 1-12 0H3a9 9 0 0 0 9 9z"/></svg>',rocket:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/><path d="M12 15l-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/><path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"/><path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/></svg>',book:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>',unlock:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 9.9-1"/></svg>',envelope:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>',sparkle:'<svg viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M12 2L14.4 9.6L22 12L14.4 14.4L12 22L9.6 14.4L2 12L9.6 9.6L12 2Z"/></svg>',game:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="6" y1="12" x2="10" y2="12"/><line x1="8" y1="10" x2="8" y2="14"/><line x1="15" y1="13" x2="15.01" y2="13"/><line x1="18" y1="11" x2="18.01" y2="11"/><rect x="2" y="6" width="20" height="12" rx="2"/></svg>',target:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>',archive:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="21 8 21 21 3 21 3 8"/><rect x="1" y="3" width="22" height="5"/><line x1="10" y1="12" x2="14" y2="12"/></svg>',plus:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>',refresh:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6"/><path d="M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg>',flm:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 22h20L12 2zm0 4l6 14H6l6-14z" fill="currentColor"/></svg>',"arrow-left":'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>',"chevron-right":'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>',"check-circle":'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>',"alert-circle":'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>',copy:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>',eye:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>',"eye-off":'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/></svg>',download:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>',tools:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>',sync:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"/></svg>',flame:'<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 23c-3.65 0-8-2.35-8-8.5 0-3.36 2.13-6.05 4.5-8.5 1.05-1.08 2.02-2.38 2.5-3.5.48 1.12 1.45 2.42 2.5 3.5 2.37 2.45 4.5 5.14 4.5 8.5 0 6.15-4.35 8.5-8 8.5zm0-18c-.67 1.15-1.47 2.15-2.27 3.05C7.83 10.05 6 12.35 6 14.5 6 19.24 9.24 21 12 21s6-1.76 6-6.5c0-2.15-1.83-4.45-3.73-6.45C13.47 7.15 12.67 6.15 12 5z"/><path d="M12 21c-1.93 0-4-1.35-4-4.5S10 12 12 9c2 3 4 4.5 4 7.5s-2.07 4.5-4 4.5z"/></svg>',"heart-broken":'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 6l-1.5-3L9 6l1.5 3.5L12 6z"/><path d="M12 6l1.5 3.5L15 6l-1.5-3L12 6z"/><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/><path d="M12 5.67L10.5 9.5 12 13l1.5-3.5L12 5.67z"/></svg>',clipboard:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/></svg>'},de=Y(o({__name:"AppIcon",props:{name:{},size:{},color:{}},setup(e){const t=e,n=l(()=>ce[t.name]||ce.coin),a=l(()=>({width:`${t.size||24}px`,height:`${t.size||24}px`,color:t.color||"currentColor",display:"inline-flex",alignItems:"center",justifyContent:"center"}));return(e,t)=>{const o=s;return i(),r(o,{class:"icon",style:c(a.value),innerHTML:n.value},null,8,["style","innerHTML"])}}}),[["__scopeId","data-v-157cf48b"]]),ue=Y(o({__name:"NavBar",props:{tabs:{},activeTab:{}},emits:["change"],setup:e=>(e,t)=>{const n=s,a=g;return i(),r(n,{class:"navbar"},{default:d(()=>[(i(!0),u(p,null,v(e.tabs,t=>(i(),r(n,{key:t.id,class:h(["nav-item",e.activeTab===t.id&&"active"]),onClick:n=>e.$emit("change",t.id)},{default:d(()=>[f(n,{class:"nav-icon"},{default:d(()=>[f(de,{name:t.icon,size:22},null,8,["name"])]),_:2},1024),f(a,{class:"nav-label"},{default:d(()=>[w(y(t.label),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})}}),[["__scopeId","data-v-0075c068"]]),ve=Y(o({__name:"TopNavBar",props:{title:{},showBack:{type:Boolean}},emits:["back"],setup:e=>(e,t)=>{const n=s,a=g;return i(),r(n,{class:"top-navbar"},{default:d(()=>[f(n,{class:"nav-left"},{default:d(()=>[e.showBack?(i(),r(n,{key:0,class:"nav-btn",onClick:t[0]||(t[0]=t=>e.$emit("back"))},{default:d(()=>[f(de,{name:"arrow-left",size:20})]),_:1})):m("",!0)]),_:1}),f(n,{class:"nav-center"},{default:d(()=>[f(a,{class:"nav-title"},{default:d(()=>[w(y(e.title),1)]),_:1})]),_:1}),f(n,{class:"nav-right"},{default:d(()=>[k(e.$slots,"right",{},void 0,!0)]),_:3})]),_:3})}}),[["__scopeId","data-v-abcae6c7"]]),pe=Y(o({__name:"AppLayout",props:{title:{default:""},showTopNav:{type:Boolean,default:!1},showBack:{type:Boolean,default:!1},tabs:{default:()=>[]},activeTab:{default:""},allowScroll:{type:Boolean,default:!0}},emits:["back","tab-change"],setup(e,{emit:t}){const n="undefined"!=typeof window&&"1"===new URLSearchParams(window.location.search).get("embedded"),a=e,o=t,c=l(()=>a.activeTab||""),u=()=>{o("back");const e=_();e&&e.length>1&&x({delta:1})};return(e,t)=>{const a=s;return i(),r(a,{class:h(["mobile-container",b(n)&&"embedded"])},{default:d(()=>[f(a,{class:"aspect-wrapper"},{default:d(()=>[f(a,{class:"app-layout"},{default:d(()=>[e.showTopNav?(i(),r(ve,{key:0,title:e.title??"","show-back":e.showBack,onBack:u},null,8,["title","show-back"])):m("",!0),f(a,{class:"app-content"},{default:d(()=>[k(e.$slots,"default",{},void 0,!0)]),_:3}),e.tabs&&e.tabs.length>0?(i(),r(ue,{key:1,tabs:e.tabs,"active-tab":c.value,onChange:t[0]||(t[0]=t=>e.$emit("tab-change",t))},null,8,["tabs","active-tab"])):m("",!0)]),_:3})]),_:3})]),_:3},8,["class"])}}}),[["__scopeId","data-v-203546fb"]]),he=Y(o({__name:"NeoButton",props:{variant:{default:"primary"},size:{default:"md"},block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["click"],setup:e=>(e,t)=>{const n=s,a=C;return i(),r(a,{class:h(["neo-btn",`neo-btn--${e.variant}`,`neo-btn--${e.size}`,{"neo-btn--block":e.block,"neo-btn--loading":e.loading}]),disabled:e.disabled||e.loading,"aria-busy":e.loading,"aria-disabled":e.disabled||e.loading,onClick:t[0]||(t[0]=t=>e.$emit("click",t))},{default:d(()=>[e.loading?(i(),r(n,{key:0,class:"neo-btn__spinner"})):k(e.$slots,"default",{key:1},void 0,!0)]),_:3},8,["class","disabled","aria-busy","aria-disabled"])}}),[["__scopeId","data-v-554bd0de"]]),fe=Y(o({__name:"NeoCard",props:{title:{default:void 0},variant:{default:"default"},hoverable:{type:Boolean,default:!1},flat:{type:Boolean,default:!1}},emits:["click"],setup:e=>(e,t)=>{const n=g,a=s;return i(),r(a,{class:h(["neo-card",`neo-card--${e.variant}`,{"neo-card--hoverable":e.hoverable,"neo-card--flat":e.flat}]),onClick:t[0]||(t[0]=t=>e.hoverable&&e.$emit("click",t))},{default:d(()=>[e.title||e.$slots.header?(i(),r(a,{key:0,class:"neo-card__header"},{default:d(()=>[e.title?(i(),r(n,{key:0,class:"neo-card__title"},{default:d(()=>[w(y(e.title),1)]),_:1})):m("",!0),k(e.$slots,"header",{},void 0,!0)]),_:3})):m("",!0),f(a,{class:"neo-card__body"},{default:d(()=>[k(e.$slots,"default",{},void 0,!0)]),_:3}),e.$slots.footer?(i(),r(a,{key:1,class:"neo-card__footer"},{default:d(()=>[k(e.$slots,"footer",{},void 0,!0)]),_:3})):m("",!0)]),_:3},8,["class"])}}),[["__scopeId","data-v-1379b0b6"]]),ge=Y(o({__name:"NeoInput",props:{modelValue:{},type:{},label:{},placeholder:{},suffix:{},suffixIcon:{},hint:{},error:{},disabled:{type:Boolean}},emits:["update:modelValue","focus","blur"],setup:e=>(e,t)=>{const n=g,a=M,o=A,l=s;return i(),r(l,{class:h(["neo-input",{"neo-input--error":e.error,"neo-input--disabled":e.disabled}])},{default:d(()=>[e.label?(i(),r(n,{key:0,class:"neo-input__label"},{default:d(()=>[w(y(e.label),1)]),_:1})):m("",!0),f(l,{class:"neo-input__wrapper"},{default:d(()=>["textarea"===e.type?(i(),r(a,{key:0,value:e.modelValue,placeholder:e.placeholder,disabled:e.disabled,class:"neo-input__field neo-input__textarea",onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.detail.value)),onFocus:t[1]||(t[1]=t=>e.$emit("focus",t)),onBlur:t[2]||(t[2]=t=>e.$emit("blur",t))},null,8,["value","placeholder","disabled"])):(i(),r(o,{key:1,value:e.modelValue,type:e.type,placeholder:e.placeholder,disabled:e.disabled,class:"neo-input__field",onInput:t[3]||(t[3]=t=>e.$emit("update:modelValue",t.detail.value)),onFocus:t[4]||(t[4]=t=>e.$emit("focus",t)),onBlur:t[5]||(t[5]=t=>e.$emit("blur",t))},null,8,["value","type","placeholder","disabled"])),e.suffixIcon||e.suffix?(i(),r(l,{key:2,class:"neo-input__suffix"},{default:d(()=>[e.suffixIcon?(i(),r(b(de),{key:0,name:e.suffixIcon,size:18},null,8,["name"])):m("",!0),e.suffix?(i(),r(n,{key:1},{default:d(()=>[w(y(e.suffix),1)]),_:1})):m("",!0)]),_:1})):m("",!0)]),_:1}),e.error?(i(),r(n,{key:1,class:"neo-input__error"},{default:d(()=>[w(y(e.error),1)]),_:1})):e.hint?(i(),r(n,{key:2,class:"neo-input__hint"},{default:d(()=>[w(y(e.hint),1)]),_:1})):m("",!0)]),_:1},8,["class"])}}),[["__scopeId","data-v-a3929104"]]),we=Y(o({__name:"ScrollReveal",props:{animation:{default:"fade-up"},delay:{default:0},duration:{default:800},threshold:{default:.1},offset:{default:-50},reversible:{type:Boolean,default:!1}},setup(t,{expose:o}){const l=t,u=e(!1),v=S();let p=null;return n(()=>{setTimeout(()=>{v&&(setTimeout(()=>{u.value||(u.value=!0)},500),p=z(v),p.relativeToViewport({bottom:l.offset}).observe(".scroll-reveal",e=>{e.intersectionRatio>0?(u.value=!0,l.reversible||p.disconnect()):l.reversible&&(u.value=!1)}))},100)}),o({isVisible:u}),a(()=>{p&&p.disconnect()}),(e,t)=>{const n=s;return i(),r(n,{class:h(["scroll-reveal",[e.animation,{"is-visible":u.value}]]),style:c({transitionDelay:e.delay+"ms",transitionDuration:e.duration+"ms"})},{default:d(()=>[k(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","style"])}}}),[["__scopeId","data-v-20f0056e"]]),ye=Y(o({__name:"NeoDoc",props:{title:{},subtitle:{},description:{},steps:{},features:{}},setup(e){const{t:t}=te();return(e,n)=>{const a=s,o=g;return i(),r(a,{class:"neo-doc"},{default:d(()=>[f(a,{class:"doc-header"},{default:d(()=>[f(we,{animation:"fade-down",duration:1e3},{default:d(()=>[f(a,{class:"title-row"},{default:d(()=>[f(a,{class:"doc-badge"},{default:d(()=>[w(y(b(t)("docBadge")),1)]),_:1})]),_:1}),f(o,{class:"doc-title"},{default:d(()=>[w(y(e.title),1)]),_:1}),f(o,{class:"doc-subtitle"},{default:d(()=>[w(y(e.subtitle),1)]),_:1})]),_:1})]),_:1}),f(a,{class:"doc-content"},{default:d(()=>[f(a,{class:"doc-section"},{default:d(()=>[f(we,{animation:"fade-up",delay:200},{default:d(()=>[f(o,{class:"section-label"},{default:d(()=>[w(y(b(t)("docWhatItIs")),1)]),_:1}),f(o,{class:"section-text"},{default:d(()=>[w(y(e.description),1)]),_:1})]),_:1})]),_:1}),f(a,{class:"doc-section"},{default:d(()=>[f(we,{animation:"fade-up",delay:300},{default:d(()=>[f(o,{class:"section-label"},{default:d(()=>[w(y(b(t)("docHowToUse")),1)]),_:1})]),_:1}),f(a,{class:"steps-list"},{default:d(()=>[(i(!0),u(p,null,v(e.steps,(e,t)=>(i(),r(we,{key:t,delay:400+100*t,animation:"slide-left"},{default:d(()=>[f(a,{class:"step-item"},{default:d(()=>[f(a,{class:"step-number"},{default:d(()=>[w(y(t+1),1)]),_:2},1024),f(o,{class:"step-text"},{default:d(()=>[w(y(e),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["delay"]))),128))]),_:1})]),_:1}),f(a,{class:"doc-section"},{default:d(()=>[f(we,{animation:"fade-up",delay:400},{default:d(()=>[f(o,{class:"section-label"},{default:d(()=>[w(y(b(t)("docOnChainFeatures")),1)]),_:1})]),_:1}),f(a,{class:"features-grid"},{default:d(()=>[(i(!0),u(p,null,v(e.features,(e,t)=>(i(),r(we,{key:e.name,delay:500+100*t,animation:"scale-in",reversible:""},{default:d(()=>[f(a,{class:"feature-card"},{default:d(()=>[f(o,{class:"feature-name"},{default:d(()=>[w(y(e.name),1)]),_:2},1024),f(o,{class:"feature-desc"},{default:d(()=>[w(y(e.desc),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["delay"]))),128))]),_:1})]),_:1})]),_:1}),f(a,{class:"doc-footer"},{default:d(()=>[f(we,{animation:"fade-up",delay:800},{default:d(()=>[f(o,{class:"footer-text"},{default:d(()=>[w(y(b(t)("docFooter")),1)]),_:1})]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-eb223f14"]]),me=Y(o({__name:"Fireworks",props:{active:{type:Boolean},duration:{}},setup(t){const o=t,l=e(null),u=e(300),v=e(600);let p=null,h=null,f=[];class g{constructor(e,t,n){this.x=e,this.y=t;const a=Math.random()*Math.PI*2,o=4*Math.random()+2;this.vx=Math.cos(a)*o,this.vy=Math.sin(a)*o,this.alpha=1,this.color=n,this.decay=.015*Math.random()+.015}update(){this.x+=this.vx,this.y+=this.vy,this.vy+=.05,this.alpha-=this.decay}draw(e){e.save(),e.globalAlpha=this.alpha,e.fillStyle=this.color,e.beginPath(),e.arc(this.x,this.y,2,0,2*Math.PI),e.fill(),e.restore()}}const w=["#FF4D4D","#FFDE59","#00E599","#A855F7","#FFFFFF"],y=(e,t)=>{const n=30+20*Math.random(),a=w[Math.floor(Math.random()*w.length)];for(let o=0;o<n;o++)f.push(new g(e,t,a))},k=()=>{if(p&&u.value){p.globalCompositeOperation="destination-out",p.fillStyle="rgba(0, 0, 0, 0.1)",p.fillRect(0,0,u.value,v.value),p.globalCompositeOperation="lighter";for(let e=f.length-1;e>=0;e--){const t=f[e];t.update(),t.draw(p),t.alpha<=0&&f.splice(e,1)}Math.random()<.05&&y(Math.random()*u.value,Math.random()*v.value*.6+.1*v.value),h=requestAnimationFrame(k)}},b=()=>{if(!l.value)return;const e=L();u.value=e.windowWidth,v.value=e.windowHeight,setTimeout(()=>{l.value&&(p=l.value.getContext("2d"),p&&(f=[],k(),y(.5*u.value,.3*v.value),o.duration&&setTimeout(()=>{_()},o.duration)))},100)},_=()=>{h&&(cancelAnimationFrame(h),h=null),p=null,f=[]};return E(()=>o.active,e=>{e?b():_()}),n(()=>{o.active&&b()}),a(()=>{_()}),(e,t)=>{const n=B,a=s;return i(),r(a,{class:"fireworks-container",style:{pointerEvents:"none"}},{default:d(()=>[e.active?(i(),r(n,{key:0,ref_key:"canvasRef",ref:l,class:"fireworks-canvas",style:c({width:u.value+"px",height:v.value+"px"})},null,8,["style"])):m("",!0)]),_:1})}}}),[["__scopeId","data-v-b6ed5fc5"]]),ke=Y(o({__name:"LuckyOverlay",props:{luckyMessage:{},t:{type:Function}},emits:["close"],setup:e=>(e,t)=>{const n=s,a=g;return e.luckyMessage?(i(),r(n,{key:0,class:"lucky-overlay",onClick:t[2]||(t[2]=t=>e.$emit("close"))},{default:d(()=>[f(n,{class:"lucky-card-glass",onClick:t[1]||(t[1]=I(()=>{},["stop"]))},{default:d(()=>[f(n,{class:"card-glow"}),f(n,{class:"lucky-content"},{default:d(()=>[f(a,{class:"lucky-header"},{default:d(()=>[w("ğŸ‰ "+y(e.t("congratulations"))+" ğŸ‰",1)]),_:1}),f(n,{class:"amount-circle"},{default:d(()=>[f(n,{class:"amount-inner"},{default:d(()=>[f(a,{class:"lucky-amount"},{default:d(()=>[w(y(e.luckyMessage.amount),1)]),_:1}),f(a,{class:"lucky-currency"},{default:d(()=>[w("GAS")]),_:1})]),_:1})]),_:1}),f(n,{class:"sender-pill"},{default:d(()=>[f(a,{class:"from-label"},{default:d(()=>[w(y(e.t("fromPrefix")),1)]),_:1}),f(a,{class:"from-address"},{default:d(()=>[w(y(e.luckyMessage.from),1)]),_:1})]),_:1}),f(b(he),{variant:"primary",size:"lg",block:"",class:"confirm-btn",onClick:t[0]||(t[0]=t=>e.$emit("close"))},{default:d(()=>[f(a,null,{default:d(()=>[w(y(e.t("confirm")),1)]),_:1})]),_:1})]),_:1}),f(n,{class:"coins-rain"},{default:d(()=>[(i(),u(p,null,v(15,e=>f(n,{key:e,class:"coin-item",style:c({animationDelay:2*Math.random()+"s",left:100*Math.random()+"%"})},{default:d(()=>[f(b(de),{name:"money",size:24,class:"text-gold"})]),_:2},1032,["style"])),64))]),_:1})]),_:1})]),_:1})):m("",!0)}}),[["__scopeId","data-v-dfe809e5"]]),be=Y(o({__name:"OpeningModal",props:{visible:{type:Boolean},envelope:{},isConnected:{type:Boolean},isOpening:{type:Boolean}},emits:["connect","open","close"],setup(e,{emit:t}){const n=e,{t:a}=te(),o=t,l=()=>{o("connect")},c=()=>{n.isConnected?o("open"):o("connect")};return(e,t)=>{const n=s,o=g;return e.visible?(i(),r(n,{key:0,class:"opening-overlay"},{default:d(()=>[f(n,{class:"envelope-stage"},{default:d(()=>[f(n,{class:h(["red-packet",{"is-opening":e.isOpening,"is-shaking":!e.isOpening}]),onClick:c},{default:d(()=>[f(n,{class:"packet-lid"}),f(n,{class:"packet-body"},{default:d(()=>[f(n,{class:"packet-seal"},{default:d(()=>[f(o,{class:"seal-text"},{default:d(()=>[w(y(b(a)("open")),1)]),_:1})]),_:1})]),_:1}),f(n,{class:"packet-content"},{default:d(()=>{var t;return[f(o,{class:"packet-msg"},{default:d(()=>{var t;return[w(y((null==(t=e.envelope)?void 0:t.from)?b(a)("fromLabel",{name:e.envelope.from}):b(a)("luckyPacket")),1)]}),_:1}),(null==(t=e.envelope)?void 0:t.description)?(i(),r(o,{key:0,class:"packet-note"},{default:d(()=>[w(y(e.envelope.description),1)]),_:1})):m("",!0)]}),_:1})]),_:1},8,["class"]),f(n,{class:"action-area"},{default:d(()=>[e.isConnected?(i(),r(b(he),{key:1,variant:"secondary",size:"lg",class:"action-btn",loading:e.isOpening,onClick:c},{default:d(()=>[w(y(e.isOpening?b(a)("opening"):b(a)("openNow")),1)]),_:1},8,["loading"])):(i(),r(b(he),{key:0,variant:"primary",size:"lg",class:"action-btn",onClick:l},{default:d(()=>[w(y(b(a)("connectAndOpen")),1)]),_:1}))]),_:1})]),_:1})]),_:1})):m("",!0)}}}),[["__scopeId","data-v-71fa51bc"]]),_e=Y(o({__name:"AppStatus",props:{status:{}},setup:e=>(e,t)=>{const n=g;return e.status?(i(),r(b(fe),{key:0,variant:"success"===e.status.type?"success":"danger",class:"status-card"},{default:d(()=>[f(n,{class:"status-text"},{default:d(()=>[w(y(e.status.msg),1)]),_:1})]),_:1},8,["variant"])):m("",!0)}}),[["__scopeId","data-v-7f26f7de"]]),xe=Y(o({__name:"CreateEnvelopeForm",props:{name:{},description:{},amount:{},count:{},expiryHours:{},isLoading:{type:Boolean},t:{type:Function}},emits:["update:name","update:description","update:amount","update:count","update:expiryHours","create"],setup:e=>(e,t)=>{const n=s,a=g;return i(),r(b(fe),{variant:"erobo-neo"},{default:d(()=>[f(n,{class:"input-group"},{default:d(()=>[f(b(ge),{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:name",t)),placeholder:e.t("namePlaceholder")},null,8,["modelValue","placeholder"]),f(b(ge),{modelValue:e.description,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:description",t)),placeholder:e.t("defaultBlessing")},null,8,["modelValue","placeholder"]),f(b(ge),{modelValue:e.amount,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:amount",t)),type:"number",placeholder:e.t("totalGasPlaceholder"),suffix:"GAS"},null,8,["modelValue","placeholder"]),f(b(ge),{modelValue:e.count,"onUpdate:modelValue":t[3]||(t[3]=t=>e.$emit("update:count",t)),type:"number",placeholder:e.t("packetsPlaceholder")},null,8,["modelValue","placeholder"]),f(b(ge),{modelValue:e.expiryHours,"onUpdate:modelValue":t[4]||(t[4]=t=>e.$emit("update:expiryHours",t)),type:"number",placeholder:e.t("expiryPlaceholder"),suffix:"h"},null,8,["modelValue","placeholder"])]),_:1}),f(b(he),{variant:"primary",size:"lg",block:"",loading:e.isLoading,onClick:t[5]||(t[5]=t=>e.$emit("create")),class:"send-button"},{default:d(()=>[f(n,{class:"btn-content"},{default:d(()=>[f(b(de),{name:"envelope",size:24}),f(a,{class:"button-text"},{default:d(()=>[w(y(e.t("sendRedEnvelope")),1)]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1})}}),[["__scopeId","data-v-30456d9b"]]),Ce=Y(o({__name:"EnvelopeList",props:{envelopes:{},loadingEnvelopes:{type:Boolean},openingId:{},t:{type:Function}},emits:["claim","share"],setup:e=>(e,t)=>{const n=s,a=g;return i(),r(b(fe),{variant:"erobo"},{default:d(()=>[e.loadingEnvelopes?(i(),r(n,{key:0,class:"empty-state"},{default:d(()=>[w(y(e.t("loadingEnvelopes")),1)]),_:1})):e.envelopes.length?(i(),r(n,{key:2,class:"envelope-list"},{default:d(()=>[(i(!0),u(p,null,v(e.envelopes,t=>(i(),r(n,{key:t.id,class:h(["glass-envelope",{disabled:!t.canClaim}]),onClick:n=>e.$emit("claim",t)},{default:d(()=>[f(n,{class:"envelope-content"},{default:d(()=>[f(n,{class:"envelope-icon"},{default:d(()=>[f(a,{class:"envelope-symbol"},{default:d(()=>[w("ç¦")]),_:1})]),_:1}),f(n,{class:"envelope-info"},{default:d(()=>[t.name?(i(),r(a,{key:0,class:"envelope-name"},{default:d(()=>[w(y(t.name),1)]),_:2},1024)):m("",!0),f(a,{class:"envelope-from"},{default:d(()=>[w(y(t.from),1)]),_:2},1024),f(a,{class:"envelope-detail"},{default:d(()=>[w(y(e.t("remaining").replace("{0}",String(t.remaining)).replace("{1}",String(t.total)))+" Â· "+y(t.totalAmount.toFixed(2))+" GAS ",1)]),_:2},1024),t.bestLuckAddress&&t.bestLuckAmount?(i(),r(n,{key:1,class:"best-luck"},{default:d(()=>[f(a,{class:"best-luck-icon"},{default:d(()=>[w("ğŸ‰")]),_:1}),f(a,{class:"best-luck-text"},{default:d(()=>{return[w(y(e.t("bestLuck"))+": "+y((n=t.bestLuckAddress,!n||n.length<12?n:`${n.slice(0,6)}...${n.slice(-4)}`))+" ("+y((t.bestLuckAmount/1e8).toFixed(4))+" GAS)",1)];var n}),_:2},1024)]),_:2},1024)):m("",!0)]),_:2},1024),f(n,{class:"envelope-status"},{default:d(()=>[f(a,{class:h(["status-badge",{"status-ready":t.canClaim,"status-pending":!t.ready&&!t.expired,"status-expired":t.expired}])},{default:d(()=>[w(y(t.expired?e.t("expired"):t.ready?e.t("ready"):e.t("notReady")),1)]),_:2},1032,["class"]),f(n,{class:"share-btn",onClick:I(n=>e.$emit("share",t),["stop"])},{default:d(()=>[f(a,null,{default:d(()=>[w("ğŸ”—")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})):(i(),r(n,{key:1,class:"empty-state"},{default:d(()=>[w(y(e.t("noEnvelopes")),1)]),_:1}))]),_:1})}}),[["__scopeId","data-v-c7e207fa"]]),Me="miniapp-redenvelope",Ae=Y(o({__name:"index",setup(t){const{t:a}=te(),{address:o,connect:c,invokeContract:u,invokeRead:v,chainType:p,getContractAddress:h,switchToAppChain:k}=Q(),{payGAS:_,isLoading:x}=function(e){const{isLoading:t,error:n,execute:a}=W(async(t,n)=>{const a=parseFloat(t);if(Number.isNaN(a)||a<=0)throw new Error("Invalid amount: must be a positive number");const o=await D();return o.payments.payGASAndInvoke?await o.payments.payGASAndInvoke(e,t,n):await o.payments.payGAS(e,t,n)});return{isLoading:t,error:n,payGAS:a}}(Me),{list:C}=function(){const e=W(async(e={})=>{var t;const n=await D();if(!(null==(t=n.events)?void 0:t.list))throw new Error("events.list not available");return await n.events.list(e)}),t=W(async(e,t)=>{var n;const a=String(e||"").trim();if(!a)throw new Error("eventName required");const o=await D();if(!(null==(n=o.events)?void 0:n.emit))throw new Error("events.emit not available");return await o.events.emit(a,t||{})});return{isLoading:e.isLoading,error:e.error,list:e.execute,isEmitting:t.isLoading,emitError:t.error,emit:t.execute}}(),M=e("create"),A=l(()=>[{id:"create",label:a("createTab"),icon:"envelope"},{id:"claim",label:a("claimTab"),icon:"gift"},{id:"docs",label:a("docs"),icon:"book"}]),z=l(()=>[a("step1"),a("step2"),a("step3"),a("step4")]),S=l(()=>[{name:a("feature1Name"),desc:a("feature1Desc")},{name:a("feature2Name"),desc:a("feature2Desc")}]),B=e(""),L=e(""),I=e(""),T=e(""),P=e("24"),V=e(null),H=e(null),$=e(null),O=e(null),F=e(!1),R=e(!1),G=e(null),U=e([]),K=async(e,t)=>{for(let n=0;n<20;n+=1){const n=(await C({app_id:Me,event_name:t,limit:25})).events.find(t=>t.tx_hash===e);if(n)return n;await le(1500)}return null},j=async()=>{if(!function(e,t){if(!function(e){return"evm"===function(e){if("string"==typeof e)return e;const t=null==e?void 0:e.value;return"string"==typeof t?t:""}(e)}(e))return!0;let n="";if(!n&&"function"==typeof t){const e=t("wrongChainMessage");n=e&&"wrongChainMessage"!==e?e:t("wrongChain")}n||(n="Wrong network");const a=globalThis.uni;return(null==a?void 0:a.showToast)&&a.showToast({title:n,icon:"none"}),!1}(p,a))throw new Error(a("wrongChain"));if(O.value||(O.value=await h()),!O.value)throw new Error(a("contractUnavailable"));return O.value},q=async(e,t,n)=>{try{const o=await v({scriptHash:e,operation:"getEnvelope",args:[{type:"Integer",value:t}]}),l=(a=se(o))?Array.isArray(a)?{creator:String(a[0]??""),totalAmount:Number(a[1]??0),packetCount:Number(a[2]??0),claimedCount:Number(a[3]??0),remainingAmount:Number(a[4]??0),bestLuckAddress:String(a[5]??""),bestLuckAmount:Number(a[6]??0),ready:Boolean(a[7]),expiryTime:Number(a[8]??0)}:"object"==typeof a?{creator:String(a.creator??""),totalAmount:Number(a.totalAmount??0),packetCount:Number(a.packetCount??0),claimedCount:Number(a.claimedCount??0),remainingAmount:Number(a.remainingAmount??0),bestLuckAddress:String(a.bestLuckAddress??""),bestLuckAmount:Number(a.bestLuckAmount??0),ready:Boolean(a.ready??!1),expiryTime:Number(a.expiryTime??0)}:null:null;if(!l)return null;const r=Number(l.packetCount||(null==n?void 0:n.packetCount)||0),i=Number(l.claimedCount||0),s=Math.max(0,r-i),c=Boolean(l.ready),d=Number(l.expiryTime||0),u=d>0&&Date.now()>1e3*d,p=ne(l.totalAmount||(null==n?void 0:n.totalAmount)||0),h=c&&!u&&s>0,f=l.creator||(null==n?void 0:n.creator)||"";return{id:t,creator:f,from:oe(f),total:r,remaining:s,totalAmount:p,bestLuckAddress:l.bestLuckAddress||void 0,bestLuckAmount:l.bestLuckAmount||void 0,ready:c,expired:u,canClaim:h}}catch{return null}var a},J=async()=>{if(O.value||(O.value=await j()),O.value){F.value=!0;try{const e=await C({app_id:Me,event_name:"EnvelopeCreated",limit:25}),t=new Set,n=await Promise.all(e.events.map(async e=>{const n=Array.isArray(null==e?void 0:e.state)?e.state.map(ie):[],a=String(n[0]??"");return!a||t.has(a)?null:(t.add(a),q(O.value,a,{creator:String(n[1]??""),totalAmount:Number(n[2]??0),packetCount:Number(n[3]??0)}))}));U.value=n.filter(Boolean).sort((e,t)=>Number(t.id)-Number(e.id))}catch(e){V.value={msg:(null==e?void 0:e.message)||a("error"),type:"error"}}finally{F.value=!1}}},Y=l(()=>a("defaultBlessing")),Z=async()=>{if(!x.value)try{if(V.value=null,o.value||await c(),!o.value)throw new Error(a("connectWallet"));const e=await j(),t=Number(I.value),n=Number(T.value);if(!Number.isFinite(t)||t<.1)throw new Error(a("invalidAmount"));if(!Number.isFinite(n)||n<1||n>100)throw new Error(a("invalidPackets"));if(t<.01*n)throw new Error(a("invalidPerPacket"));const l=Number(P.value);if(!Number.isFinite(l)||l<=0)throw new Error(a("invalidExpiry"));const r=Math.round(3600*l),i=(await _(I.value,`redenvelope:${T.value}`)).receipt_id;if(!i)throw new Error(a("receiptMissing"));const s=L.value.trim()||Y.value,d=await u({scriptHash:e,operation:"createEnvelope",args:[{type:"Hash160",value:o.value},{type:"String",value:B.value||""},{type:"String",value:s},{type:"Integer",value:ae(I.value)},{type:"Integer",value:String(n)},{type:"Integer",value:String(r)},{type:"Integer",value:i}]}),v=String((null==d?void 0:d.txid)||(null==d?void 0:d.txHash)||"");if(!(v?await K(v,"EnvelopeCreated"):null))throw new Error(a("envelopePending"));V.value={msg:a("envelopeSent"),type:"success"},B.value="",L.value="",I.value="",T.value="",await J()}catch(e){V.value={msg:(null==e?void 0:e.message)||a("error"),type:"error"}}},X=async()=>{try{await c()}catch{}},ee=e=>{const t=`${window.location.origin}${window.location.pathname}?id=${e.id}`;N({data:t,success:()=>{V.value={msg:a("copied"),type:"success"},setTimeout(()=>{V.value=null},2e3)}})},re=e=>{G.value=e,R.value=!0};return n(async()=>{if(await J(),"undefined"!=typeof window){const e=new URLSearchParams(window.location.search).get("id");if(e){const t=U.value.find(t=>t.id===e);if(t)re(t),M.value="claim";else{const t=await j(),n=await q(t,e);n&&(G.value=n,R.value=!0,M.value="claim")}}}}),E(M,async e=>{"claim"===e&&await J()}),(e,t)=>{const n=g,l=s;return i(),r(b(pe),{class:"theme-red-envelope",tabs:A.value,"active-tab":M.value,onTabChange:t[9]||(t[9]=e=>M.value=e)},{default:d(()=>["evm"===b(p)?(i(),r(l,{key:0,class:"px-4 mb-4"},{default:d(()=>[f(b(fe),{variant:"danger"},{default:d(()=>[f(l,{class:"flex flex-col items-center gap-2 py-1"},{default:d(()=>[f(n,{class:"text-center font-bold text-red-400"},{default:d(()=>[w(y(b(a)("wrongChain")),1)]),_:1}),f(n,{class:"text-xs text-center opacity-80 text-white"},{default:d(()=>[w(y(b(a)("wrongChainMessage")),1)]),_:1}),f(b(he),{size:"sm",variant:"secondary",class:"mt-2",onClick:t[0]||(t[0]=()=>b(k)())},{default:d(()=>[w(y(b(a)("switchToNeo")),1)]),_:1})]),_:1})]),_:1})]),_:1})):m("",!0),"create"===M.value||"claim"===M.value?(i(),r(l,{key:1,class:"app-container"},{default:d(()=>[f(ke,{"lucky-message":H.value,t:b(a),onClose:t[1]||(t[1]=e=>H.value=null)},null,8,["lucky-message","t"]),f(b(me),{active:!!H.value,duration:3e3},null,8,["active"]),f(be,{visible:R.value,envelope:G.value,"is-connected":!!b(o),"is-opening":!!$.value,onConnect:X,onOpen:t[2]||(t[2]=()=>G.value&&(async e=>{if(!$.value&&(o.value||(await c(),o.value)))try{V.value=null;const t=await j();if(e.expired)throw new Error(a("envelopeExpired"));if(!e.ready)throw new Error(a("envelopeNotReady"));if(e.remaining<=0)throw new Error(a("envelopeEmpty"));const n=await v({scriptHash:t,operation:"hasClaimed",args:[{type:"Integer",value:e.id},{type:"Hash160",value:o.value}]});if(Boolean(se(n)))throw new Error(a("alreadyClaimed"));$.value=e.id;const l=await u({scriptHash:t,operation:"claim",args:[{type:"Integer",value:e.id},{type:"Hash160",value:o.value}]}),r=String((null==l?void 0:l.txid)||(null==l?void 0:l.txHash)||""),i=r?await K(r,"EnvelopeClaimed"):null;if(!i)throw new Error(a("claimPending"));const s=Array.isArray(null==i?void 0:i.state)?i.state.map(ie):[],c=ne(Number(s[2]??0)),d=Number(s[3]??e.remaining);R.value=!1,H.value={amount:Number(c.toFixed(2)),from:e.from},e.remaining=Math.max(0,d),e.canClaim=e.remaining>0&&e.ready&&!e.expired,V.value={msg:a("claimedFrom").replace("{0}",e.from),type:"success"},await J()}catch(t){V.value={msg:(null==t?void 0:t.message)||a("error"),type:"error"},R.value=!1}finally{$.value=null}})(G.value,!0)),onClose:t[3]||(t[3]=e=>R.value=!1)},null,8,["visible","envelope","is-connected","is-opening"]),f(_e,{status:V.value},null,8,["status"]),"create"===M.value?(i(),r(l,{key:0,class:"tab-content"},{default:d(()=>[f(xe,{name:B.value,"onUpdate:name":t[4]||(t[4]=e=>B.value=e),description:L.value,"onUpdate:description":t[5]||(t[5]=e=>L.value=e),amount:I.value,"onUpdate:amount":t[6]||(t[6]=e=>I.value=e),count:T.value,"onUpdate:count":t[7]||(t[7]=e=>T.value=e),expiryHours:P.value,"onUpdate:expiryHours":t[8]||(t[8]=e=>P.value=e),"is-loading":b(x),t:b(a),onCreate:Z},null,8,["name","description","amount","count","expiryHours","is-loading","t"])]),_:1})):m("",!0),"claim"===M.value?(i(),r(l,{key:1,class:"tab-content"},{default:d(()=>[f(Ce,{envelopes:U.value,"loading-envelopes":F.value,"opening-id":$.value,t:b(a),onClaim:re,onShare:ee},null,8,["envelopes","loading-envelopes","opening-id","t"])]),_:1})):m("",!0)]),_:1})):m("",!0),"docs"===M.value?(i(),r(l,{key:2,class:"tab-content scrollable"},{default:d(()=>[f(b(ye),{title:b(a)("title"),subtitle:b(a)("docSubtitle"),description:b(a)("docDescription"),steps:z.value,features:S.value},null,8,["title","subtitle","description","steps","features"])]),_:1})):m("",!0)]),_:1},8,["tabs","active-tab"])}}}),[["__scopeId","data-v-fac1452d"]]);export{Ae as default};
